//idle
// <1 color
//qvpiecex (qv piece)
//undo
//level no.
//color
//fullscreen
//level123
//leveltext
//off globe animation
//bgInGame
//jackpot
//sound
//stage callback
//move callback
//Main.stageselect
//Main.game
//playboard init callback

function getStorage(){var e;try{window.company.localStorage.setItem("storage",""),window.company.localStorage.removeItem("storage"),e=window.company.localStorage}catch(t){e=new localStorageAlternative}return e}function setStorage(){objGameStorage.setItem(GAME_VERSION,JSON.stringify(objGameSave))}function localStorageAlternative(){var e={};this.setItem=function(t,i){e[t]=i},this.getItem=function(t){return"undefined"!=typeof e[t]?e[t]:null},this.removeItem=function(t){e[t]=void 0}}var game=null,GAME_NAME="Crush",GAME_VERSION="1.65",
/***/
REAL_WIDTH=480,REAL_HEIGHT=720,SCALED_WIDTH=480,SCALED_HEIGHT=720,

/*crush*/
piecex="c",

/*select1*/
bgg,cl,tt,
/*fix*/
minx,maxx,

/*text*/
target="",targetcount,

/*temp*/
tutor=[0,4,6,10,9,7,8],defpiecex="c",

objGameModule=null,objAudioHandler=null,URL_MOREGAMES="http://m.tactictos.com/meatstacker",LANG="eg",TILE_WIDTH=62,TILE_HEIGHT=62,STATE_PLAY=0,STATE_PAUSE=1,STATE_WAIT=2,INPUT_PRESS=1,INPUT_RELEASE=2,INPUT_LOCKED=3,DIR_UP=3,DIR_DOWN=2,DIR_LEFT=1,DIR_RIGHT=0,DROP_DELAY_PERTILE=150,MAX_DROP_DELAY=380,COLORBOMB_WAIT_DELAY=150,STD_IDLE_TIME=250,TARGETTYPE_JELLY=1,TARGETTYPE_INGREDIENTS=2,TARGETTYPE_CREAM=3,TARGETTYPE_CHOCO=4,EVT_REDUCEMOVE=0,EVT_ADDSCORE=1,EVT_CHECKLOSE=2,EVT_WIN_START=3,EVT_WIN_END=4,BAR_WIDTH=127,PIECETYPE_NORMAL=0,PIECETYPE_ITEM_HSTRIPE=1,PIECETYPE_ITEM_VSTRIPE=2,PIECETYPE_ITEM_AREA=3,PIECETYPE_ITEM_COLOR=4,PIECETYPE_MERINGUE=5,PIECETYPE_LOCKED=6,PIECETYPE_INGREDIENT=7,PIECETYPE_CHOCOLATE=8,POOLER_PARTICLE1=0,POOLER_PARTICLE2=1,POOLER_PARTICLE3=2,POOLER_PARTICLE4=3,POOLER_SCOREDIGIT1=5,POOLER_SCOREDIGIT2=6,POOLER_SCOREDIGIT3=7,POOLER_SCOREDIGIT4=8,POOLER_SCOREDIGIT5=9,POOLER_SCOREDIGIT6=10,STRIPE_POSITION=[[-10,-20],[-10,0],[-10,20],[10,-20],[10,0],[10,20]],TOTAL_LEVEL=150,

//level123 adjusted
//was 62-64
STAGESELECT_POSITION=[[267,345],[226,371],[282,373],
[1068,215],[1013,178],[1005,284],[1024,308],[1042,333],[1075,341],[1070,396],[1072,434],[999,462],[1014,402],[998,370],[968,376],[941,411],[909,395],[875,367],[927,352],[944,277],[965,310],[895,250],[833,250],[792,250],[800,294],[860,305],[815,337],[764,220],[840,173],[764,132],
//62-64
[720,185],[637,253],[691,254],[735,304],[646,307],[598,199],[596,94],[537,129],[439,115],[393,100],[410,163],[362,184],[273,157],[225,185],[125,172],[147,217],[190,211],[227,225],[284,217],[225,252],[246,284],[345,233],[383,243],[407,225],[440,236],[469,260],[426,268],[444,307],[400,320],[359,278],[358,326],[388,361],[319,331],[281,309],
[320,370],[336,398],[401,384],[377,418],[451,390],[423,435],[392,461],[426,458],[414,504],[431,523],[430,555],[415,597],[410,631],[432,657],[546,696],[438,619],[461,586],[490,559],[521,530],[550,497],[505,487],[488,454],[458,432],[722,569],[703,520],[706,471],[686,440],[639,431],[612,405],[608,359],[647,342],[682,341],[665,392],[698,364],[734,355],[764,358],[734,371],[731,407],[775,419],[817,431],[777,451],[748,479],[778,504],[760,552],[816,531],[879,471],[1053,485],[1047,533],[1047,571],[1084,573],[1116,579],[1143,584],[1160,615],[1230,629],[1246,608],[1256,585],[1171,578],[1180,551],[1115,540],[1087,510],[1129,510],[1168,510],[1232,521],[1206,482],[1149,465],[1106,456],[1117,347],[1147,337],[1147,303],[1187,276],[1215,234],[1281,198],[1176,228],[1136,229],[1140,184],[1134,133],[1075,149],[1029,128],[980,99],[876,131],[877,204],[911,194],[969,160],[973,215],[1025,242],[1104,303]],

//level123 original
STAGESELECT_POSITION=[[1068,215],[1013,178],[1005,284],[1024,308],[1042,333],[1075,341],[1070,396],[1072,434],[999,462],[1014,402],[998,370],[968,376],[941,411],[909,395],[875,367],[927,352],[944,277],[965,310],[895,250],[833,250],[792,250],[800,294],[860,305],[815,337],[764,220],[840,173],[764,132],
[720,185],[637,253],[691,254],[735,304],[646,307],[598,199],[596,94],[537,129],[439,115],[393,100],[410,163],[362,184],[273,157],[225,185],[125,172],[147,217],[190,211],[227,225],[284,217],[225,252],[246,284],[345,233],[383,243],[407,225],[440,236],[469,260],[426,268],[444,307],[400,320],[359,278],[358,326],[388,361],[319,331],[281,309],[267,345],[226,371],[282,373],[320,370],[336,398],[401,384],[377,418],[451,390],[423,435],[392,461],[426,458],[414,504],[431,523],[430,555],[415,597],[410,631],[432,657],[546,696],[438,619],[461,586],[490,559],[521,530],[550,497],[505,487],[488,454],[458,432],[722,569],[703,520],[706,471],[686,440],[639,431],[612,405],[608,359],[647,342],[682,341],[665,392],[698,364],[734,355],[764,358],[734,371],[731,407],[775,419],[817,431],[777,451],[748,479],[778,504],[760,552],[816,531],[879,471],[1053,485],[1047,533],[1047,571],[1084,573],[1116,579],[1143,584],[1160,615],[1230,629],[1246,608],[1256,585],[1171,578],[1180,551],[1115,540],[1087,510],[1129,510],[1168,510],[1232,521],[1206,482],[1149,465],[1106,456],[1117,347],[1147,337],[1147,303],[1187,276],[1215,234],[1281,198],[1176,228],[1136,229],[1140,184],[1134,133],[1075,149],[1029,128],[980,99],[876,131],[877,204],[911,194],[969,160],[973,215],[1025,242],[1104,303]],

//extra levels 151-220
EXTRA_POSITION=[
[1055,283],[1092,254],[1094,191],[1173,182],[1229,196],[1244,156],[1197,158],[1171,136],[934,126],[932,231],
[975,259],[904,309],[839,378],[803,392],[780,314],[696,301],[751,264],[724,224],[818,214],[814,136],
[771,176],[826,92],[750,94],[718,108],[718,145],[665,208],[598,146],[569,175],[534,200],[527,229],
[494,193],[495,148],[501,109],[542,90],[477,96],[453,158],[462,195],[366,137],[359,101],[315,122],
[334,165],[331,206],[221,143],[177,132],[182,175],[124,215],[289,253],[321,278],[252,330],[218,330],

[139,143],[155,185],[421,90],[545,258],[505,246],[516,356],[446,360],[267,270],[305,302],[368,376],
[486,420],[530,462],[456,500],[476,527],[483,701],[607,681],[622,571],[677,572],[739,523],[828,483]
],

/*text*/
/*
OBJECTIVESTAR_POSITION=[[-80,-70,-10,.6],[0,-90,0,.8],[80,-70,10,.6]],
*/
OBJECTIVESTAR_POSITION=[[-80,-70,0,.5],[0,-70,0,.5],[80,-70,0,.5]],

objStageSelectLvStats=[],objGameStorage,objGameSave,nGameLevel=0,objLevelData=[
{design:[[0,1,1,1,1,1,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,1,1,1,1,1,0]],score:800,available:[1,2,3,4],target:[],move:6},
{design:[[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,1,0,0,0,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1]],score:6500,available:[1,2,3,4,5],target:[],move:6},
{design:[[0,1,1,1,1,1,0],[0,2,2,2,2,2,0],[0,1,2,2,2,1,0],[0,2,2,2,2,2,0],[0,1,2,2,2,1,0],[0,2,2,2,2,2,0],[0,1,2,2,2,1,0],[0,1,1,1,1,1,0]],score:12500,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:15},
{design:[[1,10,10,10,10,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,0,0,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,10,10,10,10,1]],score:6250,available:[2,3,4,5,1],target:[TARGETTYPE_INGREDIENTS],move:10},
{design:[[1,1,1,1,1,1,1],[0,0,1,1,1,0,0],[1,1,1,1,1,1,1],[0,0,1,1,1,0,0],[4,4,4,4,4,4,4],[0,0,10,10,10,0,0],[10,10,10,10,10,10,10]],score:15e3,available:[1,5,3,4,2],target:[TARGETTYPE_INGREDIENTS],move:15},
{design:[[6,12,1,1,1,12,6],[12,12,1,1,1,12,12],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[12,12,1,1,1,12,12],[6,12,1,1,1,12,6]],score:19250,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:25},
{design:[[0,1,3,3,3,1,0],[1,1,8,8,8,1,1],[3,8,1,1,1,8,3],[3,8,1,1,1,8,3],[3,8,1,1,1,8,3],[1,1,8,8,8,1,1],[0,1,3,3,3,1,0]],score:25e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:30},

{design:[[0,0,1,1,1,0,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,1,1,1,0,0]],score:5e3,available:[1,3,4,5,2],target:[],move:8},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,1,1,1,1,1,0],[0,1,1,1,1,1,0],[0,1,1,1,1,1,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],score:12500,available:[1,2,3,4,5],target:[],move:20},
{design:[[0,1,1,0,1,1,0],[0,1,1,1,1,1,0],[0,1,1,1,1,1,0],[0,1,1,1,1,1,0],[0,1,1,1,1,1,0],[0,1,1,1,1,1,0],[0,1,1,1,1,1,0],[0,1,1,0,1,1,0]],score:7500,available:[1,3,4,5,2],target:[],move:20},
{design:[[0,0,1,1,1,0,0],[0,2,2,2,2,2,0],[2,2,2,2,2,2,2],[2,2,2,2,2,2,2],[2,2,2,2,2,2,2],[2,2,2,2,2,2,2],[1,2,2,2,2,2,1],[1,1,1,1,1,1,1]],score:14e3,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:20},
{design:[[1,1,1,0,1,1,1],[1,2,2,0,2,2,1],[1,2,2,1,2,2,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,2,2,2,1,1],[0,1,2,2,2,1,0],[0,0,1,1,1,0,0]],score:16e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:20},
{design:[[1,1,1,1,1,1,1],[0,1,1,1,1,1,0],[2,2,2,2,2,2,2],[0,2,2,2,2,2,0],[2,2,2,2,2,2,2],[0,1,1,1,1,1,0],[1,1,1,1,1,1,1]],score:15e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:25},
{design:[[0,0,2,0,2,0,0],[0,0,2,2,2,0,0],[2,2,2,2,2,2,2],[0,1,2,2,2,1,0],[2,2,2,2,2,2,2],[0,0,2,2,2,0,0],[0,0,2,0,2,0,0]],score:15e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:30},
{design:[[10,1,1,1,1,1,10],[10,1,1,1,1,1,10],[10,1,1,1,1,1,10],[0,1,1,1,1,1,0],[0,0,1,1,1,0,0],[10,1,1,1,1,1,10],[10,1,1,1,1,1,10],[0,1,1,1,1,1,0]],score:14500,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:20},
{design:[[1,1,1,1,1,0,0],[1,2,2,1,1,1,0],[1,2,0,2,0,1,1],[1,2,2,2,2,2,1],[1,1,0,2,0,2,1],[0,1,1,2,2,2,1],[0,0,1,1,1,1,1]],score:18e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:25},
{design:[[1,1,0,0,0,2,2],[1,1,0,0,0,2,2],[1,1,2,2,2,2,2],[0,1,2,2,2,1,0],[2,2,2,2,2,1,1],[2,2,0,0,0,1,1],[2,2,0,0,0,1,1]],score:22500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:30},
{design:[[10,10,10,10,10,10,10],[10,10,10,10,10,10,10],[0,0,0,0,0,0,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],score:25e3,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:20},
{design:[[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2]],score:25e3,available:[1,2,3,5,4],target:[TARGETTYPE_JELLY],move:30},
{design:[[10,0,10,0,10,0,10],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],score:26e3,available:[1,5,3,4,2],target:[TARGETTYPE_INGREDIENTS],move:30},

{design:[[0,0,1,1,1,0,0],[0,1,3,3,3,1,0],[1,3,3,0,3,3,1],[1,3,0,0,0,3,1],[1,3,3,0,3,3,1],[0,1,3,3,3,1,0],[0,0,1,1,1,0,0]],score:15e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:16},
{design:[[3,3,1,0,1,3,3],[3,3,1,0,1,3,3],[1,1,3,3,3,1,1],[0,0,3,3,3,0,0],[1,1,3,3,3,1,1],[3,3,1,0,1,3,3],[3,3,1,0,1,3,3]],score:24e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:35},
{design:[[0,1,1,1,1,1,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,1,1,1,1,1,0]],score:4e4,available:[1,4,3,5,2],target:[],move:40},
{design:[[1,1,1,1,1,1,1],[1,3,3,3,3,3,1],[1,3,3,3,3,3,1],[1,3,3,3,3,3,1],[1,3,3,3,3,3,1],[1,3,3,3,3,3,1],[1,3,3,3,3,3,1],[1,1,1,1,1,1,1]],score:42500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:40},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[5,1,5,1,5,1,5],[5,1,5,1,5,1,5],[5,1,5,1,5,1,5],[5,1,5,1,5,1,5],[5,1,5,1,5,1,5]],score:3e4,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:40},
{design:[[10,1,1,10,1],[1,1,1,1,1],[1,1,1,1,1],[1,0,1,0,1],[0,1,0,1,0],[1,1,1,1,1],[1,1,10,1,1],[1,1,1,1,1]],score:16e3,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:20},
{design:[[0,1,1,1,1,1,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[5,5,5,5,5,5,5],[5,5,5,5,5,5,5],[2,2,2,2,2,2,2]],score:33500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:40},
{design:[[6,6,6,6,6,6,6],[6,1,6,6,6,1,6],[6,1,1,1,1,1,6],[6,1,1,1,1,1,6],[6,1,1,1,1,1,6],[6,1,1,1,1,1,6],[6,1,6,6,6,1,6],[6,6,6,6,6,6,6]],score:34e3,available:[1,2,3,5,4],target:[TARGETTYPE_JELLY],move:40},
{design:[[1,1,1,6,1,1,1],[1,1,1,4,1,1,1],[1,1,1,6,1,1,1],[1,1,1,4,1,1,1],[4,4,4,4,4,4,4],[3,4,4,3,4,4,3],[4,4,4,4,4,4,4],[3,4,4,3,4,4,3]],score:17500,available:[1,2,4,5,3],target:[TARGETTYPE_JELLY],move:24},
{design:[[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[0,1,1,1,1,1,0],[0,1,1,1,1,1,0],[6,6,6,3,6,6,6],[6,6,6,3,6,6,6],[6,6,6,3,6,6,6]],score:4e4,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:50},

{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[4,4,4,4,4,4,4],[0,4,4,4,4,4,0],[0,4,4,4,4,4,0],[10,10,10,10,10,10,10]],score:2e4,available:[1,5,3,4,2],target:[TARGETTYPE_INGREDIENTS],move:25},
{design:[[0,0,0,1,0,0,0],[0,0,1,1,1,0,0],[0,1,1,4,1,1,0],[1,4,4,4,4,4,1],[1,1,4,4,4,1,1],[0,1,1,4,1,1,0],[0,0,1,1,1,0,0],[0,0,0,1,0,0,0]],score:39250,available:[1,3,4,5,2],target:[],move:50},
{design:[[1,1,1,1,1,1,1],[1,3,1,0,1,3,1],[1,1,1,0,1,1,1],[1,1,1,0,1,1,1],[1,0,0,0,0,0,1],[1,1,1,0,1,1,1],[1,3,1,0,1,3,1],[1,1,1,1,1,1,1]],score:17250,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:20},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,0,0,10,0,0,1],[1,0,10,10,10,0,1],[1,0,10,10,10,0,1],[1,0,0,10,0,0,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],score:31250,available:[1,3,4,5,2],target:[TARGETTYPE_INGREDIENTS],move:40},
{design:[[1,3,3,1,3,3,1],[1,3,3,0,3,3,1],[0,3,3,1,3,3,0],[3,3,3,0,3,3,3],[3,3,3,0,3,3,3],[3,3,3,0,3,3,3],[0,3,3,1,3,3,0],[1,3,3,0,3,3,1]],score:40150,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},
{design:[[1,1,1,5,1,1,1],[1,1,1,5,1,1,1],[1,1,1,5,1,1,1],[1,1,1,5,1,1,1],[1,1,1,5,1,1,1],[4,4,4,5,4,4,4],[3,3,4,5,4,3,3],[3,3,4,5,4,3,3]],score:40300,available:[2,3,4,5,1],target:[TARGETTYPE_JELLY],move:50},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,6,1,6,1,6,1],[6,3,6,3,6,3,6],[3,6,3,6,3,6,3],[6,3,6,3,6,3,6],[3,6,3,6,3,6,3]],score:31150,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:40},
{design:[[0,1,1,1,1,1,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,0,6,0,0,0],[6,6,6,6,6,6,6],[6,6,6,6,6,6,6],[6,6,6,6,6,6,6]],score:32250,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:40},
{design:[[0,1,1,1,1,1,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,0,6,0,0,0],[6,6,6,6,6,6,6],[6,6,6,6,6,6,6],[10,10,10,10,10,10,10]],score:29750,available:[1,4,3,5,2],target:[TARGETTYPE_INGREDIENTS],move:40},
{design:[[3,3,3,3,3,3,3],[3,1,1,1,1,1,3],[3,1,3,3,3,1,3],[3,1,3,0,3,1,3],[3,1,3,0,3,1,3],[3,1,3,3,3,1,3],[3,1,1,1,1,1,3],[3,3,3,3,3,3,3]],score:32e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:40},

{design:[[1,1,1,6,1,1,1],[1,1,1,6,1,1,1],[1,1,1,6,1,1,1],[6,6,6,6,6,6,6],[6,6,6,6,6,6,6],[1,1,1,6,1,1,1],[1,1,1,6,1,1,1],[1,1,1,6,1,1,1]],score:25e3,available:[1,5,3,4,2],target:[TARGETTYPE_JELLY],move:30},
{design:[[0,0,13,0,13,0,0],[4,4,4,4,4,4,4],[4,4,4,4,4,4,4],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],score:18e3,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:25},
{design:[[2,2,2,2,2,2,2],[2,3,3,3,3,3,2],[2,3,12,12,12,3,2],[2,3,12,13,12,3,2],[2,3,12,12,12,3,2],[2,3,3,3,3,3,2],[2,2,2,2,2,2,2]],score:31500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:40},
{design:[[11,11,11,11,11,11,11],[11,11,11,11,11,11,11],[11,11,11,11,11,11,11],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,0,1,0,0,0]],score:28750,available:[1,3,4,5,2],target:[],move:35},
{design:[[1,1,1,1,1,1,1],[4,1,1,1,1,1,4],[0,4,1,1,1,4,0],[1,0,4,1,4,0,1],[1,1,0,4,0,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1]],score:45e3,available:[1,5,3,4,2],target:[],move:50},
{design:[[5,3,3,3,3,3,5],[5,3,3,3,3,3,5],[5,3,3,0,3,3,5],[5,3,3,0,3,3,5],[5,3,3,0,3,3,5],[5,3,3,3,3,3,5],[5,3,3,3,3,3,5]],score:43e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},
{design:[[1,1,1,1,1,1,1],[1,3,3,3,3,3,1],[1,3,6,6,6,3,1],[1,3,6,6,6,3,1],[1,3,6,6,6,3,1],[1,3,3,3,3,3,1],[1,1,1,1,1,1,1]],score:2e4,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:25},
{design:[[1,1,1,0,1,1,1],[1,3,3,0,3,3,1],[1,3,6,6,6,3,1],[0,0,6,6,6,0,0],[1,3,6,6,6,3,1],[1,3,3,0,3,3,1],[1,1,1,0,1,1,1]],score:32e3,available:[1,5,3,4,2],target:[TARGETTYPE_JELLY],move:40},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[4,4,4,1,4,4,4],[10,10,4,10,4,10,10],[10,10,4,10,4,10,10]],score:15e3,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:20},
{design:[[1,1,1,1,1,1,1],[1,1,8,8,8,1,1],[1,1,8,3,8,1,1],[1,1,8,3,8,1,1],[1,1,8,3,8,1,1],[1,1,8,8,8,1,1],[1,1,1,1,1,1,1]],score:42500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},

{design:[[0,1,1,1,1,1,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[12,12,12,12,12,12,12],[5,5,5,5,5,5,5],[0,3,0,3,0,3,0]],score:2e4,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:25},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[4,4,4,4,4,4,4],[4,7,7,7,7,7,4],[4,7,3,3,3,7,4],[4,7,3,3,3,7,4]],score:28e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:35},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[7,7,7,7,7,7,7],[4,4,4,4,4,4,4],[3,3,3,3,3,3,3]],score:27500,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:30},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,5,1,5,0,0],[3,7,5,1,5,7,3],[3,7,5,1,5,7,3],[3,7,5,1,5,7,3]],score:3e4,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:40},
{design:[[0,0,0,7,0,0,0],[0,0,0,7,0,0,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,0,7,0,0,0],[0,0,0,7,0,0,0]],score:32500,available:[1,2,4,5,3],target:[],move:40},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[6,6,6,6,6,6,6],[6,6,6,6,6,6,6],[6,6,6,6,6,6,6]],score:22e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:25},
{design:[[0,1,1,1,1,1,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[4,4,4,4,4,4,4],[10,10,4,4,4,10,10],[7,10,7,4,7,10,7]],score:35e3,available:[1,3,4,5,2],target:[TARGETTYPE_INGREDIENTS],move:45},
{design:[[2,2,1,1,1,2,2],[2,2,1,1,1,2,2],[1,1,1,1,1,1,1],[1,1,1,6,1,1,1],[1,1,1,6,1,1,1],[9,9,1,1,1,9,9],[9,9,1,1,1,9,9]],score:29500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:35},
{design:[[7,4,1,1,1,4,7],[7,4,1,1,1,4,7],[7,4,1,1,1,4,7],[7,4,1,1,1,4,7],[7,4,1,1,1,4,7],[7,4,1,1,1,4,7],[7,4,4,4,4,4,7],[7,7,7,7,7,7,7]],score:42500,available:[1,2,3,4,5],target:[],move:50},
{design:[[10,1,1,10,1,1,10],[1,1,1,1,1,1,1],[1,1,4,4,4,1,1],[0,1,4,7,4,1,0],[0,1,4,7,4,1,0],[1,1,4,4,4,1,1],[1,1,1,1,1,1,1],[10,1,1,10,1,1,10]],score:3e4,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:35},

{design:[[0,1,1,1,1,1,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,6,6,6,0,0],[0,6,7,7,7,6,0],[6,7,7,7,7,7,6]],score:33e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},
{design:[[7,10,1,1,1,10,7],[7,10,1,1,1,10,7],[7,10,1,1,1,10,7],[7,10,1,1,1,10,7],[7,10,1,1,1,10,7],[7,10,1,1,1,10,7],[7,10,1,1,1,10,7],[7,10,1,1,1,10,7]],score:18e3,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:20},
{design:[[3,7,1,1,1,7,3],[7,7,1,1,1,7,7],[1,1,1,1,1,1,1],[1,1,1,7,1,1,1],[1,1,1,7,1,1,1],[1,1,1,1,1,1,1],[7,7,1,1,1,7,7],[3,7,1,1,1,7,3]],score:18500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:20},
{design:[[7,1,1,1,1,1,7],[7,1,1,1,1,1,7],[7,1,1,1,1,1,7],[7,1,1,1,1,1,7],[7,1,1,1,1,1,7],[7,1,1,1,1,1,7],[7,1,1,1,1,1,7],[7,7,7,7,7,7,7]],score:42e3,available:[1,2,3,4,5],target:[],move:50},
{design:[[8,0,8,0,8,0,8],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[8,0,8,0,8,0,8]],score:41500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,0,7,0,3,3],[0,0,0,7,0,0,0]],score:35e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:40},
{design:[[0,0,0,8,0,0,0],[0,0,6,6,6,0,0],[0,13,13,13,13,13,13],[11,11,11,11,11,11,11],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],score:22500,available:[1,2,4,5,3],target:[TARGETTYPE_JELLY],move:35},
{design:[[0,0,10,0,0,0,0],[0,10,10,10,0,0,0],[11,11,11,11,11,0,0],[11,11,11,11,11,11,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],score:25e3,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:35},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,0,7,0,0,0],[0,0,6,6,6,0,0],[0,6,6,6,6,6,0],[6,6,6,6,6,6,6]],score:35e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:40},
{design:[[0,3,3,3,3,3,0],[3,3,3,3,3,3,3],[0,3,3,3,3,3,0],[0,3,3,3,3,3,0],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[7,7,7,7,7,7,7],[7,7,7,7,7,7,7]],score:42500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},

{design:[[1,1,0,0,0,1,1],[1,9,9,1,3,3,1],[1,9,9,1,3,3,1],[0,1,1,1,1,1,0],[0,1,1,1,1,1,0],[1,6,6,1,6,6,1],[1,6,6,1,6,6,1],[1,1,0,0,0,1,1]],score:35e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:35},
{design:[[10,1,1,10,1,1,10],[1,1,4,4,4,1,1],[1,1,4,7,4,1,1],[1,1,4,4,4,1,1],[10,1,1,1,1,1,10],[0,0,1,1,1,0,0],[1,1,4,4,4,1,1],[4,7,7,0,7,7,4]],score:22500,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:25},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,0,0,0,6,0],[0,6,6,6,6,6,0],[0,6,6,6,6,6,0],[0,6,6,6,6,6,0]],score:4e4,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:50},
{design:[[0,0,6,6,6,0,0],[0,6,6,6,6,6,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[3,3,3,3,3,3,3]],score:28500,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:27},
{design:[[1,1,1,0,10,1,1],[1,10,1,0,1,1,1],[1,10,1,0,1,10,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,10],[1,1,1,0,1,1,1],[1,10,1,0,10,1,1],[7,1,1,0,1,1,7]],score:34500,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:35},
{design:[[1,1,1,0,1,1,1],[1,1,1,0,1,1,1],[1,1,1,0,1,1,1],[1,1,1,0,1,1,1],[1,1,1,0,1,1,1],[1,1,1,0,1,1,1],[3,3,3,0,3,3,3],[3,9,3,0,3,9,3]],score:25e3,available:[1,2,3,5,4],target:[TARGETTYPE_JELLY],move:25},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,0,0,0,0,0],[6,6,3,3,3,3,3],[0,0,0,0,0,0,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],score:24500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:25},
{design:[[7,0,10,0,10,0,7],[10,1,1,1,1,1,10],[1,1,1,10,1,1,1],[1,1,1,1,1,1,1],[10,1,1,1,1,1,10],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,7,7,7,0,0]],score:4e4,available:[1,2,3,5,4],target:[TARGETTYPE_INGREDIENTS],move:50},
{design:[[3,3,6,6,6,3,3],[3,3,6,6,6,3,3],[1,1,1,0,1,1,1],[1,1,1,9,1,1,1],[1,1,1,9,1,1,1],[1,1,1,9,1,1,1],[3,3,1,0,1,3,3],[3,3,1,6,1,3,3]],score:28e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:20},
{design:[[1,1,1,0,1,1,1],[1,1,1,0,1,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,1,1,1,0,0],[0,4,4,4,4,4,0],[7,7,7,0,7,7,7]],score:3e4,available:[1,2,3,4,5],target:[],move:30},

{design:[[7,1,1,1,1,1,7],[7,0,1,1,1,0,7],[7,0,1,1,1,0,7],[0,0,1,1,1,0,0],[3,3,1,1,1,3,3],[3,3,1,1,1,3,3],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3]],score:31150,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:32},
{design:[[7,1,1,1,1,1,7],[1,1,1,1,1,1,1],[1,1,0,7,0,1,1],[1,1,0,7,0,1,1],[1,1,0,7,0,1,1],[1,1,0,7,0,1,1],[1,1,1,1,1,1,1],[7,1,1,1,1,1,7]],score:22500,available:[1,5,3,4,2],target:[],move:25},
{design:[[3,3,3,3,3,3,3],[3,1,1,1,1,1,3],[3,1,0,7,0,1,3],[3,1,0,7,0,1,3],[3,1,0,7,0,1,3],[3,1,0,7,0,1,3],[3,1,1,1,1,1,3],[3,3,3,3,3,3,3]],score:35e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:40},
{design:[[7,7,1,1,1,7,7],[0,0,1,1,1,0,0],[7,7,1,1,1,7,7],[0,0,1,1,1,0,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,1,1,0,1,1,1]],score:28500,available:[1,3,4,5,2],target:[],move:25},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[4,4,4,4,4,4,4],[4,4,4,4,4,4,4],[7,7,7,7,7,7,7],[7,10,7,10,7,10,7]],score:28500,available:[1,3,4,5,2],target:[TARGETTYPE_INGREDIENTS],move:30},
{design:[[3,1,1,1,1,1,3],[3,1,1,1,1,1,3],[3,1,1,1,1,1,3],[3,1,1,1,1,1,3],[3,1,1,9,1,1,3],[3,1,9,9,9,1,3],[3,9,9,9,9,9,3],[9,9,9,9,9,9,9]],score:42500,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:42},
{design:[[10,10,10,10,10,10,10],[11,11,11,11,11,11,11],[10,10,10,10,10,10,10],[11,11,11,11,11,11,11],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[7,1,1,1,1,1,1],[7,1,1,1,1,1,1]],score:38500,available:[1,3,4,5,2],target:[TARGETTYPE_INGREDIENTS],move:40},
{design:[[0,0,0,0,0,10,10],[0,0,0,0,7,7,7],[0,0,10,10,10,10,10],[0,0,11,11,11,11,11],[0,4,4,4,4,4,4],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],score:42500,available:[1,4,3,5,2],target:[TARGETTYPE_INGREDIENTS],move:45},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,1,1,1,0,0],[0,0,3,3,3,0,0],[0,3,3,3,3,3,0],[9,9,9,9,9,9,9]],score:45e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},
{design:[[10,10,10,10,10,10,10],[0,0,0,0,0,0,0],[1,0,1,1,1,0,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[7,1,1,1,1,1,7],[7,1,1,1,1,1,7]],score:25e3,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:25},

{design:[[1,1,1,1,1,1,1],[0,0,1,1,1,0,0],[10,0,1,1,1,0,10],[0,0,1,1,1,0,0],[7,7,1,1,1,7,7],[7,7,1,1,1,7,7],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],score:38150,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:40},
{design:[[1,1,13,6,13,1,1],[1,11,6,0,6,11,1],[1,1,13,0,13,1,1],[1,1,6,6,6,1,1],[1,1,1,1,1,1,1],[1,1,6,6,6,1,1],[1,0,6,6,6,0,1],[6,6,6,6,6,6,6]],score:33500,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:35},
{design:[[11,11,11,11,11,11,11],[11,11,11,11,11,11,11],[11,11,11,11,11,11,11],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[0,3,0,3,0,3,0]],score:42150,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[7,7,7,7,7,7,7],[7,7,7,7,7,7,7],[7,10,7,10,7,10,7]],score:32150,available:[1,4,3,5,2],target:[TARGETTYPE_INGREDIENTS],move:35},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,4,4,4,1,1],[7,4,4,10,4,4,7],[4,4,4,4,4,4,4],[4,10,4,10,4,10,4],[0,4,4,4,4,4,0]],score:22500,available:[1,3,4,5,2],target:[TARGETTYPE_INGREDIENTS],move:25},
{design:[[9,6,3,3,3,6,9],[1,6,3,3,3,6,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,0,0,0,0,0],[1,1,1,1,1,1,1],[1,6,3,3,3,6,1],[9,6,3,3,3,6,9]],score:42250,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},
{design:[[7,7,1,1,1,7,7],[7,1,1,1,1,1,7],[1,1,3,3,3,1,1],[1,1,3,3,3,1,1],[1,1,3,3,3,1,1],[1,1,3,3,3,1,1],[7,1,1,1,1,1,7],[7,7,1,1,1,7,7]],score:25e3,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:20},
{design:[[6,6,0,1,0,6,6],[6,6,1,1,1,6,6],[1,1,5,5,5,1,1],[1,1,5,9,5,1,1],[1,1,5,5,5,1,1],[1,1,1,1,1,1,1],[6,6,1,1,1,6,6],[6,6,0,1,0,6,6]],score:26e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:25},
{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,5,5,5,5,5,1],[1,5,5,5,5,5,1],[3,3,5,3,3,3,3],[3,3,5,3,5,3,3],[5,3,5,3,5,3,5],[5,3,5,3,5,3,5]],score:27750,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:25},
{design:[[3,0,0,0,0,1],[3,3,0,0,3,1],[3,3,3,3,3,1],[3,3,3,3,3,9],[3,3,3,3,3,9],[3,3,3,3,3,9],[3,3,3,3,3,9],[3,3,3,3,3,9]],score:27e3,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:25},

/*temp 101-150*/
{design:[[0,1,1,1,1,1,0],[1,1,1,1,1,1,1],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[12,12,12,12,12,12,12],[5,5,5,5,5,5,5],[0,3,0,3,0,3,0]],score:2e4,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:25},

{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,0,1,0,1,1],[4,4,4,4,4,4,4],[4,7,7,7,7,7,4],[4,7,3,3,3,7,4],[4,7,3,3,3,7,4]],score:28e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:35},

{design:[[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,0,1,1,1,0,1],[1,1,1,0,1,1,1],[7,7,7,7,7,7,7],[4,4,4,4,4,4,4],[3,3,3,3,3,3,3]],score:27500,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:30},

{design:[[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[0,0,5,0,5,0,0],[3,7,5,1,5,7,3],[3,7,5,1,5,7,3],[3,7,5,1,5,7,3]],score:3e4,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:40},

{design:[[0,0,0,7,0,0,0],[0,0,0,7,0,0,0],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[1,1,1,1,1,1,1],[0,0,0,7,0,0,0],[0,0,0,7,0,0,0]],score:32500,available:[1,2,4,5,3],target:[],move:40},

{design:[[1,1,1,1,1,1,1],[1,1,0,1,0,1,1],[1,1,1,0,1,1,1],[1,1,0,1,0,1,1],[6,6,6,6,6,6,6],[6,6,6,6,6,6,6],[6,6,6,6,6,6,6]],score:22e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:25},

{design:[[0,1,1,1,1,1,0],[1,1,0,1,0,1,1],[1,1,0,1,0,1,1],[1,1,1,1,1,1,1],[4,4,4,4,4,4,4],[10,10,4,4,4,10,10],[7,10,7,4,7,10,7]],score:35e3,available:[1,3,4,5,2],target:[TARGETTYPE_INGREDIENTS],move:45},

{design:[[2,2,1,1,1,2,2],[2,2,1,0,1,2,2],[1,1,1,1,1,1,1],[1,0,1,6,1,0,1],[1,1,1,6,1,1,1],[9,9,1,1,1,9,9],[9,9,1,1,1,9,9]],score:29500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:35},

{design:[[7,4,1,1,1,4,7],[7,4,1,0,1,4,7],[7,4,1,1,1,4,7],[7,4,1,0,1,4,7],[7,4,1,1,1,4,7],[7,4,1,0,1,4,7],[7,4,4,4,4,4,7],[7,7,7,7,7,7,7]],score:42500,available:[1,2,3,4,5],target:[],move:50},

{design:[[10,1,1,10,1,1,10],[1,0,1,1,1,0,1],[1,1,4,4,4,1,1],[0,1,4,7,4,1,0],[0,1,4,7,4,1,0],[1,1,4,4,4,1,1],[1,0,1,1,1,0,1],[10,1,1,10,1,1,10]],score:3e4,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:35},

{design:[[0,1,1,1,1,1,0],[1,1,0,1,0,1,1],[1,1,1,1,1,1,1],[1,1,0,1,0,1,1],[1,1,1,1,1,1,1],[0,0,6,6,6,0,0],[0,6,7,7,7,6,0],[6,7,7,7,7,7,6]],score:33e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},

//actual level 123
//{design:[[7,10,1,1,1,10,7],[7,10,1,1,1,10,7],[7,10,0,0,1,10,7],[7,10,1,1,1,10,7],[7,10,1,1,1,10,7],[7,10,1,0,0,10,7],[7,10,1,1,1,10,7],[7,10,1,1,1,10,7]],score:18e3,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:20},
{design:[[6,6,6,6,6,6,6],[0,6,6,0,6,6,0],[6,6,6,6,6,6,6],[0,0,0,0,0,0,0],[9,1,1,1,1,1,9],[9,1,1,1,1,1,9],[9,1,1,1,1,1,9],[9,1,1,1,1,1,9]],score:35e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:30},

{design:[[3,7,1,1,1,7,3],[7,7,1,1,1,7,7],[1,1,0,1,0,1,1],[1,1,1,7,1,1,1],[1,1,1,7,1,1,1],[1,1,0,1,0,1,1],[7,7,1,1,1,7,7],[3,7,1,1,1,7,3]],score:18500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:20},

{design:[[7,1,1,1,1,1,7],[7,1,1,1,1,1,7],[7,1,0,0,0,1,7],[7,1,0,1,0,1,7],[7,1,0,0,0,1,7],[7,1,1,1,1,1,7],[7,1,1,1,1,1,7],[7,7,7,7,7,7,7]],score:42e3,available:[1,2,3,4,5],target:[],move:50},

{design:[[8,0,8,0,8,0,8],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[0,3,0,3,0,3,0],[0,3,0,3,0,3,0],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[8,0,8,0,8,0,8]],score:41500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},

{design:[[1,1,1,1,1,1,1],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[1,0,1,0,1,0,1],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,0,7,0,3,3],[0,0,0,7,0,0,0]],score:35e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:40},

{design:[[0,0,0,8,0,0,0],[0,0,6,6,6,0,0],[0,13,13,13,13,13,13],[11,11,11,11,11,11,11],[1,1,1,1,1,1,1],[1,0,1,0,1,0,1],[1,1,0,1,0,1,1],[1,1,1,1,1,1,1]],score:22500,available:[1,2,4,5,3],target:[TARGETTYPE_JELLY],move:35},

{design:[[0,0,10,0,0,0,0],[0,10,10,10,0,0,0],[11,11,11,11,11,0,0],[11,11,11,11,11,11,0],[1,1,0,1,0,1,1],[1,1,1,0,1,1,1],[1,1,0,1,0,1,1],[1,1,1,1,1,1,1]],score:25e3,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:35},

{design:[[1,1,1,1,1,1,1],[1,0,1,1,1,0,1],[1,1,0,1,0,1,1],[1,1,1,1,1,1,1],[0,0,0,7,0,0,0],[0,0,6,6,6,0,0],[0,6,6,6,6,6,0],[6,6,6,6,6,6,6]],score:35e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:40},

//actual level 125
//{design:[[0,3,3,3,3,3,0],[3,3,0,3,0,3,3],[0,3,3,3,3,3,0],[0,3,0,3,0,3,0],[3,3,3,3,3,3,3],[3,3,0,3,0,3,3],[7,7,7,7,7,7,7],[7,7,7,7,7,7,7]],score:42500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},
{design:[[0,3,3,3,3,3,0],[3,3,0,3,0,3,3],[0,3,3,3,3,3,0],[0,3,0,3,0,3,0],[3,3,3,3,3,3,3],[3,3,0,3,0,3,3],[7,7,7,7,7,7,7],[7,7,7,7,7,7,7]],score:42500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:26},

//actual level 114
//{design:[[1,1,0,0,0,1,1],[1,9,9,1,3,3,1],[1,9,9,1,3,3,1],[0,1,1,0,1,1,0],[0,1,1,0,1,1,0],[1,6,6,1,6,6,1],[1,6,6,1,6,6,1],[1,1,0,0,0,1,1]],score:35e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:35},
{design:[[6,6,0,1,0,6,6],[6,6,1,1,1,6,6],[1,1,9,9,9,1,1],[1,1,9,6,9,1,1],[1,1,9,6,9,1,1],[1,1,9,9,9,1,1],[6,6,1,1,1,6,6],[6,6,0,1,0,6,6]],score:35e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:30},

{design:[[10,1,1,10,1,1,10],[1,0,4,4,4,0,1],[1,1,4,7,4,1,1],[1,0,4,4,4,0,1],[10,1,1,1,1,1,10],[0,0,1,1,1,0,0],[1,1,4,4,4,1,1],[4,7,7,0,7,7,4]],score:22500,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:25},

{design:[[1,1,1,1,1,1,1],[1,1,0,1,0,1,1],[1,1,0,1,0,1,1],[1,1,1,1,1,1,1],[0,0,0,0,0,6,0],[0,6,6,6,6,6,0],[0,6,6,6,6,6,0],[0,6,6,6,6,6,0]],score:4e4,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:50},

{design:[[0,0,6,6,6,0,0],[0,6,6,6,6,6,0],[1,1,1,1,1,1,1],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[3,3,3,3,3,3,3]],score:28500,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:27},

{design:[[1,1,1,0,10,1,1],[1,10,1,0,1,1,1],[1,10,1,0,1,10,1],[1,0,1,1,1,0,1],[1,0,1,1,1,0,10],[1,1,1,0,1,1,1],[1,10,1,0,10,1,1],[7,1,1,0,1,1,7]],score:34500,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:35},

{design:[[1,1,1,0,1,1,1],[1,1,1,0,1,1,1],[1,0,1,0,1,0,1],[1,1,1,0,1,1,1],[1,0,1,0,1,0,1],[1,1,1,0,1,1,1],[3,3,3,0,3,3,3],[3,9,3,0,3,9,3]],score:25e3,available:[1,2,3,5,4],target:[TARGETTYPE_JELLY],move:25},

//actual level 113
//{design:[[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,0,0,0,0,0,0],[6,6,0,3,0,3,3],[0,0,0,0,0,0,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],score:24500,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:25},
{design:[[6,6,6,6,6,6,6],[0,0,0,0,0,0,0],[9,1,1,1,1,1,9],[9,1,1,1,1,1,9],[9,1,1,1,1,1,9],[9,1,1,1,1,1,9],[0,0,0,0,0,0,0],[6,6,6,6,6,6,6]],score:35e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:25},

{design:[[7,0,10,0,10,0,7],[10,1,1,1,1,1,10],[1,0,1,10,1,0,1],[1,1,1,1,1,1,1],[10,1,0,1,0,1,10],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[0,0,7,7,7,0,0]],score:4e4,available:[1,2,3,5,4],target:[TARGETTYPE_INGREDIENTS],move:50},

{design:[[3,3,6,6,6,3,3],[3,3,6,6,6,3,3],[1,1,1,0,1,1,1],[1,0,1,9,1,0,1],[1,1,1,9,1,1,1],[1,0,1,9,1,0,1],[3,3,1,0,1,3,3],[3,3,1,6,1,3,3]],score:28e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:20},

{design:[[1,0,1,0,1,0,1],[1,1,1,0,1,1,1],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[1,1,1,0,1,1,1],[0,0,1,1,1,0,0],[0,4,4,4,4,4,0],[7,7,7,0,7,7,7]],score:3e4,available:[1,2,3,4,5],target:[],move:30},

{design:[[7,1,1,1,1,1,7],[7,0,1,0,1,0,7],[7,0,1,1,1,0,7],[0,0,1,0,1,0,0],[3,3,1,1,1,3,3],[3,3,1,0,1,3,3],[3,3,3,3,3,3,3],[3,3,3,0,3,3,3]],score:31150,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:32},

//actual level 143
//{design:[[7,1,1,0,1,1,7],[1,1,1,1,1,1,1],[1,1,0,7,0,1,1],[0,1,0,7,0,1,0],[0,1,0,7,0,1,0],[1,1,0,7,0,1,1],[1,1,1,1,1,1,1],[7,1,1,0,1,1,7]],score:22500,available:[1,5,3,4,2],target:[],move:25},
{design:[[9,3,3,0,3,3,9],[3,3,3,3,3,3,3],[3,3,0,9,0,3,3],[0,3,0,9,0,3,0],[0,3,0,9,0,3,0],[3,3,0,9,0,3,3],[3,3,3,3,3,3,3],[9,3,3,0,3,3,9]],score:22500,available:[1,5,3,4,2],target:[TARGETTYPE_JELLY],move:38},

//actual level 147
//{design:[[3,3,3,3,3,3,3],[3,1,1,1,1,1,3],[3,0,0,7,0,0,3],[3,1,0,7,0,1,3],[3,1,0,7,0,1,3],[3,0,0,7,0,0,3],[3,1,1,1,1,1,3],[3,3,3,3,3,3,3]],score:35e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:40},
{design:[[3,3,3,3,3,3,3],[3,1,1,1,1,1,3],[3,0,0,7,0,0,3],[3,1,0,7,0,1,3],[3,1,0,7,0,1,3],[3,0,0,7,0,0,3],[3,1,1,1,1,1,3],[3,3,3,3,3,3,3]],score:35e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:25},

//actual level 141
//{design:[[7,7,1,0,1,7,7],[0,0,1,1,1,0,0],[7,7,1,0,1,7,7],[0,0,1,1,1,0,0],[1,1,1,0,1,1,1],[1,0,1,1,1,0,1],[1,1,1,0,1,1,1],[1,1,1,0,1,1,1]],score:28500,available:[1,3,4,5,2],target:[],move:25},
{design:[[9,9,3,0,3,9,9],[0,0,3,3,3,0,0],[9,9,3,0,3,9,9],[0,0,3,3,3,0,0],[3,3,3,0,3,3,3],[3,0,3,3,3,0,3],[3,3,3,0,3,3,3],[3,3,3,0,3,3,3]],score:28500,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:34},

//actual level 149
//{design:[[1,1,1,1,1,1,1],[1,0,1,0,1,0,1],[1,1,0,1,0,1,1],[1,1,1,1,1,1,1],[4,4,4,4,4,4,4],[4,4,4,4,4,4,4],[7,7,7,7,7,7,7],[7,10,7,10,7,10,7]],score:28500,available:[1,3,4,5,2],target:[TARGETTYPE_INGREDIENTS],move:30},
{design:[[9,9,9,9,9,9,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,9,9,9,9,9,9]],score:285140,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:76},

//actual level 142
//{design:[[3,1,0,1,0,1,3],[3,1,1,1,1,1,3],[3,1,0,1,0,1,3],[3,1,1,1,1,1,3],[3,1,0,9,0,1,3],[3,1,9,9,9,1,3],[3,9,9,9,9,9,3],[9,9,9,9,9,9,9]],score:42500,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:42},
{design:[[3,1,0,1,0,1,3],[3,1,1,1,1,1,3],[3,1,0,1,0,1,3],[3,1,1,1,1,1,3],[3,1,0,9,0,1,3],[3,1,9,9,9,1,3],[3,9,9,9,9,9,3],[9,9,9,9,9,9,9]],score:42500,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:25},

//actual level 148
//{design:[[10,10,10,10,10,10,10],[11,11,11,11,11,11,11],[10,10,10,10,10,10,10],[11,11,11,11,11,11,11],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[7,0,1,0,1,0,7],[7,1,1,1,1,1,7]],score:38500,available:[1,3,4,5,2],target:[TARGETTYPE_INGREDIENTS],move:40},
{design:[[10,10,10,10,10,10,10],[11,11,11,11,11,11,11],[10,10,10,10,10,10,10],[11,11,11,11,11,11,11],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[7,0,1,0,1,0,7],[7,1,1,1,1,1,7]],score:38500,available:[1,3,4,5,2],target:[TARGETTYPE_INGREDIENTS],move:23},

//actual level 144
//{design:[[0,0,0,0,0,10,10],[0,0,0,0,7,7,7],[0,0,10,10,10,10,10],[0,0,11,11,11,11,11],[0,4,4,4,4,4,4],[1,1,0,1,0,1,1],[1,1,1,1,1,1,1],[1,0,1,0,1,0,1]],score:42500,available:[1,4,3,5,2],target:[TARGETTYPE_INGREDIENTS],move:45},
{design:[[0,0,0,0,0,10,10],[0,0,0,0,7,7,7],[0,0,10,10,10,10,10],[0,0,11,11,11,11,11],[0,4,4,4,4,4,4],[1,1,0,1,0,1,1],[1,1,1,1,1,1,1],[1,0,1,0,1,0,1]],score:42500,available:[1,4,3,5,2],target:[TARGETTYPE_INGREDIENTS],move:13},

{design:[[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[0,0,1,0,1,0,0],[0,0,3,3,3,0,0],[0,3,3,3,3,3,0],[9,9,9,9,9,9,9]],score:45e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},

//actual level 145
//{design:[[10,10,10,10,10,10,10],[0,0,0,0,0,0,0],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[0,1,1,0,1,1,0],[1,1,1,1,1,1,1],[7,1,1,1,1,1,7],[7,1,0,1,0,1,7]],score:25e3,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:25},
{design:[[3,3,3,3,3,3,3],[0,0,0,0,0,0,0],[1,0,1,0,1,0,1],[1,1,1,1,1,1,1],[0,1,1,0,1,1,0],[1,1,1,1,1,1,1],[9,1,1,1,1,1,9],[9,1,0,1,0,1,9]],score:25e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:13},

{design:[[1,1,1,0,1,1,1],[0,0,1,1,1,0,0],[10,0,1,0,1,0,10],[0,0,1,1,1,0,0],[7,7,1,0,1,7,7],[7,7,1,1,1,7,7],[1,1,1,0,1,1,1],[1,1,1,0,1,1,1]],score:38150,available:[1,2,3,4,5],target:[TARGETTYPE_INGREDIENTS],move:40},

{design:[[0,1,13,6,13,1,0],[1,11,6,0,6,11,1],[1,0,13,0,13,0,1],[1,1,6,6,6,1,1],[1,0,1,1,1,0,1],[1,1,6,6,6,1,1],[1,0,6,6,6,0,1],[6,6,6,6,6,6,6]],score:33500,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:35},

{design:[[11,11,11,11,11,11,11],[11,11,11,11,11,11,11],[11,11,11,11,11,11,11],[3,0,3,0,3,0,3],[3,3,3,3,3,3,3],[3,0,3,0,3,0,3],[3,3,3,3,3,3,3],[0,3,0,3,0,3,0]],score:42150,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},

//actual level 138
//{design:[[0,1,0,1,0,1,0],[1,1,1,1,1,1,1],[0,1,1,0,1,1,0],[1,1,1,1,1,1,1],[0,1,1,0,1,1,0],[7,7,7,7,7,7,7],[7,7,7,7,7,7,7],[7,10,7,10,7,10,7]],score:32150,available:[1,4,3,5,2],target:[TARGETTYPE_INGREDIENTS],move:35},
{design:[[0,1,0,1,0,1,0],[1,1,1,1,1,1,1],[0,1,1,0,1,1,0],[1,1,1,1,1,1,1],[0,1,1,0,1,1,0],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9],[9,9,9,9,9,9,9]],score:32150,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:30},

{design:[[1,1,0,1,0,1,1],[1,1,1,1,1,1,1],[1,1,0,1,0,1,1],[0,1,4,4,4,1,0],[7,4,4,10,4,4,7],[4,4,4,4,4,4,4],[4,10,4,10,4,10,4],[0,4,4,4,4,4,0]],score:22500,available:[1,3,4,5,2],target:[TARGETTYPE_INGREDIENTS],move:25},

{design:[[9,6,3,3,3,6,9],[1,6,3,3,3,6,1],[1,1,1,1,1,1,1],[0,1,0,1,0,1,0],[0,0,0,0,0,0,0],[0,1,0,1,0,1,0],[1,6,3,3,3,6,1],[9,6,3,3,3,6,9]],score:42250,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:50},

{design:[[7,7,1,0,1,7,7],[7,1,1,1,1,1,7],[1,1,3,3,3,1,1],[0,1,3,3,3,1,0],[0,1,3,3,3,1,0],[1,1,3,3,3,1,1],[7,1,1,1,1,1,7],[7,7,1,0,1,7,7]],score:25e3,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:20},

{design:[[6,6,0,1,0,6,6],[6,6,1,1,1,6,6],[1,1,5,5,5,1,1],[1,0,5,9,5,0,1],[1,1,5,5,5,1,1],[1,1,1,0,1,1,1],[6,6,1,1,1,6,6],[6,6,0,1,0,6,6]],score:26e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:25},

{design:[[1,1,1,1,1,1,1],[1,0,1,0,1,0,1],[1,5,5,5,5,5,1],[0,5,5,5,5,5,0],[3,3,5,3,3,3,3],[3,3,5,3,5,3,3],[5,3,5,3,5,3,5],[5,3,5,3,5,3,5]],score:27750,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:25},

{design:[[3,0,0,0,0,1],[3,3,0,0,3,1],[3,3,3,3,3,1],[9,3,3,3,3,9],[9,3,0,0,3,9],[9,3,0,0,3,9],[9,3,3,3,3,9],[9,3,3,3,3,9]],score:27e3,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:25},

//levels 151-200
{design:[[7,3,3,3,7,0,0],[3,3,3,3,3,7,0],[3,3,0,3,0,3,7],[3,3,3,3,3,3,3],[7,3,0,3,0,3,3],[0,7,3,3,3,3,3],[0,0,7,3,3,3,7]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:7000},
{design:[[7,3,0,0,0,3,7],[3,3,0,0,0,3,3],[7,3,3,3,3,3,7],[0,3,3,3,3,3,0],[7,3,3,3,3,3,7],[3,3,0,0,0,3,3],[7,3,0,0,0,3,7]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:7000},
{design:[[8,2,8,0,8,2,8],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[8,2,8,0,8,2,8]],score:250e3,available:[1,2,3,5,4],target:[TARGETTYPE_JELLY],move:100,timeout:7000},
{design:[[0,0,9,1,9,0,0],[9,1,3,3,3,1,9],[1,3,3,0,3,3,1],[3,3,0,0,0,3,3],[1,3,3,0,3,3,1],[9,1,3,3,3,1,9],[0,0,9,1,9,0,0]],score:250e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:100,timeout:7000},
{design:[[9,3,1,0,1,3,9],[3,3,1,0,1,3,3],[9,1,3,3,3,1,9],[0,0,3,3,3,0,0],[9,1,3,3,3,1,9],[3,3,1,0,1,3,3],[9,3,1,0,1,3,9]],score:250e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:100,timeout:7000},
{design:[[9,3,3,3,3,3,9],[3,3,3,3,3,3,3],[9,3,3,3,3,3,9],[0,1,0,1,0,1,0],[0,1,0,1,0,1,0],[9,6,6,3,6,6,9],[6,6,6,3,6,6,6],[9,6,6,3,6,6,9]],score:250e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:100,timeout:7000},
{design:[[7,3,3,3,3,3,7],[3,3,3,0,3,3,3],[3,3,3,0,3,3,3],[3,3,7,0,7,3,3],[3,0,0,0,0,0,3],[3,3,7,0,7,3,3],[3,3,3,0,3,3,3],[7,3,3,3,3,3,7]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:7000},
{design:[[7,3,3,1,3,3,7],[1,3,3,0,3,3,1],[0,3,3,1,3,3,0],[9,3,3,0,3,3,9],[3,3,3,0,3,3,3],[9,3,3,0,3,3,9],[0,3,3,1,3,3,0],[7,3,3,0,3,3,7]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:7000},
{design:[[0,1,1,1,1,1,0],[9,1,1,1,1,1,9],[1,1,1,1,1,1,1],[9,1,1,1,1,1,9],[0,0,0,6,0,0,0],[9,6,6,6,6,6,9],[6,6,6,6,6,6,6],[9,6,6,6,6,6,9]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:7000},
{design:[[9,1,1,0,1,1,9],[1,3,3,0,3,3,1],[9,3,6,6,6,3,9],[0,0,6,6,6,0,0],[9,3,6,6,6,3,9],[1,3,3,0,3,3,1],[9,1,1,0,1,1,9]],score:250e3,available:[1,5,3,4,2],target:[TARGETTYPE_JELLY],move:100,timeout:7000},

{design:[[0,9,2,2,2,9,0],[2,2,2,2,2,2,2],[2,2,2,2,2,2,2],[0,9,2,2,2,9,0],[13,13,13,13,13,13,13],[6,6,6,6,6,6,6],[0,9,0,9,0,9,0],[0,9,0,9,0,9,0]],score:250e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:100,timeout:6000},
{design:[[8,2,2,1,2,2,8],[2,2,2,1,2,2,2],[8,2,2,1,2,2,8],[0,0,6,1,6,0,0],[9,3,6,1,6,3,9],[3,3,6,1,6,3,3],[3,3,6,1,6,3,3],[9,3,6,1,6,3,9]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:6000},
{design:[[0,1,1,1,1,1,0],[9,2,2,2,2,2,9],[0,3,3,3,3,3,0],[9,2,2,2,2,2,9],[0,1,1,1,1,1,0],[0,0,6,6,6,0,0],[0,9,6,6,6,9,0],[9,13,13,13,13,13,9]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:6000},
{design:[[9,0,9,0,9,0,9],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,0,0,0,3,3],[3,3,0,0,0,3,3],[3,3,3,3,3,3,3],[9,0,9,0,9,0,9]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:6000},
{design:[[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,2,0,9,0,2,0],[0,0,0,9,0,0,0]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:6000},
{design:[[9,3,3,3,3,3,9],[0,9,3,3,3,9,0],[0,0,3,3,3,0,0],[0,0,0,3,0,0,0],[0,0,0,3,0,0,0],[0,0,3,3,3,0,0],[0,9,3,3,3,9,0],[9,3,3,3,3,3,9]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:6000},
{design:[[7,1,0,0,0,1,7],[3,3,3,3,3,3,3],[9,3,3,3,3,3,9],[0,1,0,0,0,1,0],[0,1,0,0,0,1,0],[9,3,3,3,3,3,9],[3,3,3,3,3,3,3],[7,1,0,0,0,1,7]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:6000},
{design:[[9,1,1,1,1,1,9],[2,0,2,2,2,0,2],[2,0,2,2,2,0,2],[9,1,1,1,1,1,9],[0,0,0,0,0,6,0],[0,9,6,6,6,9,0],[0,6,6,6,6,6,0],[0,9,6,6,6,9,0]],score:250e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:100,timeout:6000},
{design:[[0,0,6,6,6,0,0],[0,9,6,6,6,9,0],[9,3,3,3,3,3,9],[0,2,2,2,2,2,0],[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,9,6,6,6,9,0],[0,0,6,6,6,0,0]],score:250e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:100,timeout:6000},
{design:[[9,3,6,6,6,3,9],[0,3,6,6,6,3,0],[9,3,3,0,3,3,9],[0,3,3,3,3,3,0],[9,3,3,3,3,3,9],[0,3,3,0,3,3,0],[9,3,6,6,6,3,9],[0,3,6,6,6,3,0]],score:250e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:100,timeout:6000},

{design:[[7,3,3,3,7,0,0],[3,3,3,3,3,7,0],[3,3,0,3,0,3,7],[3,3,3,3,3,3,3],[7,3,0,3,0,3,3],[0,7,3,3,3,3,3],[0,0,7,3,3,3,7]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:5000},
{design:[[7,3,0,0,0,3,7],[3,3,0,0,0,3,3],[7,3,3,3,3,3,7],[0,3,3,3,3,3,0],[7,3,3,3,3,3,7],[3,3,0,0,0,3,3],[7,3,0,0,0,3,7]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:5000},
{design:[[8,2,8,0,8,2,8],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[2,2,2,0,2,2,2],[8,2,8,0,8,2,8]],score:325e3,available:[1,2,3,5,4],target:[TARGETTYPE_JELLY],move:130,timeout:5000},
{design:[[0,0,9,1,9,0,0],[9,1,3,3,3,1,9],[1,3,3,0,3,3,1],[3,3,0,0,0,3,3],[1,3,3,0,3,3,1],[9,1,3,3,3,1,9],[0,0,9,1,9,0,0]],score:325e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:130,timeout:5000},
{design:[[9,3,1,0,1,3,9],[3,3,1,0,1,3,3],[9,1,3,3,3,1,9],[0,0,3,3,3,0,0],[9,1,3,3,3,1,9],[3,3,1,0,1,3,3],[9,3,1,0,1,3,9]],score:325e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:130,timeout:5000},
{design:[[9,3,3,3,3,3,9],[3,3,3,3,3,3,3],[9,3,3,3,3,3,9],[0,1,0,1,0,1,0],[0,1,0,1,0,1,0],[9,6,6,3,6,6,9],[6,6,6,3,6,6,6],[9,6,6,3,6,6,9]],score:325e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:130,timeout:5000},
{design:[[7,3,3,3,3,3,7],[3,3,3,0,3,3,3],[3,3,3,0,3,3,3],[3,3,7,0,7,3,3],[3,0,0,0,0,0,3],[3,3,7,0,7,3,3],[3,3,3,0,3,3,3],[7,3,3,3,3,3,7]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:5000},
{design:[[7,3,3,1,3,3,7],[1,3,3,0,3,3,1],[0,3,3,1,3,3,0],[9,3,3,0,3,3,9],[3,3,3,0,3,3,3],[9,3,3,0,3,3,9],[0,3,3,1,3,3,0],[7,3,3,0,3,3,7]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:5000},
{design:[[0,1,1,1,1,1,0],[9,1,1,1,1,1,9],[1,1,1,1,1,1,1],[9,1,1,1,1,1,9],[0,0,0,6,0,0,0],[9,6,6,6,6,6,9],[6,6,6,6,6,6,6],[9,6,6,6,6,6,9]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:5000},
{design:[[9,1,1,0,1,1,9],[1,3,3,0,3,3,1],[9,3,6,6,6,3,9],[0,0,6,6,6,0,0],[9,3,6,6,6,3,9],[1,3,3,0,3,3,1],[9,1,1,0,1,1,9]],score:325e3,available:[1,5,3,4,2],target:[TARGETTYPE_JELLY],move:130,timeout:5000},

{design:[[0,9,2,2,2,9,0],[2,2,2,2,2,2,2],[2,2,2,2,2,2,2],[0,9,2,2,2,9,0],[13,13,13,13,13,13,13],[6,6,6,6,6,6,6],[0,9,0,9,0,9,0],[0,9,0,9,0,9,0]],score:325e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:130,timeout:4000},
{design:[[8,2,2,1,2,2,8],[2,2,2,1,2,2,2],[8,2,2,1,2,2,8],[0,0,6,1,6,0,0],[9,3,6,1,6,3,9],[3,3,6,1,6,3,3],[3,3,6,1,6,3,3],[9,3,6,1,6,3,9]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:4000},
{design:[[0,1,1,1,1,1,0],[9,2,2,2,2,2,9],[0,3,3,3,3,3,0],[9,2,2,2,2,2,9],[0,1,1,1,1,1,0],[0,0,6,6,6,0,0],[0,9,6,6,6,9,0],[9,13,13,13,13,13,9]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:4000},
{design:[[9,0,9,0,9,0,9],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,0,0,0,3,3],[3,3,0,0,0,3,3],[3,3,3,3,3,3,3],[9,0,9,0,9,0,9]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:4000},
{design:[[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,2,0,9,0,2,0],[0,0,0,9,0,0,0]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:4000},
{design:[[9,3,3,3,3,3,9],[0,9,3,3,3,9,0],[0,0,3,3,3,0,0],[0,0,0,3,0,0,0],[0,0,0,3,0,0,0],[0,0,3,3,3,0,0],[0,9,3,3,3,9,0],[9,3,3,3,3,3,9]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:4000},
{design:[[7,1,0,0,0,1,7],[3,3,3,3,3,3,3],[9,3,3,3,3,3,9],[0,1,0,0,0,1,0],[0,1,0,0,0,1,0],[9,3,3,3,3,3,9],[3,3,3,3,3,3,3],[7,1,0,0,0,1,7]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:4000},
{design:[[9,1,1,1,1,1,9],[2,0,2,2,2,0,2],[2,0,2,2,2,0,2],[9,1,1,1,1,1,9],[0,0,0,0,0,6,0],[0,9,6,6,6,9,0],[0,6,6,6,6,6,0],[0,9,6,6,6,9,0]],score:325e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:130,timeout:4000},
{design:[[0,0,6,6,6,0,0],[0,9,6,6,6,9,0],[9,3,3,3,3,3,9],[0,2,2,2,2,2,0],[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,9,6,6,6,9,0],[0,0,6,6,6,0,0]],score:325e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:130,timeout:4000},
{design:[[9,3,6,6,6,3,9],[0,3,6,6,6,3,0],[9,3,3,0,3,3,9],[0,3,3,3,3,3,0],[9,3,3,3,3,3,9],[0,3,3,0,3,3,0],[9,3,6,6,6,3,9],[0,3,6,6,6,3,0]],score:325e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:130,timeout:4000},

{design:[[9,9,3,0,3,9,9],[0,0,3,3,3,0,0],[9,9,3,0,3,9,9],[0,0,3,3,3,0,0],[3,3,3,0,3,3,3],[3,0,3,3,3,0,3],[3,3,3,0,3,3,3],[3,3,3,0,3,3,3]],score:400e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:160,timeout:3000},
{design:[[9,9,9,9,9,9,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,9,9,9,9,9,9]],score:400e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:200,timeout:3000},
{design:[[3,3,0,3,0,3,3],[3,3,3,3,3,3,3],[3,3,0,3,0,3,3],[3,3,3,3,3,3,3],[3,3,0,9,0,3,3],[3,3,9,9,9,3,3],[3,9,9,9,9,9,3],[9,9,9,9,9,9,9]],score:400e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:160,timeout:3000},
{design:[[9,3,3,3,3,3,9],[0,0,0,0,0,0,0],[9,0,3,0,3,0,9],[3,3,3,3,3,3,3],[0,3,3,0,3,3,0],[9,3,3,3,3,3,9],[3,3,3,3,3,3,3],[9,3,0,3,0,3,9]],score:400e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:200,timeout:3000},
{design:[[0,3,3,3,3,3,0],[9,3,3,0,3,3,9],[3,0,3,0,3,0,3],[3,9,3,3,3,9,3],[3,0,3,3,3,0,3],[3,9,3,3,3,9,3],[3,0,3,3,3,0,3],[9,3,3,3,3,3,9]],score:400e3,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:160,timeout:3000},
{design:[[0,3,3,3,3,3,0],[9,3,3,3,3,3,9],[0,3,3,3,3,3,0],[9,0,9,0,9,0,9],[3,9,3,9,3,9,3],[3,0,3,0,3,0,3],[3,9,3,9,3,9,3],[0,9,0,9,0,9,0]],score:400e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:200,timeout:3000},
{design:[[9,6,3,3,3,6,9],[3,6,3,3,3,6,3],[3,3,3,3,3,3,3],[0,9,0,9,0,9,0],[0,0,0,0,0,0,0],[0,9,0,9,0,9,0],[3,6,3,3,3,6,3],[9,6,3,3,3,6,9]],score:400e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:160,timeout:3000},
{design:[[9,9,3,0,3,9,9],[9,3,3,3,3,3,9],[3,3,3,3,3,3,3],[0,3,3,3,3,3,0],[0,3,3,3,3,3,0],[3,3,3,3,3,3,3],[9,3,3,3,3,3,9],[9,9,3,0,3,9,9]],score:400e3,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:200,timeout:3000},
{design:[[3,3,3,3,3,3,3],[3,0,9,0,9,0,3],[3,3,3,3,3,3,3],[0,3,3,3,3,3,0],[9,0,9,0,9,0,9],[3,0,9,0,9,0,3],[3,3,3,3,3,3,3],[9,3,3,3,3,3,9]],score:400e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:160,timeout:3000},
{design:[[9,3,3,0,3,3,9],[3,3,3,3,3,3,3],[9,3,0,9,0,3,9],[0,3,0,9,0,3,0],[0,3,0,9,0,3,0],[9,3,0,9,0,3,9],[3,3,3,3,3,3,3],[9,3,3,0,3,3,9]],score:400e3,available:[1,5,3,4,2],target:[TARGETTYPE_JELLY],move:200,timeout:3000},

{design:[[0,9,2,2,2,9,0],[2,2,2,2,2,2,2],[2,2,2,2,2,2,2],[0,9,2,2,2,9,0],[13,13,13,13,13,13,13],[6,6,6,6,6,6,6],[0,9,0,9,0,9,0],[0,9,0,9,0,9,0]],score:400e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:150,timeout:4000,etimeout:4000},
{design:[[8,2,2,1,2,2,8],[2,2,2,1,2,2,2],[8,2,2,1,2,2,8],[0,0,6,1,6,0,0],[9,3,6,1,6,3,9],[3,3,6,1,6,3,3],[3,3,6,1,6,3,3],[9,3,6,1,6,3,9]],score:400e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:150,timeout:4000,etimeout:4000},
{design:[[0,1,1,1,1,1,0],[9,2,2,2,2,2,9],[0,3,3,3,3,3,0],[9,2,2,2,2,2,9],[0,1,1,1,1,1,0],[0,0,6,6,6,0,0],[0,9,6,6,6,9,0],[9,13,13,13,13,13,9]],score:400e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:150,timeout:4000,etimeout:4000},
{design:[[9,0,9,0,9,0,9],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,3,3,3,3,3],[3,3,0,0,0,3,3],[3,3,0,0,0,3,3],[3,3,3,3,3,3,3],[9,0,9,0,9,0,9]],score:400e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:150,timeout:4000,etimeout:4000},
{design:[[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,2,0,9,0,2,0],[0,0,0,9,0,0,0]],score:400e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:150,timeout:4000,etimeout:4000},
{design:[[9,3,3,3,3,3,9],[0,9,3,3,3,9,0],[0,0,3,3,3,0,0],[0,0,0,3,0,0,0],[0,0,0,3,0,0,0],[0,0,3,3,3,0,0],[0,9,3,3,3,9,0],[9,3,3,3,3,3,9]],score:400e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:150,timeout:4000,etimeout:4000},
{design:[[7,1,0,0,0,1,7],[3,3,3,3,3,3,3],[9,3,3,3,3,3,9],[0,1,0,0,0,1,0],[0,1,0,0,0,1,0],[9,3,3,3,3,3,9],[3,3,3,3,3,3,3],[7,1,0,0,0,1,7]],score:400e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:150,timeout:4000,etimeout:4000},
{design:[[9,1,1,1,1,1,9],[2,0,2,2,2,0,2],[2,0,2,2,2,0,2],[9,1,1,1,1,1,9],[0,0,0,0,0,6,0],[0,9,6,6,6,9,0],[0,6,6,6,6,6,0],[0,9,6,6,6,9,0]],score:400e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:150,timeout:4000,etimeout:4000},
{design:[[0,0,6,6,6,0,0],[0,9,6,6,6,9,0],[9,3,3,3,3,3,9],[0,2,2,2,2,2,0],[0,2,2,2,2,2,0],[9,3,3,3,3,3,9],[0,9,6,6,6,9,0],[0,0,6,6,6,0,0]],score:400e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:150,timeout:4000,etimeout:4000},
{design:[[9,3,6,6,6,3,9],[0,3,6,6,6,3,0],[9,3,3,0,3,3,9],[0,3,3,3,3,3,0],[9,3,3,3,3,3,9],[0,3,3,0,3,3,0],[9,3,6,6,6,3,9],[0,3,6,6,6,3,0]],score:400e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:150,timeout:4000,etimeout:4000},

{design:[[9,9,3,0,3,9,9],[0,0,3,3,3,0,0],[9,9,3,0,3,9,9],[0,0,3,3,3,0,0],[3,3,3,0,3,3,3],[3,0,3,3,3,0,3],[3,3,3,0,3,3,3],[3,3,3,0,3,3,3]],score:500e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:200,timeout:3000,etimeout:3000},
{design:[[9,9,9,9,9,9,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,0,3,3,3,0,9],[9,9,9,9,9,9,9]],score:500e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:200,timeout:3000,etimeout:3000},
{design:[[3,3,0,3,0,3,3],[3,3,3,3,3,3,3],[3,3,0,3,0,3,3],[3,3,3,3,3,3,3],[3,3,0,9,0,3,3],[3,3,9,9,9,3,3],[3,9,9,9,9,9,3],[9,9,9,9,9,9,9]],score:500e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:200,timeout:3000,etimeout:3000},
{design:[[9,3,3,3,3,3,9],[0,0,0,0,0,0,0],[9,0,3,0,3,0,9],[3,3,3,3,3,3,3],[0,3,3,0,3,3,0],[9,3,3,3,3,3,9],[3,3,3,3,3,3,3],[9,3,0,3,0,3,9]],score:500e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:200,timeout:3000,etimeout:3000},
{design:[[0,3,3,3,3,3,0],[9,3,3,0,3,3,9],[3,0,3,0,3,0,3],[3,9,3,3,3,9,3],[3,0,3,3,3,0,3],[3,9,3,3,3,9,3],[3,0,3,3,3,0,3],[9,3,3,3,3,3,9]],score:500e3,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:200,timeout:3000,etimeout:3000},
{design:[[0,3,3,3,3,3,0],[9,3,3,3,3,3,9],[0,3,3,3,3,3,0],[9,0,9,0,9,0,9],[3,9,3,9,3,9,3],[3,0,3,0,3,0,3],[3,9,3,9,3,9,3],[0,9,0,9,0,9,0]],score:500e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:200,timeout:3000,etimeout:3000},
{design:[[9,6,3,3,3,6,9],[3,6,3,3,3,6,3],[3,3,3,3,3,3,3],[0,9,0,9,0,9,0],[0,0,0,0,0,0,0],[0,9,0,9,0,9,0],[3,6,3,3,3,6,3],[9,6,3,3,3,6,9]],score:500e3,available:[1,2,3,4,5],target:[TARGETTYPE_JELLY],move:200,timeout:3000,etimeout:3000},
{design:[[9,9,3,0,3,9,9],[9,3,3,3,3,3,9],[3,3,3,3,3,3,3],[0,3,3,3,3,3,0],[0,3,3,3,3,3,0],[3,3,3,3,3,3,3],[9,3,3,3,3,3,9],[9,9,3,0,3,9,9]],score:500e3,available:[1,4,3,5,2],target:[TARGETTYPE_JELLY],move:200,timeout:3000,etimeout:3000},
{design:[[3,3,3,3,3,3,3],[3,0,9,0,9,0,3],[3,3,3,3,3,3,3],[0,3,3,3,3,3,0],[9,0,9,0,9,0,9],[3,0,9,0,9,0,3],[3,3,3,3,3,3,3],[9,3,3,3,3,3,9]],score:500e3,available:[1,3,4,5,2],target:[TARGETTYPE_JELLY],move:200,timeout:3000,etimeout:3000},
{design:[[9,3,3,0,3,3,9],[3,3,3,3,3,3,3],[9,3,0,9,0,3,9],[0,3,0,9,0,3,0],[0,3,0,9,0,3,0],[9,3,0,9,0,3,9],[3,3,3,3,3,3,3],[9,3,3,0,3,3,9]],score:500e3,available:[1,5,3,4,2],target:[TARGETTYPE_JELLY],move:200,timeout:3000,etimeout:3000}

],arrButtons=[],arrClickHandler=[],arrClickContext=[];

/*temp*/
for(var e=0;e<TOTAL_LEVEL;e++)objLevelData[e].score=Math.floor((objLevelData[e].score*1.15+100)/100)*100,objLevelData[e].move=Math.floor(objLevelData[e].move*1.15+1);
for(var a,b,t,d=0;d<(TOTAL_LEVEL-10)/20;d++)for(e=0;e<10;e++){switch(a=d*20+10+e,e){case 0:b=d*20+25;break;case 1:b=d*20+22;break;case 2:b=d*20+26;break;case 3:b=d*20+20;break;case 4:b=d*20+28;break;case 5:b=d*20+21;break;case 6:b=d*20+27;break;case 7:b=d*20+23;break;case 8:b=d*20+29;break;case 9:b=d*20+24;break;}t=objLevelData[a],objLevelData[a]=objLevelData[b],objLevelData[b]=t}

TOTAL_LEVEL=220,STAGESELECT_POSITION=STAGESELECT_POSITION.concat(EXTRA_POSITION);

module=function(){},module.prototype={randomRangeInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randomRangeFloat:function(e,t){return e+Math.random()*(t-e+1)},convertToTimeString:function(e){var t,i;return t=Math.floor(e/60),i=e-60*t,10>t&&(t="0"+t.toString()),10>i&&(i="0"+i.toString()),t+":"+i},callTransitionIn:function(e,t){var i=game.add.graphics(0,0);i.beginFill(0,1),i.drawRect(0,0,game.width,game.height),i.alpha=0,i.endFill(),game.add.tween(i).to({alpha:1},500,Phaser.Easing.Linear.None,!0).onComplete.add(function(){e&&e.apply(t,[]),game.time.events.add(1e3,function(){i.destroy(),i=null},this)},this)},callTransitionOut:function(e,t){var i=game.add.graphics(0,0);i.beginFill(0,1),i.drawRect(0,0,game.width,game.height),i.alpha=1,i.endFill(),game.add.tween(i).to({alpha:0},800,Phaser.Easing.Linear.None,!0).onComplete.add(function(){e&&e.apply(t,[]),game.time.events.add(1e3,function(){i.destroy(),i=null},this)},this)},callTransitionInOut:function(e,t){var i=game.add.graphics(0,0);i.beginFill(0,1),i.drawRect(0,0,game.width,game.height),i.alpha=0,i.endFill(),game.add.tween(i).to({alpha:1},500,Phaser.Easing.Linear.None,!0).onComplete.add(function(){e&&e.apply(t,[]),game.add.tween(i).to({alpha:0},500,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.time.events.add(1e3,function(){i.destroy(),i=null},this)},this)},this)},createButton:function(e,t,i,a,o,s,r,n,h,l){return tmpButton=game.add.sprite(e,t,s),tmpButton.frameName=r,tmpButton.name=n,tmpButton.inputEnabled=!0,tmpButton.events.onInputDown.add(this.clickHandler,this),tmpButton.events.onInputUp.add(this.releaseHandler,this),tmpButton.anchor.setTo(i,a),o.add(tmpButton),arrButtons.push(tmpButton),arrClickHandler.push(h),arrClickContext.push(l),tmpButton},clickHandler:function(e){var t=arrButtons.indexOf(e);e.scale.setTo(.95*e.scale.x,.95*e.scale.y),objAudioHandler.playSFX("SFX_Click1"),null!=arrClickContext[t]&&arrClickHandler[t].apply(arrClickContext[t],[e])},releaseHandler:function(e){e.scale.setTo(e.scale.x/.95,e.scale.y/.95)},localizeText:function(e){var t=window.company.__(e);if(t)return t;var i=game.cache.getJSON("text-localize");return i[e][LANG]},destroyButton:function(e){var t=arrButtons.indexOf(e);-1!=t&&(arrButtons[t].destroy(),arrButtons[t]=null,arrButtons.splice(t,1),arrClickContext.splice(t,1),arrClickHandler.splice(t,1))},destroyAllButtons:function(){for(var e=0;e<arrButtons.length;e++)null!=arrButtons[e]&&(arrButtons[e].destroy(),arrButtons[e]=null);arrButtons=[],arrClickContext=[],arrClickHandler=[]},convertColToX:function(e,t,i){return t+e*i},convertXToCol:function(e,t,i){return Math.floor((e-t)/i)},convertRowToY:function(e,t,i){return t+e*i},convertYToRow:function(e,t,i){return Math.floor((e-t)/i)}},pooler=function(e,t){this.nMaxObject=e,this.nType=t,this.arrObj=[];for(var i=0;i<this.nMaxObject;i++)this.arrObj.push(this.createNewObject())},pooler.prototype={callObject:function(){var e,t=null;for(e=0;e<this.arrObj.length;e++)this.arrObj[e].onUse||(t=this.arrObj[e]);return null==t&&(t=this.createNewObject(),this.arrObj.push(t)),t.activate(),t},refresh:function(){var e;if(!(this.arrObj.length<=this.nMaxObject))for(e=this.arrObj.length-1;e>=0&&this.arrObj.length>this.nMaxObject;e--)this.arrObj[e].onUse||this.arrObj.splice(e,1)},createNewObject:function(){var e;switch(this.nType){case POOLER_PARTICLE1:e=new particle1;break;case POOLER_PARTICLE2:e=new particle2;break;case POOLER_PARTICLE3:e=new particle3;break;case POOLER_PARTICLE4:e=new particle4;break;case POOLER_SCOREDIGIT1:e=new scoredigit1;break;case POOLER_SCOREDIGIT2:e=new scoredigit2;break;case POOLER_SCOREDIGIT3:e=new scoredigit3;break;case POOLER_SCOREDIGIT4:e=new scoredigit4;break;case POOLER_SCOREDIGIT5:e=new scoredigit5;break;case POOLER_SCOREDIGIT6:e=new scoredigit6}return e},destroy:function(){var e;for(e=0;e<this.arrObj.length;e++)this.arrObj[e].destroy(),this.arrObj[e]=null;this.arrObj=[]}},audiohandler=function(){game.device.webAudio&&!Phaser.Device.isAndroidStockBrowser()&&(this.BGM=game.add.audio("BGM"),this.BGM.addMarker("BGM_lose",0,6),this.BGM.addMarker("BGM_mainmenu",7,32),this.BGM.addMarker("BGM_ingame",40,35),this.SFX=[],this.SFX=game.add.audio("SFX"),this.SFX.addMarker("SFX_Blob",0,.2),this.SFX.addMarker("SFX_Clap",2,3.4),this.SFX.addMarker("SFX_Click1",7,.2),this.SFX.addMarker("SFX_Click2",9,.3),this.SFX.addMarker("SFX_Explode",11,3.4),this.SFX.addMarker("SFX_Powerup",16,2),this.SFX.addMarker("SFX_Star1",19,2),this.SFX.addMarker("SFX_Star2",22,.7),this.SFX.addMarker("SFX_VOGreat",24,1),this.SFX.addMarker("SFX_VONice",27,1.5),this.SFX.addMarker("SFX_VOPerfect",30,1.8),this.SFX.allowMultiple=!0,this.bgmVol=.4,this.sfxVol=1)},audiohandler.prototype={playBGM:function(e,t){game.device.webAudio&&!Phaser.Device.isAndroidStockBrowser()&&this.BGM.play(e,0,this.bgmVol,t)},pauseBGM:function(){game.device.webAudio&&!Phaser.Device.isAndroidStockBrowser()&&this.BGM.pause()},resumeBGM:function(){game.device.webAudio&&!Phaser.Device.isAndroidStockBrowser()&&this.BGM.resume()},stopBGM:function(){if(game.device.webAudio&&!Phaser.Device.isAndroidStockBrowser())try{this.BGM.stop()}catch(e){console.log(e.message)}},playSFX:function(e){game.device.webAudio&&!Phaser.Device.isAndroidStockBrowser()&&this.SFX.play(e,0,this.sfxVol)},resetVol:function(){game.device.webAudio&&!Phaser.Device.isAndroidStockBrowser()&&(this.bgmVol=this.BGM.volume=objGameSave.sound?.6:0,this.sfxVol=this.SFX.volume=objGameSave.sound?.8:0)},fadeOutBGM:function(e){game.device.webAudio&&!Phaser.Device.isAndroidStockBrowser()&&game.add.tween(this.BGM).to({volume:0},400,Phaser.Easing.Linear.None,!0).onComplete.add(function(){if(e)try{this.BGM.stop()}catch(t){console.log(t.message)}},this)},fadeInBGM:function(){game.device.webAudio&&!Phaser.Device.isAndroidStockBrowser()&&(this.BGM.volume=0,game.add.tween(this.BGM).to({volume:this.bgmVol},800,Phaser.Easing.Linear.None,!0))},isBGMPlaying:function(){return game.device.webAudio&&!Phaser.Device.isAndroidStockBrowser()?this.BGM.isPlaying:void 0},destroy:function(){game.device.webAudio&&!Phaser.Device.isAndroidStockBrowser()&&(this.BGM.destroy(),this.BGM=null,this.SFX.destroy(),this.SFX=null)}},complimenttext=function(){this.objMainGroup=game.add.group(),this.objCompliment=game.add.sprite(0,0,"atlas-localized"),this.objCompliment.frameName="obj-nicetext.png",this.objCompliment.anchor.setTo(.5,.5),this.objMainGroup.add(this.objCompliment)},complimenttext.prototype={play:function(e,t,i){switch(this.objMainGroup.visible=!0,i){
case 1:this.objCompliment.frameName="obj-nicetext.png";break;
case 2:this.objCompliment.frameName="obj-greattext.png";break;
case 3:this.objCompliment.frameName="obj-perfecttext.png"}
this.objMainGroup.x=e,this.objMainGroup.y=t+10,this.objMainGroup.alpha=.8,this.objMainGroup.scale.setTo(.2,.2),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1200,Phaser.Easing.Elastic.Out,!0).onComplete.add(function(){this.objMainGroup.visible=!1},this),game.add.tween(this.objMainGroup).to({y:t-10,alpha:1},600,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objMainGroup).to({y:t-12,alpha:0},400,Phaser.Easing.Linear.None,!0)},this)},destroy:function(){this.objCompliment.destroy(),this.objCompliment=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(complimenttext.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(complimenttext.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(complimenttext.prototype,"group",{get:function(){return this.objMainGroup}}),creditsboard=function(e,t,i){this.objBlackScreen=game.add.sprite(0,0,"atlas-game1"),this.objBlackScreen.frameName="bg-black.png",this.objBlackScreen.scale.setTo(SCALED_WIDTH/4,SCALED_HEIGHT/4),this.objBlackScreen.visible=!1,e.add(this.objBlackScreen),this.objMainGroup=game.add.group(),e.add(this.objMainGroup),this.objBoard=game.add.sprite(0,0,"atlas-game1"),this.objBoard.frameName="bg-board.png",this.objBoard.anchor.setTo(.5,.5),this.objMainGroup.add(this.objBoard),this.txtTitleCredits=game.add.bitmapText(0,-195,"fnt-berlinsans4","Credits",40),this.txtTitleCredits.updateTransform(),this.txtTitleCredits.x=.5*-this.txtTitleCredits.textWidth,this.objMainGroup.add(this.txtTitleCredits),this.txtTitleProgrammer=game.add.bitmapText(0,-110,"fnt-berlinsans2",objGameModule.localizeText("PROGRAM"),26),this.txtTitleProgrammer.tint=9055528,this.txtTitleProgrammer.updateTransform(),this.txtTitleProgrammer.x=.5*-this.txtTitleProgrammer.textWidth,this.objMainGroup.add(this.txtTitleProgrammer),this.txtNameProgrammer=game.add.bitmapText(0,-75,"fnt-arial1","",22),this.txtNameProgrammer.tint=9055528,this.txtNameProgrammer.updateTransform(),this.txtNameProgrammer.x=.5*-this.txtNameProgrammer.textWidth,this.objMainGroup.add(this.txtNameProgrammer),this.txtTitleGraphics=game.add.bitmapText(0,-30,"fnt-berlinsans2",objGameModule.localizeText("GRAPHIC"),26),
this.txtTitleGraphics.tint=9055528,this.txtTitleGraphics.updateTransform(),this.txtTitleGraphics.x=.5*-this.txtTitleGraphics.textWidth,this.objMainGroup.add(this.txtTitleGraphics),this.txtNameGraphics=game.add.bitmapText(0,5,"fnt-arial1","",22),this.txtNameGraphics.tint=9055528,this.txtNameGraphics.updateTransform(),this.txtNameGraphics.x=.5*-this.txtNameGraphics.textWidth,this.objMainGroup.add(this.txtNameGraphics),this.txtTitleAudio=game.add.bitmapText(0,50,"fnt-berlinsans2",objGameModule.localizeText("MUSIC"),26),this.txtTitleAudio.tint=9055528,this.txtTitleAudio.updateTransform(),this.txtTitleAudio.x=.5*-this.txtTitleAudio.textWidth,this.objMainGroup.add(this.txtTitleAudio),this.txtNameAudio=game.add.bitmapText(0,85,"fnt-arial1","",22),this.txtNameAudio.tint=9055528,this.txtNameAudio.updateTransform(),this.txtNameAudio.x=.5*-this.txtNameAudio.textWidth,this.objMainGroup.add(this.txtNameAudio),this.btnOK=objGameModule.createButton(0,180,.5,.5,this.objMainGroup,"atlas-game1","btn-yes.png","hideCredits",t,i),this.objMainGroup.visible=!1},creditsboard.prototype={show:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:.5},1e3,Phaser.Easing.Linear.None,!0),this.objMainGroup.visible=!0,this.objMainGroup.alpha=0,this.objMainGroup.scale.setTo(0,0),this.btnOK.alpha=0,this.btnOK.scale.setTo(0,0),game.add.tween(this.objMainGroup).to({alpha:1},300,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1e3,Phaser.Easing.Elastic.Out,!0),game.add.tween(this.btnOK).to({alpha:1},200,Phaser.Easing.Linear.None,!0,300),game.add.tween(this.btnOK.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0,300)},hide:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:0},400,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.objBlackScreen.inputEnabled=!1,this.objBlackScreen.visible=!1},this),game.add.tween(this.objMainGroup).to({alpha:0},150,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:0,y:0},300,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.objMainGroup.visible=!1},this)},destroy:function(){this.objBlackScreen.destroy(),this.objBlackScreen=null,this.objBoard.destroy(),this.objBoard=null,this.txtTitleCredits.destroy(),this.txtTitleCredits=null,this.txtTitleProgrammer.destroy(),this.txtTitleProgrammer=null,this.txtNameProgrammer.destroy(),this.txtNameProgrammer=null,this.txtTitleGraphics.destroy(),this.txtTitleGraphics=null,this.txtNameGraphics.destroy(),this.txtNameGraphics=null,this.txtTitleAudio.destroy(),this.txtTitleAudio=null,this.txtNameAudio.destroy(),this.txtNameAudio=null,this.btnOK.destroy(),this.btnOK=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(creditsboard.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(creditsboard.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(creditsboard.prototype,"group",{get:function(){return this.objMainGroup}}),fruitacrushanim=function(){this.objMainGroup=game.add.group(),this.objFruitaCrush=game.add.sprite(0,0,"atlas-localized"),this.objFruitaCrush.frameName="obj-fruitacrush.png",this.objFruitaCrush.anchor.setTo(.5,.5),this.objMainGroup.add(this.objFruitaCrush)},fruitacrushanim.prototype={play:function(e,t,i){this.objMainGroup.visible=!0,i.add(this.objMainGroup),this.objMainGroup.x=e,this.objMainGroup.y=t+10,this.objMainGroup.alpha=.8,this.objMainGroup.scale.setTo(.2,.2),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1200,Phaser.Easing.Elastic.Out,!0).onComplete.add(function(){this.objMainGroup.visible=!1},this),game.add.tween(this.objMainGroup).to({y:t-10,alpha:1},600,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objMainGroup).to({y:t-12,alpha:0},400,Phaser.Easing.Linear.None,!0)},this)},destroy:function(){this.objFruitaCrush.destroy(),this.objFruitaCrush=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(fruitacrushanim.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(fruitacrushanim.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(fruitacrushanim.prototype,"group",{get:function(){return this.objMainGroup}}),hintarrow=function(e){this.objMainGroup=game.add.group(),e.add(this.objMainGroup),this.objArrow1=game.add.sprite(2,-10,"atlas-game1"),this.objArrow1.frameName="obj-arrow.png",this.objArrow1.anchor.setTo(.5,.5),this.objArrow1.angle=90,this.objMainGroup.add(this.objArrow1),this.objArrow2=game.add.sprite(-2,10,"atlas-game1"),this.objArrow2.frameName="obj-arrow.png",this.objArrow2.anchor.setTo(.5,.5),this.objArrow2.angle=270,this.objMainGroup.add(this.objArrow2),this.hide()},hintarrow.prototype={show:function(e,t,i){this.objMainGroup.visible=!0,this.objMainGroup.x=e,this.objMainGroup.y=t,this.objMainGroup.alpha=0,this.objMainGroup.angle=i,game.tweens.removeFrom(this.objMainGroup,!0),this.objArrow1.x=2,this.objArrow1.y=-10,this.objArrow2.x=-2,this.objArrow2.y=10,game.add.tween(this.objMainGroup).to({alpha:1},200,Phaser.Easing.Linear.None,!0),this.startArrowTweenLoop()},hide:function(){this.objMainGroup.visible=!1,game.tweens.removeFrom(this.objMainGroup,!0)},startArrowTweenLoop:function(){game.add.tween(this.objArrow1).to({x:10},400,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objArrow1).to({x:2},400,Phaser.Easing.Linear.None,!0)},this),game.add.tween(this.objArrow2).to({x:-10},400,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objArrow2).to({x:-2},400,Phaser.Easing.Linear.None,!0).onComplete.add(this.startArrowTweenLoop,this)},this)},destroy:function(){game.tweens.removeFrom(this.objMainGroup,!0),this.objArrow1.destroy(),this.objArrow1=null,this.objArrow2.destroy(),this.objArrow2=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(hintarrow.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(hintarrow.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(hintarrow.prototype,"group",{get:function(){return this.objMainGroup}}),htpboard=function(e,t,i){this.objBlackScreen=game.add.sprite(0,0,"atlas-game1"),this.objBlackScreen.frameName="bg-black.png",this.objBlackScreen.scale.setTo(SCALED_WIDTH/4,SCALED_HEIGHT/4),this.objBlackScreen.visible=!1,e.add(this.objBlackScreen),this.objMainGroup=game.add.group(),e.add(this.objMainGroup),this.objBoard=game.add.sprite(0,0,"atlas-game1"),

/*text*/
/*this.objBoard.frameName="bg-board.png",*/
this.objBoard.frameName="bg-tips.png",

this.objBoard.anchor.setTo(.5,.5),this.objMainGroup.add(this.objBoard),

/*text*/
/*
this.txtTitle=game.add.bitmapText(0,-190,"fnt-berlinsans4",objGameModule.localizeText("TUTORIAL"),32),this.txtTitle.updateTransform(),this.txtTitle.x=.5*-this.txtTitle.textWidth,this.objMainGroup.add(this.txtTitle),
*/
this.txtTitle=game.add.text(0,-170,objGameModule.localizeText("TUTORIAL"),{font: "bold 32px Arial", fill: "white", boundsAlignH: "center", boundsAlignV: "middle"}),
this.txtTitle.anchor.set(0.5),
this.objMainGroup.add(this.txtTitle),


this.objTutorialImg=game.add.sprite(0,-40,"atlas-tutorial"),this.objTutorialImg.anchor.setTo(.5,.5),this.objMainGroup.add(this.objTutorialImg),this.objTutorialText=game.add.sprite(0,60,"atlas-localized"),this.objTutorialText.anchor.setTo(.5,.5),this.objMainGroup.add(this.objTutorialText),this.btnPrev=objGameModule.createButton(-95,175,.5,.5,this.objMainGroup,"atlas-game1","btn-prev.png","prev",this.clickListener,this),this.btnOK=objGameModule.createButton(0,170,.5,.5,this.objMainGroup,"atlas-game1","btn-yes.png","closeHTP",this.clickListener,this),this.btnNext=objGameModule.createButton(95,175,.5,.5,this.objMainGroup,"atlas-game1","btn-next.png","next",this.clickListener,this),this.nTutorialID=0,this.onShow=!1,this.updtListener=t,this.updtContext=i,this.objMainGroup.visible=!1},htpboard.prototype={show:function(e){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:.5},1e3,Phaser.Easing.Linear.None,!0),this.objMainGroup.visible=!0,this.objMainGroup.alpha=0,this.objMainGroup.scale.setTo(0,0),this.btnPrev.alpha=0,this.btnPrev.scale.setTo(0,0),this.btnOK.alpha=0,this.btnOK.scale.setTo(0,0),this.btnNext.alpha=0,this.btnNext.scale.setTo(0,0),this.nTutorialID=e,this.setFrame(this.nTutorialID),game.add.tween(this.objMainGroup).to({alpha:1},300,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1e3,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob"),

/*fix*/
/*
this.onShow?game.time.events.add(300,function(){game.add.tween(this.btnOK).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnOK.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this):
(game.time.events.add(300,function(){game.add.tween(this.btnPrev).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnPrev.scale).to({x:.7,y:.7},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(400,function(){game.add.tween(this.btnOK).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnOK.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(500,function(){game.add.tween(this.btnNext).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnNext.scale).to({x:.7,y:.7},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this))},
*/
b1=this.btnPrev,b2=this.btnOK,b3=this.btnNext,
this.onShow?game.time.events.add(300,function(){game.add.tween(b2).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(b2.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this):
(game.time.events.add(300,function(){game.add.tween(b1).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(b1.scale).to({x:.7,y:.7},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(400,function(){game.add.tween(b2).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(b2.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(500,function(){game.add.tween(b3).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(b3.scale).to({x:.7,y:.7},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this))},

"continue":function(e){this.nTutorialID=e,this.setFrame(this.nTutorialID)},onGameTutorial:function(){

/*temp*/
/*
switch(this.onShow=!0,nGameLevel){case 0:this.show(0);break;case 2:this.show(4);break;case 5:this.show(6);break;case 10:this.show(10);break;case 21:this.show(9);break;case 40:this.show(7);break;case 46:this.show(8)}
*/
this.onShow=!0,this.show(tutor[nGameLevel])

},clickListener:function(e){switch(e.name){case"prev":--this.nTutorialID<0&&(this.nTutorialID=10),this.setFrame(this.nTutorialID);break;case"next":++this.nTutorialID>10&&(this.nTutorialID=0),this.setFrame(this.nTutorialID);break;case"closeHTP":if(this.onShow)switch(nGameLevel){case 0:switch(this.nTutorialID){case 0:this["continue"](1);break;case 1:this["continue"](2);break;case 2:this["continue"](3);break;case 3:this["continue"](5);break;case 5:this.onShow=!1,this.updtListener.apply(this.updtContext,[e])

/*tutor*/
;break;
case 11:this.onShow=!1,this.updtListener.apply(this.updtContext,[e])
}break;

default:this.updtListener.apply(this.updtContext,[e])}else this.updtListener.apply(this.updtContext,[e])}},setFrame:function(e){this.objTutorialImg.frameName="obj-tutorialimg"+e+".png",this.objTutorialText.frameName="obj-tutorialtext"+e+".png"},hide:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:0},400,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.objBlackScreen.inputEnabled=!1,this.objBlackScreen.visible=!1},this),game.add.tween(this.objMainGroup).to({alpha:0},150,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:0,y:0},300,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.objMainGroup.visible=!1},this)},destroy:function(){this.objBlackScreen.destroy(),this.objBlackScreen=null,this.objBoard.destroy(),this.objBoard=null,this.txtTitle.destroy(),this.txtTitle=null,this.objTutorialImg.destroy(),this.objTutorialImg=null,this.objTutorialText.destroy(),this.objTutorialText=null,this.btnPrev.destroy(),this.btnPrev=null,this.btnOK.destroy(),this.btnOK=null,this.btnNext.destroy(),this.btnNext=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(htpboard.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(htpboard.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(htpboard.prototype,"group",{get:function(){return this.objMainGroup}}),infoboard=function(e){this.objMainGroup=game.add.group(),e.add(this.objMainGroup),

/*text*/
/*
this.objBoard1=game.add.sprite(0,0,"atlas-game1"),
*/
this.objBoard1=game.add.sprite(0,0,"atlas-localized"),

/*text*/
/*
this.objBoard1.frameName="obj-ginfoboard1.png",
*/
this.objBoard1.frameName="obj-mainboard.png",

this.objMainGroup.add(this.objBoard1),this.objBoard2=game.add.sprite(.5*SCALED_WIDTH,0,"atlas-game1"),

/*text*/
/*
this.objBoard2.frameName="obj-ginfoboard2.png",
*/
this.objBoard2.frameName="obj-null.png",

this.objBoard2.anchor.setTo(.65,0),this.objMainGroup.add(this.objBoard2),this.objBoard3=game.add.sprite(SCALED_WIDTH,0,"atlas-game1"),

/*text*/
/*
this.objBoard3.frameName="obj-ginfoboard3.png",
*/
this.objBoard3.frameName="obj-null.png",

this.objBoard3.anchor.setTo(1,0),this.objMainGroup.add(this.objBoard3),this.particle2Manager=new pooler(1,POOLER_PARTICLE2),

/*text*/
/*
this.objMovesText=game.add.sprite(15,12,"atlas-localized"),
*/
this.objMovesText=game.add.sprite(15,18,"atlas-localized"),

this.objMovesText.frameName="obj-movestext.png",this.objMainGroup.add(this.objMovesText),this.objMoveNotif=game.add.sprite(60,70,"atlas-game1"),this.objMoveNotif.frameName="obj-explode1.png",this.objMoveNotif.anchor.setTo(.5,.5),this.objMoveNotif.visible=!1,this.objMainGroup.add(this.objMoveNotif),

/*text*/
/*
this.txtMoveLeft=game.add.bitmapText(30,50,"fnt-franklingothic1","10",50),
*/
this.txtMoveLeft=game.add.bitmapText(30,50,"fnt-score3","10",35),

this.objMainGroup.add(this.txtMoveLeft),this.objScoreText=game.add.sprite(0,30,"atlas-localized"),this.objScoreText.anchor.setTo(.5,.5),this.objScoreText.x=405,this.objScoreText.frameName="obj-scoretext.png",this.objMainGroup.add(this.objScoreText),

/*text*/
/*
this.txtScoreGained=game.add.bitmapText(0,45,"fnt-berlinsans2","0",30),this.txtScoreGained.tint=9055528,
*/
this.txtScoreGained=game.add.bitmapText(0,45,"fnt-berlinsans1","0",30),

this.objMainGroup.add(this.txtScoreGained),this.timeScoreUpdate=null,this.objScoreBar=game.add.sprite(150,52,"atlas-game1"),

/*text*/
/*
this.objScoreBar.frameName="obj-scorebar.png",
*/
this.objScoreBar.frameName="obj-null.png",

this.objMainGroup.add(this.objScoreBar),this.objScoreBarMask={x:0,y:0,width:0,height:this.objScoreBar.height},this.objScoreBar.crop(this.objScoreBarMask),this.objScoreLine1=game.add.sprite(180,52,"atlas-game1"),

/*text*/
/*
this.objScoreLine1.frameName="obj-boardline.png",
*/
this.objScoreLine1.frameName="obj-null.png",

this.objMainGroup.add(this.objScoreLine1),this.objScoreLine2=game.add.sprite(227,50,"atlas-game1"),

/*text*/
/*
this.objScoreLine2.frameName="obj-boardline.png",
*/
this.objScoreLine2.frameName="obj-null.png",

this.objMainGroup.add(this.objScoreLine2),

/*text*/
/*
this.objScoreStar1=game.add.sprite(180,80,"atlas-anim1"),
*/
this.objScoreStar1=game.add.sprite(0,0,"atlas-anim1"),this.objScoreStar1.visible=!1,

this.objScoreStar1.anchor.setTo(.5,.5),this.objScoreStar1.animations.add("star"),this.objMainGroup.add(this.objScoreStar1),

/*text*/
/*
this.objScoreStar2=game.add.sprite(228,80,"atlas-anim1"),
*/
this.objScoreStar2=game.add.sprite(0,0,"atlas-anim1"),this.objScoreStar2.visible=!1,

this.objScoreStar2.anchor.setTo(.5,.5),this.objScoreStar2.animations.add("star"),this.objMainGroup.add(this.objScoreStar2),

/*text*/
/*
this.objScoreStar3=game.add.sprite(275,80,"atlas-anim1"),
*/
this.objScoreStar3=game.add.sprite(0,0,"atlas-anim1"),this.objScoreStar3.visible=!1,

this.objScoreStar3.anchor.setTo(.5,.5),this.objScoreStar3.animations.add("star"),this.objMainGroup.add(this.objScoreStar3),

/*text*/
/*
this.txtTrgScoreTitle=game.add.bitmapText(140,18,"fnt-berlinsans2",objGameModule.localizeText("TARGET")+" : ",18),this.txtTrgScoreTitle.tint=9055528,this.txtTrgScoreTitle.updateTransform(),this.objMainGroup.add(this.txtTrgScoreTitle),
this.txtTrgScoreValue=game.add.bitmapText(20,17,"fnt-berlinsans2","0",20),
*/
/*this.txtTrgScoreTitle=game.add.text(140,0,objGameModule.localizeText("TARGET")+" : ",{font: "bold 16px Arial", fill: "red", boundsAlignH: "center", boundsAlignV: "middle"}),
this.objMainGroup.add(this.txtTrgScoreTitle),
this.txtTrgScoreValue=game.add.bitmapText(target==""?190:140,16,"fnt-berlinsans2","0",24);
if(target!=""){s=game.add.sprite(245,25,"atlas-piece"),s.frameName=target,s.scale.setTo(0.5,0.5),
s.anchor.setTo(.5,.5),this.objMainGroup.add(s),
targetcount=game.add.bitmapText(270,16,"fnt-berlinsans2","0",24),
targetcount.tint=9055528,this.objMainGroup.add(targetcount)
}*/
this.objtargetText=game.add.sprite(0,0,"atlas-localized"),this.objtargetText.frameName="obj-targettext.png",this.objMainGroup.add(this.objtargetText),this.objtargetText.x=target==""?220:140,this.objtargetText.y=18,
this.txtTrgScoreValue=game.add.bitmapText(target==""?220:140,50,"fnt-berlinsans2","0",24);
if(target!=""){s=game.add.sprite(245,60,"atlas-piece"),s.frameName=target,s.scale.setTo(0.5,0.5),
s.anchor.setTo(.5,.5),this.objMainGroup.add(s),
targetcount=game.add.bitmapText(270,50,"fnt-berlinsans2","0",24),
targetcount.tint=9055528,this.objMainGroup.add(targetcount)
}

this.txtTrgScoreValue.tint=9055528,this.objMainGroup.add(this.txtTrgScoreValue),this.nTargetScore=0,this.nStarShined=0},infoboard.prototype={reset:function(e,t){this.setMoveLeft(e),this.setTargetScore(t),game.time.events.remove(this.timeScoreUpdate),this.timeScoreUpdate=null,this.txtScoreGained.text="0",this.txtScoreGained.updateTransform(),this.txtScoreGained.x=SCALED_WIDTH-.5*this.txtScoreGained.textWidth-75,this.objScoreBarMask.width=0,this.objScoreBar.crop(this.objScoreBarMask),this.objScoreStar1.scale.setTo(.3,.3),this.objScoreStar1.animations.stop(),this.objScoreStar1.animations.frame=0,this.objScoreStar2.scale.setTo(.3,.3),this.objScoreStar2.animations.stop(),this.objScoreStar2.animations.frame=0,this.objScoreStar3.scale.setTo(.3,.3),this.objScoreStar3.animations.stop(),this.objScoreStar3.animations.frame=0,this.nStarShined=0,this.objMoveNotif.visible=!1},setMoveLeft:function(e){this.txtMoveLeft.text=e.toString(),this.txtMoveLeft.updateTransform(),this.txtMoveLeft.x=60-.5*this.txtMoveLeft.textWidth,5>=e?this.objMoveNotif.visible||(this.objMoveNotif.visible=!0,this.notifyMoveLeft()):this.objMoveNotif.visible=!1},notifyMoveLeft:function(){game.tweens.removeFrom(this.objMoveNotif,!1),game.tweens.removeFrom(this.objMoveNotif.scale,!1),this.objMoveNotif.alpha=0,this.objMoveNotif.scale.setTo(.2,.2),game.add.tween(this.objMoveNotif).to({alpha:1},400,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMoveNotif.scale).to({x:.5,y:.5},400,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objMoveNotif).to({alpha:0},500,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMoveNotif.scale).to({x:1.3,y:1.3},600,Phaser.Easing.Linear.None,!0).onComplete.add(this.notifyMoveLeft,this)},this)},setTargetScore:function(e){this.txtTrgScoreValue.text=e,this.txtTrgScoreValue.updateTransform(),
/*text*/
/*
this.txtTrgScoreValue.x=this.txtTrgScoreTitle.x+this.txtTrgScoreTitle.textWidth+3,
*/

this.nTargetScore=e},setScoreGained:function(e){var t,i,a;t=parseInt(this.txtScoreGained.text),a=Math.floor(.2*(e-t)),game.time.events.remove(this.timeScoreUpdate),this.timeScoreUpdate=null,this.timeScoreUpdate=game.time.events.repeat(40,6,function(){if(t+=a,this.timeScoreUpdate.repeatCount<=0&&(game.time.events.remove(this.timeScoreUpdate),this.timeScoreUpdate=null),this.txtScoreGained.text=t.toString(),this.txtScoreGained.updateTransform(),this.txtScoreGained.x=SCALED_WIDTH-.5*this.txtScoreGained.textWidth-75,this.nStarShined<3)if(i=t/(2*this.nTargetScore),i=i>1?1:i,this.objScoreBarMask.width=i*BAR_WIDTH,this.objScoreBar.crop(this.objScoreBarMask),this.objScoreBarMask.width>=125){switch(this.nStarShined){case 0:this.playStar1(),this.playStar2(),this.playStar3();break;case 1:this.playStar2(),this.playStar3();break;case 2:this.playStar3()}this.nStarShined=3}else if(this.objScoreBarMask.width>=75){switch(this.nStarShined){case 0:this.playStar1(),this.playStar2();break;case 1:this.playStar2()}this.nStarShined=2}else this.objScoreBarMask.width>=30&&this.nStarShined<1&&(this.playStar1(),this.nStarShined=1)},this)},playStar1:function(){objAudioHandler.playSFX("SFX_Star1"),this.objScoreStar1.play("star",30),game.time.events.add(600,function(){this.particle2Manager.callObject().play(this.objScoreStar1.x,this.objScoreStar1.y,this.objMainGroup)},this)},playStar2:function(){objAudioHandler.playSFX("SFX_Star1"),this.objScoreStar2.play("star",30),game.time.events.add(600,function(){this.particle2Manager.callObject().play(this.objScoreStar2.x,this.objScoreStar2.y,this.objMainGroup)},this)},playStar3:function(){objAudioHandler.playSFX("SFX_Star1"),this.objScoreStar3.play("star",30),game.time.events.add(600,function(){this.particle2Manager.callObject().play(this.objScoreStar3.x,this.objScoreStar3.y,this.objMainGroup)},this)},destroy:function(){this.objBoard1.destroy(),this.objBoard1=null,this.objBoard2.destroy(),this.objBoard2=null,this.objBoard3.destroy(),this.objBoard3=null,this.particle2Manager.destroy(),this.particle2Manager=null,this.objMovesText.destroy(),this.objMovesText=null,this.objMoveNotif.destroy(),this.objMoveNotif=null,this.txtMoveLeft.destroy(),this.txtMoveLeft=null,this.objScoreText.destroy(),this.objScoreText=null,this.txtScoreGained.destroy(),this.txtScoreGained=null,this.timeScoreUpdate=null,this.objScoreBar.destroy(),this.objScoreBar=null,this.objScoreBarMask=null,this.objScoreLine1.destroy(),this.objScoreLine1=null,this.objScoreLine2.destroy(),this.objScoreLine2=null,this.objScoreStar1.destroy(),this.objScoreStar1=null,this.objScoreStar2.destroy(),this.objScoreStar2=null,this.objScoreStar3.destroy(),this.objScoreStar3=null,

/*text*/
/*
this.txtTrgScoreTitle.destroy(),
*/

this.txtTrgScoreTitle=null,this.txtTrgScoreValue.destroy(),this.txtTrgScoreValue=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(infoboard.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(infoboard.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(infoboard.prototype,"width",{get:function(){return this.objMainGroup.width}}),Object.defineProperty(infoboard.prototype,"height",{get:function(){return this.objMainGroup.height},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(infoboard.prototype,"group",{get:function(){return this.objMainGroup}}),loseboard=function(e,t,i){this.objBlackScreen=game.add.sprite(0,0,"atlas-game1"),this.objBlackScreen.frameName="bg-black.png",this.objBlackScreen.scale.setTo(SCALED_WIDTH/4,SCALED_HEIGHT/4),this.objBlackScreen.visible=!1,e.add(this.objBlackScreen),this.objMainGroup=game.add.group(),e.add(this.objMainGroup),this.objBoard=game.add.sprite(0,0,"atlas-game1"),this.objBoard.frameName="bg-board.png",this.objBoard.anchor.setTo(.5,.5),this.objMainGroup.add(this.objBoard),this.objStageFailed=game.add.sprite(0,-100,"atlas-localized"),this.objStageFailed.frameName="obj-stagefailedtext.png",this.objStageFailed.anchor.setTo(.5,.5),this.objMainGroup.add(this.objStageFailed),this.txtLevel=game.add.bitmapText(0,-190,"fnt-berlinsans4","0",40),this.objMainGroup.add(this.txtLevel),this.setLevel(12),

/*text*/
/*
this.txtScoreTitle=game.add.bitmapText(0,-60,"fnt-berlinsans2",objGameModule.localizeText("SCORE"),24),this.txtScoreTitle.updateTransform(),this.txtScoreTitle.x=.5*-this.txtScoreTitle.textWidth,this.txtScoreTitle.tint=12078407,this.objMainGroup.add(this.txtScoreTitle),
*/
this.txtScoreTitle=game.add.sprite(0,-70,"atlas-localized"),this.txtScoreTitle.frameName="obj-scoretext.png",this.txtScoreTitle.scale.setTo(1,1),this.txtScoreTitle.anchor.setTo(.5,0),this.objMainGroup.add(this.txtScoreTitle),

/*
this.txtScoreValue=game.add.bitmapText(0,-40,"fnt-berlinsans2","0",26),this.txtScoreValue.tint=9055528,this.objMainGroup.add(this.txtScoreValue),
*/
this.txtScoreValue=game.add.bitmapText(0,-40,"fnt-berlinsans1","0",26),this.objMainGroup.add(this.txtScoreValue),

/*text*/
/*
this.txtTargetTitle=game.add.bitmapText(0,5,"fnt-berlinsans2",objGameModule.localizeText("TARGET"),24),this.txtTargetTitle.updateTransform(),this.txtTargetTitle.x=.5*-this.txtTargetTitle.textWidth,this.txtTargetTitle.tint=12078407,this.objMainGroup.add(this.txtTargetTitle),
*/
this.txtTargetTitle=game.add.text(0,20,objGameModule.localizeText("TARGET"),{font: "bold 24px Arial", fill: "brown", boundsAlignH: "center", boundsAlignV: "middle"}),
this.txtTargetTitle.anchor.set(0.5),
this.objMainGroup.add(this.txtTargetTitle),

this.txtTargetValue=game.add.bitmapText(0,25,"fnt-berlinsans2","0",26),this.txtTargetValue.tint=9055528,this.objMainGroup.add(this.txtTargetValue);var a;this.objObjectiveGroup=game.add.group(),this.objMainGroup.add(this.objObjectiveGroup),this.arrObjective=[],this.arrChecked=[];var o,s;for(a=0;4>a;a++)

/*piece*/
/*o=game.add.sprite(70*a,95,"atlas-game1"),*/
o=game.add.sprite(70*a,95,"atlas-piece"),

o.anchor.setTo(.5,.5),o.visible=!1,this.objObjectiveGroup.add(o),this.arrObjective.push(o),s=game.add.sprite(0,110,"atlas-game1"),s.anchor.setTo(.5,.5),s.frameName="obj-check.png",s.visible=!1,this.objObjectiveGroup.add(s),this.arrChecked.push(s);

/*text*/
/*
this.btnRestart=objGameModule.createButton(-80,180,.5,.5,this.objMainGroup,"atlas-game1","btn-restart.png","restart",t,i),this.btnBackToMenu=objGameModule.createButton(80,180,.5,.5,this.objMainGroup,"atlas-game1","btn-menu2.png","backToMainMenu",t,i)},
*/
this.btnRestart=objGameModule.createButton(80,180,.5,.5,this.objMainGroup,"atlas-game1","btn-restart.png","restart",t,i),this.btnBackToMenu=objGameModule.createButton(-80,180,.5,.5,this.objMainGroup,"atlas-game1","btn-exit.png","backToMainMenu",t,i)},

loseboard.prototype={show:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:.5},1e3,Phaser.Easing.Linear.None,!0),this.objMainGroup.x=.5*SCALED_WIDTH,this.objMainGroup.y=.5*SCALED_HEIGHT-50,this.objMainGroup.alpha=0,game.add.tween(this.objMainGroup).to({alpha:1,y:.5*SCALED_HEIGHT-10},250,Phaser.Easing.Linear.None,!0)},setLevel:function(e){this.txtLevel.text=objGameModule.localizeText("Level")+" "+(e+1).toString(),this.txtLevel.updateTransform(),this.txtLevel.x=.5*-this.txtLevel.textWidth},setScore:function(e){this.txtScoreValue.text=e.toString(),this.txtScoreValue.updateTransform(),this.txtScoreValue.x=.5*-this.txtScoreValue.textWidth},setTarget:function(e){this.txtTargetValue.text=e.toString(),this.txtTargetValue.updateTransform(),this.txtTargetValue.x=.5*-this.txtTargetValue.textWidth},setObjective:function(e,t){var i,a;for(a=objLevelData[nGameLevel].target.length,i=0;a>i;i++){switch(objLevelData[nGameLevel].target[i]){

/*jelly*/
case TARGETTYPE_JELLY:this.arrObjective[i].frameName="obj-jellya.png",this.arrObjective[i].scale.setTo(.8,.8);break;

/*piece*/
/*case TARGETTYPE_INGREDIENTS:this.arrObjective[i].frameName="obj-piece70a.png",this.arrObjective[i].scale.setTo(1,1);break;
case TARGETTYPE_CREAM:this.arrObjective[i].frameName="obj-piece50a.png",this.arrObjective[i].scale.setTo(1,1);break;
case TARGETTYPE_CHOCO:this.arrObjective[i].frameName="obj-piece60a.png",this.arrObjective[i].scale.setTo(1,1)}
*/
case TARGETTYPE_INGREDIENTS:this.arrObjective[i].frameName="obj-piece70c.png",this.arrObjective[i].scale.setTo(0.7,0.7);break;
case TARGETTYPE_CREAM:this.arrObjective[i].frameName="obj-piece50c.png",this.arrObjective[i].scale.setTo(0.8,0.8);break;
case TARGETTYPE_CHOCO:this.arrObjective[i].frameName="obj-piece60c.png",this.arrObjective[i].scale.setTo(0.8,0.8)}

this.arrObjective[i].visible=!0,this.arrChecked[i].visible=!0,this.arrChecked[i].x=.5*this.arrObjective[i].width,this.arrChecked[i].frameName=t?"obj-check.png":"obj-cross.png"}this.objObjectiveGroup.x=.5*(-this.objObjectiveGroup.width+this.arrObjective[0].width)},destroy:function(){var e;for(this.objBlackScreen.destroy(),this.objBlackScreen=null,this.objBoard.destroy(),this.objBoard=null,this.objStageFailed.destroy(),this.objStageFailed=null,this.txtLevel.destroy(),this.txtLevel=null,this.txtScoreTitle.destroy(),this.txtScoreTitle=null,this.txtScoreValue.destroy(),this.txtScoreValue=null,this.txtTargetTitle.destroy(),this.txtTargetTitle=null,this.txtTargetValue.destroy(),this.txtTargetValue=null,this.btnRestart.destroy(),this.btnRestart=null,this.btnBackToMenu.destroy(),this.btnBackToMenu=null,e=0;e<this.arrObjective.length;e++)this.arrObjective[e].destroy(),this.arrObjective[e]=null,this.arrChecked[e].destroy(),this.arrChecked[e]=null;this.arrObjective=[],this.arrChecked=[],this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(loseboard.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(loseboard.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(loseboard.prototype,"width",{get:function(){return this.objMainGroup.width}}),Object.defineProperty(loseboard.prototype,"height",{get:function(){return this.objMainGroup.height},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(loseboard.prototype,"group",{get:function(){return this.objMainGroup}}),objectiveboard=function(e,t,i){var a;this.objBlackScreen=game.add.sprite(0,0,"atlas-game1"),this.objBlackScreen.frameName="bg-black.png",this.objBlackScreen.scale.setTo(SCALED_WIDTH/4,SCALED_HEIGHT/4),this.objBlackScreen.visible=!1,e.add(this.objBlackScreen),this.objMainGroup=game.add.group(),e.add(this.objMainGroup),this.objBoard=game.add.sprite(0,0,"atlas-game1"),this.objBoard.frameName="bg-board.png",this.objBoard.anchor.setTo(.5,.5),this.objMainGroup.add(this.objBoard),this.txtLevel=game.add.bitmapText(0,-195,"fnt-berlinsans4","Level 10",40),this.objMainGroup.add(this.txtLevel),this.btnClose=objGameModule.createButton(-80,185,.5,.5,this.objMainGroup,"atlas-game1","btn-no.png","hideObjective",t,i),this.btnOK=objGameModule.createButton(80,185,.5,.5,this.objMainGroup,"atlas-game1","btn-play2.png","play",t,i),

/*text*/
/*
this.txtTargetTitle=game.add.bitmapText(0,-10,"fnt-berlinsans2",objGameModule.localizeText("TARGET"),28),this.txtTargetTitle.updateTransform(),this.txtTargetTitle.x=.5*-this.txtTargetTitle.textWidth,this.txtTargetTitle.tint=12078407,this.objMainGroup.add(this.txtTargetTitle),
*/
this.txtTargetTitle=game.add.text(0,0,objGameModule.localizeText("TARGET"),{font: "bold 28px Arial", fill: "brown", boundsAlignH: "center", boundsAlignV: "middle"}),
this.txtTargetTitle.anchor.set(0.5),
this.objMainGroup.add(this.txtTargetTitle),

this.txtTargetValue=game.add.bitmapText(0,15,"fnt-berlinsans2","0",30),this.txtTargetValue.updateTransform(),this.txtTargetValue.x=.5*-this.txtTargetValue.textWidth,this.txtTargetValue.tint=9055528,this.objMainGroup.add(this.txtTargetValue),this.arrStarFilled=[],this.arrStarEmpty=[];var o;for(a=0;3>a;a++)o=game.add.sprite(OBJECTIVESTAR_POSITION[a][0],OBJECTIVESTAR_POSITION[a][1],"atlas-anim1"),o.frameName="Star-Anima instance 10000",
o.anchor.setTo(.5,.5),o.angle=OBJECTIVESTAR_POSITION[a][2],o.scale.setTo(OBJECTIVESTAR_POSITION[a][3],OBJECTIVESTAR_POSITION[a][3]),this.objMainGroup.add(o),this.arrStarEmpty.push(o),o=game.add.sprite(OBJECTIVESTAR_POSITION[a][0],OBJECTIVESTAR_POSITION[a][1],"atlas-anim1"),o.frameName="Star-Anima instance 10030",
o.anchor.setTo(.5,.5),o.angle=OBJECTIVESTAR_POSITION[a][2],o.scale.setTo(OBJECTIVESTAR_POSITION[a][3],OBJECTIVESTAR_POSITION[a][3]),this.objMainGroup.add(o),this.arrStarFilled.push(o);this.objObjectiveGroup=game.add.group(),this.objMainGroup.add(this.objObjectiveGroup),this.arrObjective=[];var s;for(a=0;4>a;a++)

/*piece*/
/*s=game.add.sprite(70*a,90,"atlas-game1"),*/
s=game.add.sprite(70*a,90,"atlas-piece"),

s.anchor.setTo(.5,.5),this.objObjectiveGroup.add(s),this.arrObjective.push(s);this.objMainGroup.visible=!1,this.nSelectedLevel=-1},objectiveboard.prototype={show:function(e){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:.5},1e3,Phaser.Easing.Linear.None,!0),this.objMainGroup.visible=!0,this.objMainGroup.alpha=0,this.objMainGroup.scale.setTo(0,0),this.btnClose.alpha=0,this.btnClose.scale.setTo(0,0),this.btnOK.alpha=0,this.btnOK.scale.setTo(0,0),this.txtLevel.text=objGameModule.localizeText("Level")+" "+(e+1).toString(),this.txtLevel.updateTransform(),this.txtLevel.x=.5*-this.txtLevel.textWidth,this.nSelectedLevel=e,this.setTarget(objLevelData[e].score);var t,i;for(t=0;t<this.arrStarFilled.length;t++)this.arrStarFilled[t].visible=objGameSave.lvStats[e]<=t?!1:!0;for(t=0;t<this.arrObjective.length;t++)this.arrObjective[t].visible=!1;

/*text*/
target="";

/*temp*/
defpiecex="c";if(e>2)switch(objGameModule.randomRangeInt(1,4)){case 1:defpiecex="c";break;case 2:defpiecex="d";break;case 3:defpiecex="e";break;/*case 4:defpiecex="f";break;*/}

//qvpiecex
if(qv("piece")!="")defpiecex=qv("piece");

for(i=objLevelData[e].target.length,t=0;i>t;t++){switch(objLevelData[e].target[t]){

/*jelly*/
case TARGETTYPE_JELLY:this.arrObjective[t].frameName="obj-jellya.png",this.arrObjective[t].scale.setTo(.8,.8);break;

/*piece*/
/*case TARGETTYPE_INGREDIENTS:this.arrObjective[t].frameName="obj-piece70a.png",this.arrObjective[t].scale.setTo(1,1);break;case TARGETTYPE_CREAM:this.arrObjective[t].frameName="obj-piece50a.png",this.arrObjective[t].scale.setTo(1,1);break;case TARGETTYPE_CHOCO:this.arrObjective[t].frameName="obj-piece60a.png",this.arrObjective[t].scale.setTo(1,1)}
*/
case TARGETTYPE_INGREDIENTS:this.arrObjective[t].frameName="obj-piece70c.png",this.arrObjective[t].scale.setTo(0.7,0.7);break;
case TARGETTYPE_CREAM:this.arrObjective[t].frameName="obj-piece50c.png",this.arrObjective[t].scale.setTo(0.8,0.8);break;
case TARGETTYPE_CHOCO:this.arrObjective[t].frameName="obj-piece60c.png",this.arrObjective[t].scale.setTo(0.8,0.8)}


/*text*/
target=this.arrObjective[t].frameName,

this.arrObjective[t].visible=!0}this.objObjectiveGroup.x=.5*(-this.objObjectiveGroup.width+this.arrObjective[0].width),this.objMainGroup.visible=!0,this.objMainGroup.scale.setTo(.4,.4),game.add.tween(this.objMainGroup).to({alpha:1},300,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1e3,Phaser.Easing.Elastic.Out,!0),game.add.tween(this.btnClose).to({alpha:1},200,Phaser.Easing.Linear.None,!0,300),

/*text*/
/*
game.add.tween(this.btnClose.scale).to({x:1.3,y:1.3},800,Phaser.Easing.Elastic.Out,!0,300),
*/
game.add.tween(this.btnClose.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0,300),

game.add.tween(this.btnOK).to({alpha:1},200,Phaser.Easing.Linear.None,!0,400),game.add.tween(this.btnOK.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0,400)},hide:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:0},400,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.objBlackScreen.inputEnabled=!1,this.objBlackScreen.visible=!1},this),game.add.tween(this.objMainGroup).to({alpha:0},150,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:0,y:0},300,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.objMainGroup.visible=!1},this)},setTarget:function(e){this.txtTargetValue.text=e.toString(),this.txtTargetValue.updateTransform(),this.txtTargetValue.x=.5*-this.txtTargetValue.textWidth},destroy:function(){var e;for(this.objBlackScreen.destroy(),this.objBlackScreen=null,this.objBoard.destroy(),this.objBoard=null,this.txtLevel.destroy(),this.txtLevel=null,this.btnClose.destroy(),this.btnClose=null,this.btnOK.destroy(),this.btnOK=null,this.txtTargetTitle.destroy(),this.txtTargetTitle=null,this.txtTargetValue.destroy(),this.txtTargetValue=null,e=0;3>e;e++)this.arrStarEmpty[e].destroy(),this.arrStarEmpty[e]=null,this.arrStarFilled[e].destroy(),this.arrStarFilled[e]=null;for(this.arrStarFilled=[],this.arrStarEmpty=[],e=0;4>e;e++)this.arrObjective[e].destroy(),this.arrObjective[e]=null;this.arrObjective=[],this.objObjectiveGroup.removeAll(),this.objObjectiveGroup.destroy(),this.objObjectiveGroup=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(objectiveboard.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(objectiveboard.prototype,"y",{
get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(objectiveboard.prototype,"group",{get:function(){return this.objMainGroup}}),particle1=function(){this.objMainGroup=game.add.group(),this.objExplode=game.add.sprite(0,0,"atlas-game1"),this.objExplode.frameName="obj-explode1.png",this.objExplode.anchor.setTo(.5,.5),this.objMainGroup.add(this.objExplode),this.arrStar=[],this.arrStar.push(this.createStar(-50,10,-75,this.objMainGroup,0)),this.arrStar.push(this.createStar(18,50,-175,this.objMainGroup,1)),this.arrStar.push(this.createStar(72,-30,100,this.objMainGroup,0)),this.arrStar.push(this.createStar(-20,-80,0,this.objMainGroup,1)),this.onUse=!1,this.deactivate()},particle1.prototype={createStar:function(e,t,i,a,o){var s;switch(o){case 0:s=game.add.sprite(0,0,"atlas-particle1"),s.scale.setTo(1,1);break;case 1:s=game.add.sprite(0,0,"atlas-particle1b"),s.scale.setTo(.85,.85)}return s.animations.add("star"),s.x=e,s.y=t,s.angle=i,a.add(s),s},play:function(e,t,i){var a;for(this.objMainGroup.x=e,this.objMainGroup.y=t,i.add(this.objMainGroup),this.objExplode.scale.setTo(.4,.4),this.objExplode.alpha=1,game.add.tween(this.objExplode).to({alpha:0},400,Phaser.Easing.Linear.None,!0),game.add.tween(this.objExplode.scale).to({x:1.8,y:1.8},600,Phaser.Easing.Linear.None,!0),a=1;a<this.arrStar.length;a++)this.arrStar[a].animations.play("star",30,!1);this.arrStar[0].animations.play("star",30,!1).onComplete.add(function(){this.deactivate()},this)},activate:function(){this.onUse=!0,this.objMainGroup.visible=!0},deactivate:function(){null!=this.objMainGroup.parent&&this.objMainGroup.parent.remove(this.objMainGroup),this.onUse=!1,this.objMainGroup.visible=!1},destroy:function(){var e;for(this.objExplode.destroy(),this.objExplode=null,e=0;e<this.arrStar.length;e++)game.tweens.removeFrom(this.arrStar[e],!1),this.arrStar[e].destroy(),this.arrStar[e]=null;this.arrStar=[],this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(particle1.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(particle1.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(particle1.prototype,"group",{get:function(){return this.objMainGroup}}),particle2=function(){this.objMainGroup=game.add.group(),this.arrStar=[],this.arrStar.push(this.createStar(-50,0,-75,this.objMainGroup)),this.arrStar.push(this.createStar(-15,-45,0,this.objMainGroup)),this.onUse=!1,this.deactivate()},particle2.prototype={createStar:function(e,t,i,a){var o;return o=game.add.sprite(0,0,"atlas-particle1"),o.animations.add("star"),o.x=e,o.y=t,o.angle=i,a.add(o),o},play:function(e,t,i){var a;for(this.objMainGroup.x=e,this.objMainGroup.y=t,i.add(this.objMainGroup),a=1;a<this.arrStar.length;a++)this.arrStar[a].animations.play("star",30,!1);this.arrStar[0].animations.play("star",30,!1).onComplete.add(function(){this.deactivate()},this)},activate:function(){this.onUse=!0,this.objMainGroup.visible=!0},deactivate:function(){null!=this.objMainGroup.parent&&this.objMainGroup.parent.remove(this.objMainGroup),this.onUse=!1,this.objMainGroup.visible=!1},destroy:function(){var e;for(e=0;e<this.arrStar.length;e++)game.tweens.removeFrom(this.arrStar[e],!1),this.arrStar[e].destroy(),this.arrStar[e]=null;this.arrStar=[],this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(particle2.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(particle2.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(particle2.prototype,"group",{get:function(){return this.objMainGroup}}),particle3=function(){this.objMainGroup=game.add.group(),this.arrStripe=[],this.arrStripe.push(this.createStripe(-100,-30,this.objMainGroup)),this.arrStripe.push(this.createStripe(-100,0,this.objMainGroup)),this.arrStripe.push(this.createStripe(-100,30,this.objMainGroup)),this.arrStripe.push(this.createStripe(100,-30,this.objMainGroup)),this.arrStripe.push(this.createStripe(100,0,this.objMainGroup)),this.arrStripe.push(this.createStripe(100,30,this.objMainGroup)),this.onUse=!1,this.deactivate()},particle3.prototype={createStripe:function(e,t,i){var a;return a=game.add.sprite(0,0,"atlas-game1"),a.frameName="obj-stripe.png",a.x=e,a.y=t,a.anchor.setTo(.5,.5),i.add(a),a},play:function(e,t,i,a){var o;for(this.objMainGroup.x=e,this.objMainGroup.y=t,this.objMainGroup.angle=i,a.add(this.objMainGroup),o=0;3>o;o++)this.stripeAnimeLeft(o);for(o=3;6>o;o++)this.stripeAnimeRight(o);game.add.tween(this.arrStripe[0]).to({},1e3,Phaser.Easing.Linear.None,!0).onComplete.add(this.deactivate,this)},stripeAnimeLeft:function(e){this.arrStripe[e].x=STRIPE_POSITION[e][0],this.arrStripe[e].y=STRIPE_POSITION[e][1],this.arrStripe[e].alpha=0,this.arrStripe[e].scale.setTo(.2,1),game.add.tween(this.arrStripe[e].scale).to({x:1.5,y:1.5},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.arrStripe[e]).to({x:STRIPE_POSITION[e][0]-100,alpha:1},200,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.arrStripe[e].scale).to({x:.2,y:1},500,Phaser.Easing.Linear.None,!0),game.add.tween(this.arrStripe[e]).to({x:this.arrStripe[e].x-400,alpha:0},600,Phaser.Easing.Linear.None,!0)},this)},stripeAnimeRight:function(e){this.arrStripe[e].x=STRIPE_POSITION[e][0],this.arrStripe[e].y=STRIPE_POSITION[e][1],this.arrStripe[e].alpha=0,this.arrStripe[e].scale.setTo(.2,1),game.add.tween(this.arrStripe[e].scale).to({x:1.5,y:1.5},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.arrStripe[e]).to({x:STRIPE_POSITION[e][0]+100,alpha:1},200,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.arrStripe[e].scale).to({x:.2,y:1},500,Phaser.Easing.Linear.None,!0),game.add.tween(this.arrStripe[e]).to({x:this.arrStripe[e].x+400,alpha:0},600,Phaser.Easing.Linear.None,!0)},this)},activate:function(){this.onUse=!0,this.objMainGroup.visible=!0},deactivate:function(){null!=this.objMainGroup.parent&&this.objMainGroup.parent.remove(this.objMainGroup),this.onUse=!1,this.objMainGroup.visible=!1},destroy:function(){var e;for(e=0;e<this.arrStripe.length;e++)game.tweens.removeFrom(this.arrStripe[e],!1),game.tweens.removeFrom(this.arrStripe[e].scale,!1),this.arrStripe[e].destroy(),this.arrStripe[e]=null;this.arrStripe=[],this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(particle3.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(particle3.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(particle3.prototype,"group",{get:function(){return this.objMainGroup}}),particle4=function(){this.objMainGroup=game.add.group(),this.objColorbombStar=game.add.sprite(0,0,"atlas-game1"),this.objColorbombStar.frameName="obj-starnormal.png",this.objColorbombStar.anchor.setTo(.5,.5),this.objMainGroup.add(this.objColorbombStar),this.onUse=!1,this.deactivate()},particle4.prototype={play:function(e,t,i,a,o){o.add(this.objMainGroup),this.activate(),this.objColorbombStar.x=e,this.objColorbombStar.y=t,game.add.tween(this.objColorbombStar).to({x:i,y:a},COLORBOMB_WAIT_DELAY,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.deactivate()},this)},activate:function(){this.onUse=!0,this.objMainGroup.visible=!0},deactivate:function(){null!=this.objMainGroup.parent&&this.objMainGroup.parent.remove(this.objMainGroup),this.onUse=!1,this.objMainGroup.visible=!1},destroy:function(){game.tweens.removeFrom(this.objColorbombStar,!1),this.objColorbombStar.destroy(),this.objColorbombStar=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(particle4.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(particle4.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(particle4.prototype,"group",{get:function(){return this.objMainGroup}}),pauseboard=function(e,t,i){this.objBlackScreen=game.add.sprite(0,0,"atlas-game1"),this.objBlackScreen.frameName="bg-black.png",this.objBlackScreen.scale.setTo(SCALED_WIDTH/4,SCALED_HEIGHT/4),this.objBlackScreen.visible=!1,e.add(this.objBlackScreen),this.objMainGroup=game.add.group(),e.add(this.objMainGroup),this.objCircle=game.add.sprite(20,-20,"atlas-game1"),this.objCircle.frameName="obj-circleout.png",this.objCircle.anchor.setTo(.5,.5),this.objMainGroup.add(this.objCircle),

/*button*/
this.objButtonGroup=game.add.group(),e.add(this.objButtonGroup),this.objButtonGroup.visible=!0,this.objButtonGroup.x=0,this.objButtonGroup.y=SCALED_HEIGHT,
this.btnSound=objGameModule.createButton(20,-60,.5,.5,this.objButtonGroup,"atlas-game1",objGameSave.sound?"btn-soundenabled.png":"btn-sounddisabled.png","sounds",this.clickHandler,this),
this.btnRestart=objGameModule.createButton(SCALED_WIDTH-120,-60,.5,.5,this.objButtonGroup,"atlas-game1","btn-restart2.png","restart",t,i),
this.btnHTP=objGameModule.createButton(SCALED_WIDTH-20,-60,.5,.5,this.objButtonGroup,"atlas-game1","btn-htp.png","showHTP",t,i),
this.btnExit=objGameModule.createButton(120,-60,.5,.5,this.objButtonGroup,"atlas-game1","btn-exit.png","backToMainMenu",t,i),

//level no.
this.txtLevel=game.add.bitmapText(SCALED_WIDTH/2,-70,"fnt-berlinsans5",(nGameLevel+1).toString(),50),
this.objButtonGroup.add(this.txtLevel),this.txtLevel.anchor.set(0.5),

this.objMainGroup.visible=!1},pauseboard.prototype={show:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:.5},1e3,Phaser.Easing.Linear.None,!0),this.objMainGroup.visible=!0,this.objMainGroup.alpha=0,this.objMainGroup.scale.setTo(0,0),this.btnExit.alpha=0,this.btnExit.scale.setTo(0,0),this.btnHTP.alpha=0,this.btnHTP.scale.setTo(0,0),this.btnRestart.alpha=0,this.btnRestart.scale.setTo(0,0),this.btnSound.alpha=0,this.btnSound.scale.setTo(0,0),this.btnSound.frameName=objGameSave.sound?"btn-soundenabled.png":"btn-sounddisabled.png",game.add.tween(this.objMainGroup).to({alpha:1},300,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1e3,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob"),game.time.events.add(300,function(){game.add.tween(this.btnSound).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnSound.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(400,function(){game.add.tween(this.btnRestart).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnRestart.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(500,function(){game.add.tween(this.btnHTP).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnHTP.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(600,function(){game.add.tween(this.btnExit).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnExit.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this)},hide:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:0},400,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.objBlackScreen.inputEnabled=!1,this.objBlackScreen.visible=!1},this),game.add.tween(this.objMainGroup).to({alpha:0},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:0,y:0},400,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.objMainGroup.visible=!1},this)},clickHandler:function(){switch(objGameSave.sound){case!0:this.btnSound.frameName="btn-sounddisabled.png",objGameSave.sound=!1;break;case!1:this.btnSound.frameName="btn-soundenabled.png",objGameSave.sound=!0}setStorage(),objAudioHandler.resetVol()},destroy:function(){this.objBlackScreen.destroy(),this.objBlackScreen=null,this.objCircle.destroy(),this.objCircle=null,this.btnSound.destroy(),this.btnSound=null,this.btnRestart.destroy(),this.btnRestart=null,this.btnHTP.destroy(),this.btnHTP=null,this.btnExit.destroy(),this.btnExit=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(pauseboard.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(pauseboard.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(pauseboard.prototype,"width",{get:function(){return this.objMainGroup.width}}),Object.defineProperty(pauseboard.prototype,"height",{get:function(){return this.objMainGroup.height},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(pauseboard.prototype,"group",{get:function(){return this.objMainGroup}}),piece=function(e,t,i

,j,g

){

/*jelly*/
/*this.objJellyGroup=game.add.group(),this.objJellyGroup.x=t,this.objJellyGroup.y=i,g.add(this.objJellyGroup),*/

/*jelly*/
/*this.objTile=j,*/
/*this.objJellyGroup.add(j.objJelly),*/

this.objMainGroup=game.add.group(),this.objMainGroup.x=t,this.objMainGroup.y=i,e.add(this.objMainGroup),

/*piece*/
/*this.objPiece=game.add.sprite(0,.5*TILE_HEIGHT,"atlas-game1"),this.objPiece.frameName="obj-piece1a.png",this.objPiece.anchor.setTo(.5,1),this.objMainGroup.add(this.objPiece),*/

/*plank*/
this.objPlank=game.add.sprite(0,0,"atlas-color"),this.objPlank.frameName="obj-plank2c.png",this.objPlank.anchor.setTo(.5,.5),this.objPlank.visible=!1,this.objMainGroup.add(this.objPlank),

this.objPiece=game.add.sprite(0,0/*.5*TILE_HEIGHT*/,"atlas-piece"),this.objPiece.frameName="obj-piece1c.png",this.objPiece.anchor.setTo(.5,.5/*1*/),this.objMainGroup.add(this.objPiece),

/*stripe*//*piece*/
this.objStripe=game.add.sprite(0,0,"atlas-piece"),this.objStripe.frameName="obj-hstripeb.png",this.objStripe.anchor.setTo(.5,.5),this.objStripe.visible=!1,this.objMainGroup.add(this.objStripe),

this.nTypeCat=PIECETYPE_NORMAL,this.nTypeID=-1,this.nFlagID=-1,this.nFrameName="",this.nEnableSwap=!0,this.arrDropLists=[],this.nRow=-1,this.nCol=-1},piece.prototype={

/*jelly2*/
//undo
//reset: function(e, t, i, j, n) {
reset: function(e, t, i, j, n, b) {
if(!b)b=0;

    switch (this.group.scale.setTo(1, 1), this.objMainGroup.x = e, this.objMainGroup.y = t, this.nTypeCat = i, tmpAvailableType = objLevelData[nGameLevel].available,

        /*stripe*/
        this.objStripe.visible = !1, this.objPlank.visible = !1,

        /*console.log("reset "+n+" x="+e+" y="+t+" type="+i+
        " j="+j.nJellyType+" jelly="+j.objJelly.visible),*/

        i) {
        case PIECETYPE_NORMAL:

            /*stripe*/
            /*this.objStripe.visible=!0,this.objStripe.frameName="obj-jelly.png",*/

//undo
//          this.nTypeID = tmpAvailableType[objGameModule.randomRangeInt(0, tmpAvailableType.length - 1)], this.nFrameName = this.nTypeID.toString();
this.nTypeID = b>0?b:tmpAvailableType[objGameModule.randomRangeInt(0, tmpAvailableType.length - 1)], this.nFrameName = this.nTypeID.toString();

            /*plank*/
            this.objPlank.frameName = "obj-plank" + this.nFrameName + "c.png", this.objPlank.visible = !j.objJelly.visible;

            break;
        case PIECETYPE_ITEM_HSTRIPE:

            /*stripe*/
            /*this.objStripe.frameName="obj-hstripeb.png",this.objPlank.frameName="obj-hstripea.png",this.objStripe.visible=j.objJelly.visible,this.objPlank.visible=!j.objJelly.visible,*/
            this.objStripe.frameName = "obj-hstripeb.png", this.objStripe.visible = !0, this.objPlank.visible = !j.objJelly.visible,

                /*piece*/
                /*this.nTypeID=tmpAvailableType[objGameModule.randomRangeInt(0,tmpAvailableType.length-1)],this.nFrameName="1"+this.nTypeID.toString();break;*/
//undo
//              this.nTypeID = tmpAvailableType[objGameModule.randomRangeInt(0, tmpAvailableType.length - 1)], this.nFrameName = this.nTypeID.toString();
this.nTypeID = b>0?b:tmpAvailableType[objGameModule.randomRangeInt(0, tmpAvailableType.length - 1)], this.nFrameName = this.nTypeID.toString();

            break;

        case PIECETYPE_ITEM_VSTRIPE:

            /*stripe*/
            /*this.objStripe.frameName="obj-vstripeb.png",this.objPlank.frameName="obj-vstripea.png",this.objStripe.visible=j.objJelly.visible,this.objPlank.visible=!j.objJelly.visible,*/
            this.objStripe.frameName = "obj-vstripeb.png", this.objStripe.visible = !0, this.objPlank.visible = !j.objJelly.visible,

                /*piece*/
                /*this.nTypeID=tmpAvailableType[objGameModule.randomRangeInt(0,tmpAvailableType.length-1)],this.nFrameName="2"+this.nTypeID.toString();break;*/
//undo
//              this.nTypeID = tmpAvailableType[objGameModule.randomRangeInt(0, tmpAvailableType.length - 1)], this.nFrameName = this.nTypeID.toString();
this.nTypeID = b>0?b:tmpAvailableType[objGameModule.randomRangeInt(0, tmpAvailableType.length - 1)], this.nFrameName = this.nTypeID.toString();

            break;

        case PIECETYPE_ITEM_AREA:
//undo
//          this.nTypeID = tmpAvailableType[objGameModule.randomRangeInt(0, tmpAvailableType.length - 1)], this.nFrameName = "3" + this.nTypeID.toString();
this.nTypeID = b>0?b:tmpAvailableType[objGameModule.randomRangeInt(0, tmpAvailableType.length - 1)], this.nFrameName = "3" + this.nTypeID.toString();

            break;
        case PIECETYPE_ITEM_COLOR:
//undo
//          this.nTypeID = 40, this.nFrameName = this.nTypeID.toString();
this.nTypeID = b>0?b:40, this.nFrameName = this.nTypeID.toString();

            break;
        case PIECETYPE_MERINGUE:
//undo
//          this.nTypeID = 50, this.nFrameName = this.nTypeID.toString();
this.nTypeID = b>0?b:50, this.nFrameName = this.nTypeID.toString();

            break;
        case PIECETYPE_CHOCOLATE:
//undo
//          this.nTypeID = 60, this.nFrameName = this.nTypeID.toString();
this.nTypeID = b>0?b:60, this.nFrameName = this.nTypeID.toString();

            break;
        case PIECETYPE_INGREDIENT:
//undo
//          this.nTypeID = 70, this.nFrameName = this.nTypeID.toString();
this.nTypeID = b>0?b:70, this.nFrameName = this.nTypeID.toString();

            break;
        case PIECETYPE_LOCKED:
//undo
//          this.nTypeID = 80, this.nFrameName = this.nTypeID.toString()
this.nTypeID = b>0?b:80, this.nFrameName = this.nTypeID.toString()

    }

    /*piece*/
    /*this.objPiece.frameName="obj-piece"+this.nFrameName+"a.png",*/

    /*crush*/
    this.objPiece.frameName = "obj-piece" + this.nFrameName + piecex + ".png",

        this.show()
},

/*temp*/
pressed:function(t){game.tweens.removeFrom(this.group.scale,!1),

/*piece*/
/*this.objPiece.frameName="obj-piece"+this.nFrameName+"b.png",*/

/*fix*/
/*this.objPiece.frameName="obj-piece"+this.nFrameName+"d.png",*/

game.add.tween(this.group.scale).to({x:1.05,y:1.05},120,Phaser.Easing.Linear.None,!0)

/*temp*/
,(this.nTypeCat==PIECETYPE_ITEM_HSTRIPE||this.nTypeCat==PIECETYPE_ITEM_VSTRIPE||this.nTypeCat==PIECETYPE_ITEM_AREA||this.nTypeCat==PIECETYPE_ITEM_COLOR)&&(this.transformTo(this.nTypeCat,t))

},released:function(){game.tweens.removeFrom(this.group.scale,!1),

/*piece*/
/*this.objPiece.frameName="obj-piece"+this.nFrameName+"a.png",*/

/*fix*/
/*this.objPiece.frameName="obj-piece"+this.nFrameName+"c.png",*/

this.group.scale.setTo(1,1)},blob:function(){game.add.tween(this.objMainGroup.scale).to({x:.1,y:.1},200,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objMainGroup.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0).onComplete(this.blob,this)},this)},explode:function(e){game.tweens.removeFrom(this.group.scale,!1),game.add.tween(this.objMainGroup.scale).to({x:1.3,y:1.3},110,Phaser.Easing.Linear.None,!0).onComplete.add(function(){null!=e&&e.play(this.objMainGroup.x,this.objMainGroup.y,this.objMainGroup.parent),this.hide()},this)},hide:function(){game.tweens.removeFrom(this.group.scale,!1),this.objMainGroup.visible=!1,this.nEnabledSwap=!1},show:function(){this.objMainGroup.visible=!0,this.nEnableSwap=!0},setWaitExplode:function(e){game.add.tween(this.objMainGroup.scale).to({x:1.3,y:1.3},110,Phaser.Easing.Linear.None,!0).onComplete.add(function(){null!=e&&e.play(this.objMainGroup.x,this.objMainGroup.y,this.objMainGroup.parent),this.waitExplodeAnim()},this)},waitExplodeAnim:function(){game.add.tween(this.objMainGroup.scale).to({x:.9,y:.9},300,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){game.add.tween(this.objMainGroup.scale).to({x:1,y:1},300,Phaser.Easing.Quadratic.Out,!0).onComplete.add(this.waitExplodeAnim,this)},this)},

/*jelly2*/
transformTo:function(e,j){
this.nTypeCat=e,game.add.tween(this.objMainGroup.scale).to({x:.1,y:.1},200,Phaser.Easing.Linear.None,!0).onComplete.add(function(){switch(

/*stripe*/
this.objStripe.visible=!1,this.objPlank.visible=!1,

/*console.log("transformto type="+e+
" j="+j.nJellyType+" jelly="+j.objJelly.visible),*/

e){case PIECETYPE_NORMAL:

/*stripe*/
/*this.objStripe.visible=!0,this.objStripe.frameName="obj-jelly.png",*/

this.nFrameName=this.nTypeID.toString();

/*plank*/
this.objPlank.frameName="obj-plank"+this.nFrameName+"c.png",this.objPlank.visible=!j.objJelly.visible;

break;
case PIECETYPE_ITEM_HSTRIPE:

/*stripe*/
/*this.objStripe.frameName="obj-hstripeb.png",this.objPlank.frameName="obj-hstripea.png",this.objStripe.visible=j.objJelly.visible,this.objPlank.visible=!j.objJelly.visible,*/
this.objStripe.frameName="obj-hstripeb.png",this.objStripe.visible=!0,this.objPlank.visible=!j.objJelly.visible,

/*piece*/
/*this.nFrameName="1"+this.nTypeID.toString();break;*/
this.nFrameName=this.nTypeID.toString();break;

case PIECETYPE_ITEM_VSTRIPE:

/*stripe*/
/*this.objStripe.frameName="obj-vstripeb.png",this.objPlank.frameName="obj-vstripea.png",this.objStripe.visible=j.objJelly.visible,this.objPlank.visible=!j.objJelly.visible,*/
this.objStripe.frameName="obj-vstripeb.png",this.objStripe.visible=!0,this.objPlank.visible=!j.objJelly.visible,

/*piece*/
/*this.nFrameName="2"+this.nTypeID.toString();break;*/
this.nFrameName=this.nTypeID.toString();break;

case PIECETYPE_ITEM_AREA:this.nFrameName="3"+this.nTypeID.toString();break;case PIECETYPE_ITEM_COLOR:this.nTypeID=40,this.nFrameName=this.nTypeID.toString();break;case PIECETYPE_MERINGUE:this.nTypeID=50,this.nFrameName=this.nTypeID.toString();break;case PIECETYPE_CHOCOLATE:this.nTypeID=60,this.nFrameName=this.nTypeID.toString();break;case PIECETYPE_INGREDIENT:this.nTypeID=70,this.nFrameName=this.nTypeID.toString();break;case PIECETYPE_LOCKED:this.nTypeID=80,this.nFrameName=this.nTypeID.toString()}

/*piece*/
/*this.objPiece.frameName="obj-piece"+this.nFrameName+"a.png",*/
/*this.objPiece.frameName="obj-piece"+this.nFrameName+"c.png",*/
/*temp*/
this.objPiece.frameName="obj-piece"+this.nFrameName+(piecex=="k"?defpiecex:piecex)+".png",

game.add.tween(this.objMainGroup.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0)},this)},

/*jelly2*/
transformToWithDelay:function(e,t,j){this.nTypeCat=e,game.time.events.add(t-70,function(){objAudioHandler.playSFX("SFX_Blob")},this),game.add.tween(this.objMainGroup.scale).to({x:.1,y:.1},200,Phaser.Easing.Linear.None,!0,t).onComplete.add(function(){switch(

/*stripe*/
this.objStripe.visible=!1,this.objPlank.visible=!1,

/*console.log("transformtowithdelay type="+e+
" j="+j.nJellyType+" jelly="+j.objJelly.visible),*/

e){case PIECETYPE_NORMAL:

/*stripe*/
/*this.objStripe.visible=!0,this.objStripe.frameName="obj-jelly.png",*/

this.nFrameName=this.nTypeID.toString();

/*plank*/
this.objPlank.frameName="obj-plank"+this.nFrameName+"c.png",this.objPlank.visible=!j.objJelly.visible;

break;
case PIECETYPE_ITEM_HSTRIPE:

/*stripe*/
/*this.objStripe.frameName="obj-hstripeb.png",this.objPlank.frameName="obj-hstripea.png",this.objStripe.visible=j.objJelly.visible,this.objPlank.visible=!j.objJelly.visible,*/
this.objStripe.frameName="obj-hstripeb.png",this.objStripe.visible=!0,this.objPlank.visible=!j.objJelly.visible,

/*piece*/
/*this.nFrameName="1"+this.nTypeID.toString();break;*/
this.nFrameName=this.nTypeID.toString();break;

case PIECETYPE_ITEM_VSTRIPE:

/*stripe*//*piece*/
/*this.objStripe.frameName="obj-vstripeb.png",this.objPlank.frameName="obj-vstripea.png",this.objStripe.visible=j.objJelly.visible,this.objPlank.visible=!j.objJelly.visible,*/
this.objStripe.frameName="obj-vstripeb.png",this.objStripe.visible=!0,this.objPlank.visible=!j.objJelly.visible,

/*piece*/
/*this.nFrameName="2"+this.nTypeID.toString();break;*/
this.nFrameName=this.nTypeID.toString();break;

case PIECETYPE_ITEM_AREA:this.nFrameName="3"+this.nTypeID.toString();break;case PIECETYPE_ITEM_COLOR:this.nTypeID=40,this.nFrameName=this.nTypeID.toString();break;case PIECETYPE_MERINGUE:this.nTypeID=50,this.nFrameName=this.nTypeID.toString();break;case PIECETYPE_CHOCOLATE:this.nTypeID=60,this.nFrameName=this.nTypeID.toString();break;case PIECETYPE_INGREDIENT:this.nTypeID=70,this.nFrameName=this.nTypeID.toString();break;case PIECETYPE_LOCKED:this.nTypeID=80,this.nFrameName=this.nTypeID.toString()}

/*piece*/
/*this.objPiece.frameName="obj-piece"+this.nFrameName+"a.png",*/
/*this.objPiece.frameName="obj-piece"+this.nFrameName+"c.png",*/
/*temp*/
this.objPiece.frameName="obj-piece"+this.nFrameName+(piecex=="k"?defpiecex:piecex)+".png",

game.add.tween(this.objMainGroup.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0)},this)},addDropTrack:function(e,t,i){0>=i||(i>=MAX_DROP_DELAY&&(i=MAX_DROP_DELAY),this.arrDropLists.push([e,t,i]))},startDrop:function(){if(this.arrDropLists.length>0){var e=this.arrDropLists[0];this.arrDropLists.splice(0,1),game.add.tween(this.group).to({x:e[0],y:e[1]},e[2],Phaser.Easing.Quadratic.In,!0).onComplete.add(this.startDrop,this)}else game.tweens.removeFrom(this.objPiece.scale,!1),game.add.tween(this.objPiece.scale).to({x:1.1,y:.8},80,Phaser.Easing.Linear.None,!0,80).onComplete.add(function(){game.add.tween(this.objPiece.scale).to({x:.9,y:1.2},100,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objPiece.scale).to({x:1,y:1},100,Phaser.Easing.Linear.None,!0)},this)},this)},

/*jelly2*/
updateLatestRowAndCol:function(e,t,j){this.nRow=e,this.nCol=t,
this.objStripe.visible=!1,this.objPlank.visible=!1;

/*console.log("update row="+e+" col="+t+
" j="+j.nJellyType+" jelly="+j.objJelly.visible);*/

switch(this.nTypeCat){
case PIECETYPE_NORMAL:this.objPlank.visible=!j.objJelly.visible;break;
case PIECETYPE_ITEM_HSTRIPE:
/*this.objStripe.visible=j.objJelly.visible,this.objPlank.visible=!j.objJelly.visible;break;*/
this.objStripe.visible=!0,this.objPlank.visible=!j.objJelly.visible;break;
case PIECETYPE_ITEM_VSTRIPE:
/*this.objStripe.visible=j.objJelly.visible,this.objPlank.visible=!j.objJelly.visible;break;*/
this.objStripe.visible=!0,this.objPlank.visible=!j.objJelly.visible;break;
}
},

destroy:function(){game.tweens.removeFrom(this.group.scale,!1),this.objPiece.destroy(),this.objPiece=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(piece.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(piece.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(piece.prototype,"group",{get:function(){return this.objMainGroup}}),playboard=function(e,t,i){this.updateHandler=t,this.updateContext=i,this.objMainGroup=game.add.group(),e.add(this.objMainGroup),this.objGroup1=game.add.group(),this.objMainGroup.add(this.objGroup1),this.objGroup2=game.add.group(),this.objMainGroup.add(this.objGroup2),this.objGroup3=game.add.group(),this.objMainGroup.add(this.objGroup3),

this.objGroup4=game.add.group(),this.objMainGroup.add(this.objGroup4),

this.particle1Manager=new pooler(8,POOLER_PARTICLE1),this.particle3Manager=new pooler(4,POOLER_PARTICLE3),this.particle4Manager=new pooler(10,POOLER_PARTICLE4),this.scoredigit1Manager=new pooler(2,POOLER_SCOREDIGIT1),this.scoredigit2Manager=new pooler(2,POOLER_SCOREDIGIT2),this.scoredigit3Manager=new pooler(2,POOLER_SCOREDIGIT3),this.scoredigit4Manager=new pooler(2,POOLER_SCOREDIGIT4),this.scoredigit5Manager=new pooler(2,POOLER_SCOREDIGIT5),this.scoredigit6Manager=new pooler(2,POOLER_SCOREDIGIT6),this.objHintArrow=new hintarrow(this.objMainGroup),this.objComplimentText=new complimenttext,this.objComplimentText.group.visible=!1,this.arrPieces=[],this.arrUnusedPieceID=[],this.arrTiles=[],this.arrTilesBG=[],this.arrLevelParam=[[0,1,1,0,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1]],this.nCurnLevel=1,this.nLevelType=0,this.nTargetScore=0,this.nCurnScore=0,this.nTotalRow=7,this.nTotalCol=7,this.nInputState=INPUT_RELEASE,this.nPressedID=-1,this.nPressedRow=-1,this.nPressedCol=-1,this.arrTarget=[],this.arrSpawnY=[],this.nMaxDrop=0,this.nIdleCount=0,this.nEnabledIdle=!0,this.nLastCombo=0,this.arrNormalAreaExplosion=[],this.arrSpecialAreaExplosion=[],this.nAutoFilling=!1,this.nIsFruitaCrushMode=!1,this.arrChocoPieceID=[],this.arrFruitaCrushExplode=[],this.nExtraScore=0,this.nEnableChocoInfect=!0},playboard.prototype={init:function(e){var 
j,

t,i,a,o,s,r,n;

//idle
delete window.idle;delete window.eidle;

//color
this.presstime=0,this.tap=0,this.timer=null,this.changes=objGameSave.color?99:0;

//playboard init callback
playboard_init_callback(this);

for(this.nCurnLevel=e,this.arrLevelParam=objLevelData[this.nCurnLevel].design,this.nTotalRow=this.arrLevelParam.length,this.nTotalCol=this.arrLevelParam[0].length,this.arrTarget=[],s=.5*TILE_WIDTH,r=.5*TILE_HEIGHT,t=0;t<this.nTotalRow;t++)for(this.arrTiles.push([]),i=0;i<this.nTotalCol;i++)this.arrLevelParam[t][i]?(a=objGameModule.convertColToX(i,s,TILE_WIDTH),o=objGameModule.convertRowToY(t,r,TILE_HEIGHT),n=game.add.sprite(a,o,"atlas-game1"),n.frameName="obj-tileback.png",n.anchor.setTo(.5,.5),this.objGroup1.add(n),this.arrTilesBG.push(n),n=new tile(this.objGroup2,a,o,(t+i)%2,this.clickHandler,this.releaseHandler,this),n.nRow=t,n.nCol=i,n.inputEnabled=!0,this.arrTiles[t].push(n),

j=n,

n=new piece(this.objGroup3,a,o

,j,this.objGroup4

),this.arrPieces.push(n)):this.arrTiles[t].push(null);n=null},

restart: function() {

//undo
window.board=this;

    /*crush*/
    piecex = "c";
    /*temp*/
    piecex = defpiecex;

    var e, t, i, a;
    for (e = 0; e < this.nTotalRow; e++)
        for (t = 0; t < this.nTotalCol; t++) 
		this.arrLevelParam[e][t] && (this.arrTiles[e][t].nPieceID = -1);
    for (this.nIdleCount = 0, this.nEnabledIdle = !0, this.objHintArrow.hide(), 
	this.nCurnScore = 0, this.nTargetScore = objLevelData[this.nCurnLevel].score, 
	this.nAutoFilling = !1, this.nIsFruitaCrushMode = !1, this.arrNormalAreaExplosion = [], 
	this.arrSpecialAreaExplosion = [], this.arrChocoPieceID = [], this.arrFruitaCrushExplode = [], 
	this.nExtraScore = 0, this.nEnableChocoInfect = !0, i = 0, e = 0; e < this.nTotalRow; e++)
        for (t = 0; t < this.nTotalCol; t++)
            if (this.arrLevelParam[e][t] > 0) {
                switch (this.arrTiles[e][t].hideJelly(), this.arrLevelParam[e][t]) {
                    case 1:
                        a = PIECETYPE_NORMAL;
                        break;
                    case 2:
                        a = PIECETYPE_NORMAL, this.arrTiles[e][t].showJelly(1);
                        break;
                    case 3:
                        a = PIECETYPE_NORMAL, this.arrTiles[e][t].showJelly(2);
                        break;
                    case 4:
                        a = PIECETYPE_MERINGUE;
                        break;
                    case 5:
                        a = PIECETYPE_MERINGUE, this.arrTiles[e][t].showJelly(1);
                        break;
                    case 6:
                        a = PIECETYPE_MERINGUE, this.arrTiles[e][t].showJelly(2);
                        break;
                    case 7:
                        a = PIECETYPE_CHOCOLATE, this.arrChocoPieceID.push(i);
                        break;
                    case 8:
                        a = PIECETYPE_CHOCOLATE, this.arrTiles[e][t].showJelly(1), this.arrChocoPieceID.push(i);
                        break;
                    case 9:
                        a = PIECETYPE_CHOCOLATE, this.arrTiles[e][t].showJelly(2), this.arrChocoPieceID.push(i);
                        break;
                    case 10:
                        a = PIECETYPE_INGREDIENT;
                        break;
                    case 11:
                        a = PIECETYPE_LOCKED;
                        break;
                    case 12:
                        a = PIECETYPE_LOCKED, this.arrTiles[e][t].showJelly(1);
                        break;
                    case 13:
                        a = PIECETYPE_LOCKED, this.arrTiles[e][t].showJelly(2)
                }
//undo
b=0;
if(tiles.length>0)i=tiles[e][t].nPieceID,a=pieces[i].nTypeCat,b=pieces[i].nTypeID,this.arrTiles[e][t].showJelly(tiles[e][t].nJellyType);

                this.arrTiles[e][t].nPieceID = i;

                /*jelly2*/
//undo
//              do this.arrPieces[i].reset(this.arrTiles[e][t].x, this.arrTiles[e][t].y, a, this.arrTiles[e][t], 0),
do this.arrPieces[i].reset(this.arrTiles[e][t].x, this.arrTiles[e][t].y, a, this.arrTiles[e][t], 0, b),

                    this.arrPieces[i].updateLatestRowAndCol(e, t, this.arrTiles[e][t]);

                while (this.doPieceMatching(e, t, !1));
                i += 1
            } switch (nGameLevel) {
        case 0:
            break;

            /*jelly2*/
            /*crush1*/
            /*temp*/
            /*case 1:break;case 2:*/
        case 1:

            this.arrPieces[this.arrTiles[3][0].nPieceID].transformTo(PIECETYPE_ITEM_AREA, this.arrTiles[3][0]),
                this.arrPieces[this.arrTiles[3][1].nPieceID].transformTo(PIECETYPE_ITEM_HSTRIPE, this.arrTiles[3][1]),
                this.arrPieces[this.arrTiles[6][0].nPieceID].transformTo(PIECETYPE_ITEM_VSTRIPE, this.arrTiles[6][0]),
                this.arrPieces[this.arrTiles[6][1].nPieceID].transformTo(PIECETYPE_ITEM_COLOR, this.arrTiles[6][1]),
                this.arrPieces[this.arrTiles[0][0].nPieceID].transformTo(PIECETYPE_ITEM_VSTRIPE, this.arrTiles[0][0]),
                this.arrPieces[this.arrTiles[0][1].nPieceID].transformTo(PIECETYPE_ITEM_HSTRIPE, this.arrTiles[0][1])
    }

    /*text*/
    /*
    for(e=0;e<objLevelData[this.nCurnLevel].target.length;e++)this.arrTarget.push(objLevelData[this.nCurnLevel].target[e])},
    */
    for (e = 0; e < objLevelData[this.nCurnLevel].target.length; e++) this.arrTarget.push(objLevelData[this.nCurnLevel].target[e]);
    for (e = 0; e < this.arrTarget.length; e++) {
        switch (this.arrTarget[e]) {
            case TARGETTYPE_JELLY:
                for (var tc = 0, t = 0; t < this.nTotalRow; t++)
                    for (i = 0; i < this.nTotalCol; i++)
                        if (null != this.arrTiles[t][i] && this.arrTiles[t][i].nJellyType > 0) {
                            tc += this.arrTiles[t][i].nJellyType
                        } break;
            case TARGETTYPE_INGREDIENTS:
                for (var tc = 0, t = 0; t < this.arrPieces.length; t++)
                    if (this.arrPieces[t].group.visible && this.arrPieces[t].nTypeCat == PIECETYPE_INGREDIENT) {
                        ++tc
                    }
        }
        targetcount.text = tc
    }

//undo
if(tiles.length>0){this.nCurnScore=scores;for(this.arrChocoPieceID=[],t=0;t<chocos.length;t++)this.arrChocoPieceID.push(chocos[t]);}

},

//color - objGameSave.color changeto COLOR piece
changecolor:function(){++board.arrPieces[board.pieceid].nTypeID>5&&(board.arrPieces[board.pieceid].nTypeID=1),board.arrPieces[board.pieceid].transformTo(objGameSave.color?PIECETYPE_ITEM_COLOR:board.arrPieces[board.pieceid].nTypeCat,board.arrTiles[board.nPressedRow][board.nPressedCol])},

update:function(){

//idle
if(window.idle&&objLevelData[nGameLevel].timeout&&!game.paused){
   var tt=new Date().getTime(),aa=[];
   if(this.nInputState==INPUT_LOCKED && this.nAutoFilling) window.idle=tt;
   else if(tt-window.idle>objLevelData[nGameLevel].timeout){
	window.idle=tt;
	for (var t = 0; t < board.nTotalRow; t++)
	   for (i = 0; i < board.nTotalCol; i++)
		if (null != (tt=board.arrTiles[t][i]) && tt.nJellyType < 2 && board.arrPieces[tt.nPieceID].nTypeCat!=PIECETYPE_INGREDIENT)
		   aa.push([t,i]);
	if(aa.length>0){
	   tt=Math.floor(Math.random()*aa.length);
	   tt=board.arrTiles[aa[tt][0]][aa[tt][1]];
	   tt.showJelly(++tt.nJellyType);
	   board.arrPieces[tt.nPieceID].transformTo(board.arrPieces[tt.nPieceID].nTypeCat, tt);
	   targetcount.text=(Number(targetcount.text)+1).toString(),targetcount.updateTransform();
	}
   }
}
if(window.eidle&&objLevelData[nGameLevel].etimeout&&!game.paused){
   var tt=new Date().getTime(),aa=[];
   if(this.nInputState==INPUT_LOCKED && this.nAutoFilling) window.eidle=tt;
   else if(tt-window.eidle>objLevelData[nGameLevel].etimeout){
	window.eidle=tt;
	for (var t = 0; t < board.nTotalRow; t++)
	   for (i = 0; i < board.nTotalCol; i++)
		if (null != (tt=board.arrTiles[t][i]) && board.arrPieces[tt.nPieceID].nTypeCat==PIECETYPE_NORMAL)
		   aa.push([t,i]);
	if(aa.length>0){
	   tt=Math.floor(Math.random()*aa.length);
	   tt=board.arrTiles[aa[tt][0]][aa[tt][1]];
	   board.arrPieces[tt.nPieceID].transformTo(PIECETYPE_CHOCOLATE, tt);
	   board.arrChocoPieceID.push(tt.nPieceID);
	}
   }
}

switch(this.nInputState){
case INPUT_RELEASE:

//color
if(!this.nIsFruitaCrushMode&&this.presstime!=0){if(this.changes>0&&this.arrPieces[this.pieceid=this.arrTiles[this.nPressedRow][this.nPressedCol].nPieceID].nTypeCat==PIECETYPE_NORMAL&&Date.now()-this.presstime<=1000)++this.tap>=2&&this.timer==null&&(this.timer=setInterval(this.changecolor,1000)); else this.tap=0;this.presstime=0;}

this.nEnabledIdle&&!this.nIsFruitaCrushMode&&++this.nIdleCount>=STD_IDLE_TIME&&(this.nInputState=INPUT_LOCKED,this.doIdleHandling(),this.nInputState=INPUT_RELEASE),this.nLastCombo=0;break;
case INPUT_PRESS:var e,t,i,a;

//color
if(this.tap>=2)this.tap=0,this.presstime=1,clearInterval(this.timer),this.timer=null,--this.changes; else if(this.presstime==0)this.presstime=Date.now();

if(e=objGameModule.convertXToCol(game.input.x-this.group.x,0,TILE_WIDTH*this.group.scale.x),t=objGameModule.convertYToRow(game.input.y-this.group.y,0,TILE_HEIGHT*this.group.scale.y),e>=0&&e<this.nTotalCol&&t>=0&&t<this.nTotalRow&&null!=this.arrTiles[t][e]&&(i=e-this.nPressedCol,a=t-this.nPressedRow,1==Math.abs(i)&&0==Math.abs(a)||0==Math.abs(i)&&1==Math.abs(a))){var o=this.arrTiles[this.nPressedRow][this.nPressedCol].nPieceID,s=this.arrTiles[t][e].nPieceID;switch(this.arrPieces[s].nTypeCat){case PIECETYPE_MERINGUE:case PIECETYPE_CHOCOLATE:case PIECETYPE_LOCKED:case PIECETYPE_INGREDIENT:return}this.releaseHandler(),this.nInputState=INPUT_LOCKED,

//move callback
move_callback(nGameLevel),

/*jelly2*/
this.swapPiece(t,e,this.nPressedRow,this.nPressedCol,function(){this.arrPieces[o].updateLatestRowAndCol(t,e,this.arrTiles[t][e]),this.arrPieces[s].updateLatestRowAndCol(this.nPressedRow,this.nPressedCol,this.arrTiles[this.nPressedRow][this.nPressedCol]);

var i=this.arrPieces[o].nTypeCat,a=this.arrPieces[s].nTypeCat;if(i==PIECETYPE_ITEM_COLOR)switch(a){case PIECETYPE_ITEM_COLOR:return this.arrPieces[o].nTypeCat=PIECETYPE_NORMAL,this.arrPieces[s].nTypeCat=PIECETYPE_NORMAL,this.doFullExplosion(t,e),void this.updateHandler.apply(this.updateContext,[EVT_REDUCEMOVE]);case PIECETYPE_ITEM_HSTRIPE:return this.doStripeColorExplosion(t,e,o,this.arrPieces[s].nTypeID,PIECETYPE_ITEM_HSTRIPE),void this.updateHandler.apply(this.updateContext,[EVT_REDUCEMOVE]);case PIECETYPE_ITEM_VSTRIPE:return this.doStripeColorExplosion(t,e,o,this.arrPieces[s].nTypeID,PIECETYPE_ITEM_VSTRIPE),void this.updateHandler.apply(this.updateContext,[EVT_REDUCEMOVE]);case PIECETYPE_CHOCOLATE:case PIECETYPE_INGREDIENT:case PIECETYPE_MERINGUE:case PIECETYPE_LOCKED:return;default:return this.doColorbombExplosion(t,e,o,this.arrPieces[s].nTypeID),void this.updateHandler.apply(this.updateContext,[EVT_REDUCEMOVE])}else if(a==PIECETYPE_ITEM_COLOR)switch(i){case PIECETYPE_ITEM_HSTRIPE:return this.doStripeColorExplosion(this.nPressedRow,this.nPressedCol,s,this.arrPieces[o].nTypeID,PIECETYPE_ITEM_HSTRIPE),void this.updateHandler.apply(this.updateContext,[EVT_REDUCEMOVE]);case PIECETYPE_ITEM_VSTRIPE:

/*fix*/
/*
return this.doStripeColorExplosion(this.nPressedRow,this.nPressedCol,this.arrPieces[o].nTypeID,PIECETYPE_ITEM_VSTRIPE),
*/
return this.doStripeColorExplosion(this.nPressedRow,this.nPressedCol,s,this.arrPieces[o].nTypeID,PIECETYPE_ITEM_VSTRIPE),

void this.updateHandler.apply(this.updateContext,[EVT_REDUCEMOVE]);case PIECETYPE_CHOCOLATE:case PIECETYPE_INGREDIENT:case PIECETYPE_MERINGUE:case PIECETYPE_LOCKED:return;default:return this.doColorbombExplosion(this.nPressedRow,this.nPressedCol,s,this.arrPieces[o].nTypeID),void this.updateHandler.apply(this.updateContext,[EVT_REDUCEMOVE])}else if(i==PIECETYPE_ITEM_HSTRIPE||i==PIECETYPE_ITEM_VSTRIPE)switch(a){case PIECETYPE_ITEM_HSTRIPE:case PIECETYPE_ITEM_VSTRIPE:return void this.doCrossExplosion(t,e,this.nPressedRow,this.nPressedCol);case PIECETYPE_ITEM_AREA:return void this.doStripeAreaExplosion(t,e,this.nPressedRow,this.nPressedCol)}else if(a==PIECETYPE_ITEM_HSTRIPE||a==PIECETYPE_ITEM_VSTRIPE){if(i==PIECETYPE_ITEM_AREA)return void this.doStripeAreaExplosion(this.nPressedRow,this.nPressedCol,t,e)}else if(i==PIECETYPE_ITEM_AREA&&a==PIECETYPE_ITEM_AREA)return this.arrPieces[s].nTypeCat=PIECETYPE_NORMAL,void this.doSpecialAreaExplosion(this.nPressedRow,this.nPressedCol,!1);var r=this.doPieceMatching(t,e,!0),n=this.doPieceMatching(this.nPressedRow,this.nPressedCol,!0);r||n?(game.add.tween(this.objMainGroup).to({},200,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this),this.updateHandler.apply(this.updateContext,[EVT_REDUCEMOVE])):

/*jelly2*/
(this.swapPiece(t,e,this.nPressedRow,this.nPressedCol),this.arrPieces[o].updateLatestRowAndCol(this.nPressedRow,this.nPressedCol,this.arrTiles[this.nPressedRow][this.nPressedCol]),this.arrPieces[s].updateLatestRowAndCol(t,e,this.arrTiles[t][e]),this.nInputState=INPUT_RELEASE)

},this)}break;
case INPUT_LOCKED:

//color
this.tap=0,this.presstime=1;

}},doNormalAreaExplosion:function(e,t,i){if(-1==this.arrSpecialAreaExplosion.indexOf(this.arrTiles[e][t].nPieceID)&&-1==this.arrNormalAreaExplosion.indexOf(this.arrTiles[e][t].nPieceID)){var a=0,o=[-1,-1,-1,0,0,1,1,1],s=[-1,0,1,-1,1,-1,0,1],r=0,n=0,h=[];this.nLastCombo=1;do r=e+o[a],n=t+s[a],r>=0&&n>=0&&r<this.nTotalRow&&n<this.nTotalCol&&null!=this.arrTiles[r][n]&&-1!=this.arrTiles[r][n].nPieceID&&h.push([r,n]);while(++a<o.length);i?(this.arrPieces[this.arrTiles[e][t].nPieceID].nTypeCat=PIECETYPE_NORMAL,h.push([e,t])):(this.arrPieces[this.arrTiles[e][t].nPieceID].setWaitExplode(this.particle1Manager.callObject()),this.arrNormalAreaExplosion.push(this.arrTiles[e][t].nPieceID)),objAudioHandler.playSFX("SFX_Powerup"),this.explodePiece(h),this.nInputState=INPUT_LOCKED,game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+210,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)}},doSpecialAreaExplosion:function(e,t,i){if(-1==this.arrSpecialAreaExplosion.indexOf(this.arrTiles[e][t].nPieceID)&&-1==this.arrNormalAreaExplosion.indexOf(this.arrTiles[e][t].nPieceID)){var a=0,o=[-1,-1,-1,-1,0,0,0,1,1,1,1],s=[-2,-1,0,1,-2,-1,1,-2,-1,0,1],r=0,n=0,h=[];this.nLastCombo=1;do r=e+o[a],n=t+s[a],r>=0&&n>=0&&r<this.nTotalRow&&n<this.nTotalCol&&null!=this.arrTiles[r][n]&&-1!=this.arrTiles[r][n].nPieceID&&h.push([r,n]);while(++a<o.length);i?(this.arrPieces[this.arrTiles[e][t].nPieceID].nTypeCat=PIECETYPE_NORMAL,h.push([e,t])):(this.arrPieces[this.arrTiles[e][t].nPieceID].setWaitExplode(this.particle1Manager.callObject()),this.arrSpecialAreaExplosion.push(this.arrTiles[e][t].nPieceID)),objAudioHandler.playSFX("SFX_Powerup"),this.explodePiece(h),this.nInputState=INPUT_LOCKED,

/*fix*/
/*
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+210,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)}},
*/
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+310,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)}},

doStripeAreaExplosion:function(e,t,i,a){var o,s=this.arrPieces[this.arrTiles[e][t].nPieceID].nTypeCat,r=[];switch(r.push([e,t]),r.push([i,a]),this.arrPieces[this.arrTiles[i][a].nPieceID].nTypeCat=s,s){case PIECETYPE_ITEM_HSTRIPE:o=e-1,o>=0&&null!=this.arrTiles[o][t]&&-1!=this.arrTiles[o][t].nPieceID&&(this.arrPieces[this.arrTiles[o][t].nPieceID].nTypeCat=PIECETYPE_ITEM_HSTRIPE,r.push([o,t])),o=i+1,o<=this.nTotalRow&&null!=this.arrTiles[o][a]&&-1!=this.arrTiles[o][a].nPieceID&&(this.arrPieces[this.arrTiles[o][a].nPieceID].nTypeCat=PIECETYPE_ITEM_HSTRIPE,r.push([o,a]));break;case PIECETYPE_ITEM_VSTRIPE:o=t-1,o>=0&&null!=this.arrTiles[e][o]&&-1!=this.arrTiles[e][o].nPieceID&&(this.arrPieces[this.arrTiles[e][o].nPieceID].nTypeCat=PIECETYPE_ITEM_VSTRIPE,r.push([e,o])),o=a+1,o<=this.nTotalCol&&null!=this.arrTiles[i][o]&&-1!=this.arrTiles[i][o].nPieceID&&(this.arrPieces[this.arrTiles[i][o].nPieceID].nTypeCat=PIECETYPE_ITEM_VSTRIPE,r.push([i,o]))}this.explodePiece(r),

/*fix*/
/*
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+210,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)},
*/
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+310,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)},

doCrossExplosion:function(e,t,i,a){var o=this.arrPieces[this.arrTiles[e][t].nPieceID].nTypeCat,s=this.arrPieces[this.arrTiles[i][a].nPieceID].nTypeCat;if(s==o)switch(o){case PIECETYPE_ITEM_HSTRIPE:s=PIECETYPE_ITEM_VSTRIPE;break;case PIECETYPE_ITEM_VSTRIPE:s=PIECETYPE_ITEM_HSTRIPE}this.arrPieces[this.arrTiles[i][a].nPieceID].nTypeCat=s,this.explodePiece([[e,t],[i,a]]),

/*fix*/
/*
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+210,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)},
*/
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+410,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)},

doStripeColorExplosion:function(e,t,i,a,o){var s,r,n,h,l,d=[],c=[];for(s=0;s<this.nTotalRow;s++)for(r=0;r<this.nTotalCol;r++)

/*jelly2*/
n=this.arrTiles[s][r],null!=n&&-1!=n.nPieceID&&i!=this.arrTiles[s][r].nPieceID&&this.arrPieces[n.nPieceID].nTypeID==a&&(this.arrPieces[n.nPieceID].transformTo(o,n),

d.push([n.nRow,n.nCol]),
c.push([n.x,n.y]));h=this.arrTiles[e][t].x,l=this.arrTiles[e][t].y,this.arrPieces[this.arrTiles[e][t].nPieceID].nTypeCat=PIECETYPE_NORMAL,this.explodePiece([[e,t]]),game.add.tween(this).to({},50,Phaser.Easing.Linear.None,!0).onComplete.add(function(){for(s=0;s<d.length;s++)this.particle4Manager.callObject().play(h,l,c[s][0],c[s][1],this.objGroup3);game.add.tween(this).to({},COLORBOMB_WAIT_DELAY+10,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.explodePiece(d),this.particle4Manager.refresh()},this),

/*fix*/
/*
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+210,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)},
*/
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+510,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)},

this),objAudioHandler.playSFX("SFX_Powerup")},doFullExplosion:function(e,t){var i,a,o,s,r,n=[],h=[];for(this.nLastCombo=3,i=0;i<this.nTotalRow;i++)for(a=0;a<this.nTotalCol;a++)o=this.arrTiles[i][a],null!=o&&-1!=o.nPieceID&&(n.push([o.nRow,o.nCol]),h.push([o.x,o.y]));s=this.arrTiles[e][t].x,r=this.arrTiles[e][t].y,this.explodePiece([[e,t]]),game.add.tween(this).to({},50,Phaser.Easing.Linear.None,!0).onComplete.add(function(){for(i=0;i<n.length;i++)this.particle4Manager.callObject().play(s,r,h[i][0],h[i][1],this.objGroup3);game.add.tween(this).to({},COLORBOMB_WAIT_DELAY+10,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.explodePiece(n),this.particle4Manager.refresh()},this),

/*fix*/
/*
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+210,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)},this),
*/
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+510,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)},this),

objAudioHandler.playSFX("SFX_Powerup")},doColorbombExplosion:function(e,t,i,a){var o,s,r,n,h,l=[],d=[];for(this.nLastCombo=2,o=0;o<this.nTotalRow;o++)for(s=0;s<this.nTotalCol;s++)r=this.arrTiles[o][s],null!=r&&-1!=r.nPieceID&&i!=this.arrTiles[o][s].nPieceID&&this.arrPieces[r.nPieceID].nTypeID==a&&(l.push([r.nRow,r.nCol]),d.push([r.x,r.y]));n=this.arrTiles[e][t].x,h=this.arrTiles[e][t].y,this.arrPieces[this.arrTiles[e][t].nPieceID].nTypeCat=PIECETYPE_NORMAL,this.explodePiece([[e,t]]),game.add.tween(this).to({},50,Phaser.Easing.Linear.None,!0).onComplete.add(function(){for(o=0;o<l.length;o++)this.particle4Manager.callObject().play(n,h,d[o][0],d[o][1],this.objGroup3);game.add.tween(this).to({},COLORBOMB_WAIT_DELAY+10,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.explodePiece(l),this.particle4Manager.refresh()},this),

/*fix*/
/*
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+210,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)},this),
*/
game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+410,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this)},this),

objAudioHandler.playSFX("SFX_Powerup")},doPieceMatching:function(e,t,i){var a,o,s,r,n,h,l=!1,d=!1,c=this.doCrossChecking(e,t),b=c.pop();switch(this.nExtraScore=0,b){case 0:c=[];break;case 1:if(4==c.length){for(s=0;s<c.length-1;s++)if(r=this.doCrossChecking(c[s][0],c[s][1]),n=r.pop(),n>1){for(l=!0,o=0;o<r.length-1;o++)c.push(r[o]);break}l?(a=r.pop(),h=this.arrPieces[this.arrTiles[a[0]][a[1]].nPieceID],

/*jelly2*/
h.nTypeCat==PIECETYPE_NORMAL?(h.transformTo(PIECETYPE_ITEM_AREA,this.arrTiles[a[0]][a[1]]),

this.specialPieceTopExplode(a[0],a[1])):c.push(a)):(a=c.pop(),h=this.arrPieces[this.arrTiles[a[0]][a[1]].nPieceID],

/*jelly2*/
h.nTypeCat==PIECETYPE_NORMAL?(h.transformTo(c[0][0]==c[1][0]?PIECETYPE_ITEM_HSTRIPE:PIECETYPE_ITEM_VSTRIPE,this.arrTiles[a[0]][a[1]]),

this.specialPieceTopExplode(a[0],a[1])):c.push(a)),this.nExtraScore=50,this.nIsFruitaCrushMode&&this.arrFruitaCrushExplode.push(this.arrTiles[a[0]][a[1]].nPieceID)}else c.length>=5&&(a=c.pop(),h=this.arrPieces[this.arrTiles[a[0]][a[1]].nPieceID],

/*jelly2*/
h.nTypeCat==PIECETYPE_NORMAL?(h.transformTo(PIECETYPE_ITEM_COLOR,this.arrTiles[a[0]][a[1]]),

this.specialPieceTopExplode(a[0],a[1])):c.push(a),this.nExtraScore=50,this.nIsFruitaCrushMode&&this.arrFruitaCrushExplode.push(this.arrTiles[a[0]][a[1]].nPieceID));d=!0;break;case 2:a=c.pop(),h=this.arrPieces[this.arrTiles[a[0]][a[1]].nPieceID],h.nTypeCat==PIECETYPE_NORMAL?(h.transformTo(PIECETYPE_ITEM_AREA,this.arrTiles[a[0]][a[1]]),this.specialPieceTopExplode(a[0],a[1])):c.push(a),this.nExtraScore=50,this.nIsFruitaCrushMode&&this.arrFruitaCrushExplode.push(this.arrTiles[a[0]][a[1]].nPieceID),d=!0;break;case 3:a=c.pop(),h=this.arrPieces[this.arrTiles[a[0]][a[1]].nPieceID],h.nTypeCat==PIECETYPE_NORMAL?(h.transformTo(PIECETYPE_ITEM_COLOR,this.arrTiles[a[0]][a[1]]),this.specialPieceTopExplode(a[0],a[1])):c.push(a),this.nExtraScore=50,this.nIsFruitaCrushMode&&this.arrFruitaCrushExplode.push(this.arrTiles[a[0]][a[1]].nPieceID),d=!0}return d&&i&&this.explodePiece(c),d},specialPieceTopExplode:function(e,t){this.arrTiles[e][t].nJellyType>0&&(this.arrTiles[e][t].explodeJelly(),this.nExtraScore+=200)},swapPiece:function(e,t,i,a,o,s){

//undo
if(objGameSave.undo){
  for(y=0;y<board.arrTiles.length;y++)for(x=0;x<board.arrTiles[y].length;x++){
	if(typeof tiles[y]=="undefined")tiles.push([]);
	if(typeof tiles[y][x]=="undefined")tiles[y].push({});
	w=board.arrTiles[y][x],z=tiles[y][x];
	if(w==null)tiles[y][x]=null;else z.nJellyType=w.nJellyType,z.nPieceID=w.nPieceID;
  }
  for(y=0;y<board.arrPieces.length;y++){
	if(typeof pieces[y]=="undefined")pieces.push({});
	w=board.arrPieces[y],z=pieces[y];
	z.nCol=w.nCol,z.nRow=w.nRow,z.nFrameName=w.nFrameName,z.nTypeCat=w.nTypeCat,z.nTypeID=w.nTypeID;
  }
  for(chocos=[],y=0;y<board.arrChocoPieceID.length;y++)chocos.push(board.arrChocoPieceID[y]);
  window.scores=main.nCurnScore,window.moves=main.nCurnMove;
}

var r=this.arrTiles[e][t].nPieceID,n=this.arrTiles[i][a].nPieceID;game.add.tween(this.arrPieces[r]).to({x:this.arrTiles[i][a].x,y:this.arrTiles[i][a].y},200,Phaser.Easing.Linear.None,!0),this.arrTiles[i][a].nPieceID=r,game.add.tween(this.arrPieces[n]).to({x:this.arrTiles[e][t].x,y:this.arrTiles[e][t].y},200,Phaser.Easing.Linear.None,!0),this.arrTiles[e][t].nPieceID=n,null!=o&&game.add.tween(this.objMainGroup).to({},250,Phaser.Easing.Linear.None,!0).onComplete.add(o,s)},checkAllMatches:function(e){var t,i,a=!1;for(t=0;t<this.nTotalRow;t++)for(i=0;i<this.nTotalCol;i++)null!=this.arrTiles[t][i]&&(a?this.doPieceMatching(t,i,!0):a=this.doPieceMatching(t,i,!0));switch(e){case!0:a?game.add.tween(this.objMainGroup).to({},200,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this):this.nInputState=INPUT_RELEASE;break;case!1:}return a},doIdleHandling:function(){var e,t,i,a,o,s,r,n,h,l,d,c=!1,b=[DIR_RIGHT,DIR_DOWN];for(this.nIdleCount=0,this.nEnabledIdle=!1,e=0;e<this.nTotalRow;e++){for(t=0;t<this.nTotalCol;t++){if(null!=this.arrTiles[e][t]){i=0;do a=b[i]==DIR_DOWN?e+1:e,o=b[i]==DIR_RIGHT?t+1:t,a>=0&&o>=0&&a<this.nTotalRow&&o<this.nTotalCol&&null!=this.arrTiles[a][o]&&(this.doCheckImmovablePiece(a,o)||this.doCheckSpecialPiece(e,t)||(r=this.arrTiles[e][t].nPieceID,n=this.arrTiles[a][o].nPieceID,this.arrTiles[e][t].nPieceID=n,this.arrTiles[a][o].nPieceID=r,s=this.doCrossChecking(e,t),s.pop()>0&&(c=!0,h=e,l=t,d=i),this.arrTiles[e][t].nPieceID=r,this.arrTiles[a][o].nPieceID=n));while(!c&&++i<b.length)}if(c)break}if(c)break}if(c)switch(b[d]){case DIR_DOWN:this.objHintArrow.show(objGameModule.convertColToX(l,.5*TILE_WIDTH,TILE_WIDTH),objGameModule.convertRowToY(h,TILE_HEIGHT,TILE_HEIGHT),90);break;case DIR_RIGHT:this.objHintArrow.show(objGameModule.convertColToX(l,TILE_WIDTH,TILE_WIDTH),objGameModule.convertRowToY(h,.5*TILE_HEIGHT,TILE_HEIGHT),0)}

//color
//else for(e=0;e<this.arrPieces.length;e++)if(this.arrPieces[e].group.visible)switch(this.arrPieces[e].nTypeCat){case PIECETYPE_CHOCOLATE:case PIECETYPE_INGREDIENT:case PIECETYPE_MERINGUE:case PIECETYPE_LOCKED:break;
/*jelly2*/
//default:this.arrPieces[e].transformTo(PIECETYPE_ITEM_COLOR,this.arrTiles[this.arrPieces[e].nRow][this.arrPieces[e].nCol]),
//e=this.arrPieces.length}},

// <1 color
else {for(v=0,e=0;e<this.arrPieces.length;e++)z=this.arrPieces[e],z.nTypeCat==PIECETYPE_ITEM_COLOR&&(++v);
for(e=0;e<this.arrPieces.length;e++)if(z=this.arrPieces[e],z.group.visible&&z.nTypeCat==PIECETYPE_NORMAL&&(v<1||objGameSave.color)){
w=this.arrTiles,x=this.arrPieces,y=0,r=z.nRow,c=z.nCol,
c-1>=0&&w[r][c-1]!=null&&x[w[r][c-1].nPieceID].nTypeCat<=PIECETYPE_ITEM_COLOR&&(++y),
c+1<board.nTotalCol&&w[r][c+1]!=null&&x[w[r][c+1].nPieceID].nTypeCat<=PIECETYPE_ITEM_COLOR&&(++y),
r-1>=0&&w[r-1][c]!=null&&x[w[r-1][c].nPieceID].nTypeCat<=PIECETYPE_ITEM_COLOR&&(++y),
r+1<board.nTotalRow&&w[r+1][c]!=null&&x[w[r+1][c].nPieceID].nTypeCat<=PIECETYPE_ITEM_COLOR&&(++y),
y>0&&(e=this.arrPieces.length)&&z.transformTo(PIECETYPE_ITEM_COLOR,w[r][c])} }},

doCrossChecking:function(e,t){var i,a,o,s,r=0,n=[],h=[],l=[];if(null==this.arrTiles[e][t]||-1==this.arrTiles[e][t].nPieceID)return[0];for(s=this.arrPieces[this.arrTiles[e][t].nPieceID].nTypeID,i=0;i<this.nTotalRow;i++)if(null!=this.arrTiles[i][t]&&(a=this.arrTiles[i][t].nPieceID,-1!=a))switch(this.arrPieces[a].nTypeCat){case PIECETYPE_CHOCOLATE:case PIECETYPE_INGREDIENT:case PIECETYPE_MERINGUE:case PIECETYPE_LOCKED:break;default:s==this.arrPieces[a].nTypeID&&(h=this.doMatch(DIR_DOWN,i,t),h.length>=3?(o=this.getIndexFromMatchList(h,e,t),-1!=o?(h.splice(o,1),r++,i=this.nTotalRow):h=[]):h=[])}for(i=0;i<this.nTotalCol;i++)if(null!=this.arrTiles[e][i]&&(a=this.arrTiles[e][i].nPieceID,-1!=a))switch(this.arrPieces[a].nTypeCat){case PIECETYPE_CHOCOLATE:case PIECETYPE_INGREDIENT:case PIECETYPE_MERINGUE:case PIECETYPE_LOCKED:break;default:s==this.arrPieces[a].nTypeID&&(n=this.doMatch(DIR_RIGHT,e,i),n.length>=3?(o=this.getIndexFromMatchList(n,e,t),-1!=o?(n.splice(o,1),r++,i=this.nTotalCol):n=[]):n=[])}for((n.length+1>=5||h.length+1>=5)&&(r=3),i=0;i<n.length;i++)l.push(n[i]);for(i=0;i<h.length;i++)l.push(h[i]);return l.push([e,t]),l.push(r),l},getIndexFromMatchList:function(e,t,i){var a,o;for(o=-1,a=0;a<e.length;a++)if(e[a][0]==t&&e[a][1]==i){o=a;break}return o},doMatch:function(e,t,i){var a,o,s,r,n,h=!1,l=[];if(null==this.arrTiles[t][i]||-1==this.arrTiles[t][i].nPieceID)return[];switch(e){case DIR_UP:a=-1,o=0;break;case DIR_DOWN:a=1,o=0;break;case DIR_LEFT:a=0,o=-1;break;case DIR_RIGHT:a=0,o=1}tmpSRow=t,tmpSCol=i,s=this.arrTiles[t][i].nPieceID,r=this.arrPieces[s].nTypeID;do s=this.arrTiles[t][i].nPieceID,n=this.arrPieces[s].nTypeID,r==n?(l.push([t,i]),t+=a,i+=o,(0>i||i>=this.nTotalCol||0>t||t>=this.nTotalRow||null==this.arrTiles[t][i]||-1==this.arrTiles[t][i].nPieceID)&&(h=!0)):h=!0;while(!h);return l},explodePiece:function(e){if(!(e.length<=0)){var t,i,a,o,s,r,n,h,l,d=1,c=0,b=0,u=0,p=0,g=0,T=0;for(t=0;t<e.length;t++)if(i=e[t][0],a=e[t][1],null!=this.arrTiles[i][a]&&-1!=this.arrTiles[i][a].nPieceID){switch(o=this.arrTiles[i][a].nPieceID,d=this.arrPieces[o].nTypeID,c=this.arrPieces[o].nTypeCat,h=!0,l=!0,n=this.arrFruitaCrushExplode.indexOf(o),-1!=n&&c!=PIECETYPE_ITEM_COLOR&&this.arrFruitaCrushExplode.splice(n,1),c){

/*crush1*//*fix explosion loop in crush*/
/*
case PIECETYPE_ITEM_AREA:this.doNormalAreaExplosion(i,a,!1),h=!1;break;
*/
case PIECETYPE_ITEM_AREA:this.doNormalAreaExplosion(i,a,this.nIsFruitaCrushMode),h=!1;break;

case PIECETYPE_ITEM_COLOR:h=!1;break;case PIECETYPE_ITEM_HSTRIPE:for(s=0;s<this.nTotalCol;s++)e.push([i,s]);this.particle3Manager.callObject().play(this.arrTiles[i][a].x,this.arrTiles[i][a].y,0,this.objGroup3),this.particle3Manager.refresh(),objAudioHandler.playSFX("SFX_Powerup");break;case PIECETYPE_ITEM_VSTRIPE:for(s=0;s<this.nTotalRow;s++)e.push([s,a]);this.particle3Manager.callObject().play(this.arrTiles[i][a].x,this.arrTiles[i][a].y,90,this.objGroup3),this.particle3Manager.refresh(),objAudioHandler.playSFX("SFX_Powerup");break;case PIECETYPE_CHOCOLATE:r=this.arrChocoPieceID.indexOf(o),-1!=r&&this.arrChocoPieceID.splice(r,1),this.nEnableChocoInfect=!1;case PIECETYPE_LOCKED:case PIECETYPE_MERINGUE:case PIECETYPE_INGREDIENT:l=!1}if(h&&(objAudioHandler.playSFX("SFX_Explode"),this.arrTiles[i][a].nPieceID=-1,this.arrPieces[o].explode(this.particle1Manager.callObject()),this.arrUnusedPieceID.push(o),l)){var j;j=this.doExplodeAroundEffect(i,a,DIR_UP),null!=j&&e.push(j),j=this.doExplodeAroundEffect(i,a,DIR_DOWN),null!=j&&e.push(j),j=this.doExplodeAroundEffect(i,a,DIR_LEFT),null!=j&&e.push(j),j=this.doExplodeAroundEffect(i,a,DIR_RIGHT),null!=j&&e.push(j),this.arrTiles[i][a].nJellyType>0&&(this.arrTiles[i][a].explodeJelly(),T+=200)}}switch(b=20*e.length+20*this.nLastCombo,u=e.length*b+T+this.nExtraScore,this.nLastCombo+=1,

/*score*/
this.nIsFruitaCrushMode&&(u/=2),u=Math.round(u/100)*100,
/*console.log(u),*/

this.nCurnScore+=u,this.nExtraScore=0,this.updateHandler.apply(this.updateContext,[EVT_ADDSCORE,[u]]),t=e[0][0],i=e[0][1],a=e[e.length-1][0],o=e[e.length-1][1],null==this.arrTiles[a][o]?(p=this.arrTiles[t][i].x,g=this.arrTiles[t][i].y):(p=this.arrTiles[t][i].x+.5*(this.arrTiles[a][o].x-this.arrTiles[t][i].x),g=this.arrTiles[t][i].y+.5*(this.arrTiles[a][o].y-this.arrTiles[t][i].y)),d=d>6?1:d){case 1:this.scoredigit1Manager.callObject().play(p,g,u,this.objGroup3),this.scoredigit1Manager.refresh();break;case 2:this.scoredigit2Manager.callObject().play(p,g,u,this.objGroup3),this.scoredigit2Manager.refresh();break;case 3:this.scoredigit3Manager.callObject().play(p,g,u,this.objGroup3),this.scoredigit3Manager.refresh();break;case 4:this.scoredigit4Manager.callObject().play(p,g,u,this.objGroup3),this.scoredigit4Manager.refresh();break;case 5:this.scoredigit5Manager.callObject().play(p,g,u,this.objGroup3),this.scoredigit5Manager.refresh();break;case 6:this.scoredigit6Manager.callObject().play(p,g,u,this.objGroup3),this.scoredigit6Manager.refresh()}}},doExplodeAroundEffect:function(e,t,i){switch(i){case DIR_DOWN:e+=1;break;case DIR_UP:e-=1;break;case DIR_LEFT:t-=1;break;case DIR_RIGHT:t+=1}return e>=0&&e<this.nTotalRow&&t>=0&&t<this.nTotalCol&&null!=this.arrTiles[e][t]&&-1!=this.arrTiles[e][t].nPieceID&&this.doCheckSpecialPiece(e,t)?[e,t]:null},doAutoFill:function(){if(!this.nAutoFilling){this.nAutoFilling=!0;var e,t,i,a=[];

/*text*/
for(e=0;e<this.arrTarget.length;e++){switch(this.arrTarget[e]){
case TARGETTYPE_JELLY:for(var tc=0,t=0;t<this.nTotalRow;t++)for(i=0;i<this.nTotalCol;i++)if(null!=this.arrTiles[t][i]&&this.arrTiles[t][i].nJellyType>0){tc+=this.arrTiles[t][i].nJellyType}break;
case TARGETTYPE_INGREDIENTS:for(var tc=0,t=0;t<this.arrPieces.length;t++)if(this.arrPieces[t].group.visible&&this.arrPieces[t].nTypeCat==PIECETYPE_INGREDIENT){++tc}
}targetcount.text=tc}

for(this.nMaxDrop=0,this.arrSpawnY=[],e=0;e<this.nTotalCol;e++)this.arrSpawnY.push(TILE_HEIGHT);for(e=this.nTotalRow-1;e>=0;e--)for(t=0;t<this.nTotalCol;t++)null!=this.arrTiles[e][t]&&-1==this.arrTiles[e][t].nPieceID&&(i=this.dropNearestPiece(e,t),-1!=i&&(this.arrTiles[e][t].nPieceID=i,a.push(i)));for(e=0;e<a.length;e++)t=a[e],this.arrPieces[t].startDrop();this.objComplimentText.group.visible||(this.nLastCombo>=7?(

/*score*/
this.nCurnScore+=3000,this.updateHandler.apply(this.updateContext,[EVT_ADDSCORE,[3000]]),

objAudioHandler.playSFX("SFX_VOPerfect"),this.objComplimentText.play(.5*SCALED_WIDTH,.3*SCALED_HEIGHT,3)):this.nLastCombo>=4?(

/*score*/
this.nCurnScore+=1000,this.updateHandler.apply(this.updateContext,[EVT_ADDSCORE,[1000]]),

objAudioHandler.playSFX("SFX_VOGreat"),this.objComplimentText.play(.5*SCALED_WIDTH,.3*SCALED_HEIGHT,2)):this.nLastCombo>=2&&(

/*score*/
this.nCurnScore+=500,this.updateHandler.apply(this.updateContext,[EVT_ADDSCORE,[500]]),

objAudioHandler.playSFX("SFX_VONice"),this.objComplimentText.play(.5*SCALED_WIDTH,.3*SCALED_HEIGHT,1)));

var o=DROP_DELAY_PERTILE*this.nMaxDrop;o=o>MAX_DROP_DELAY?MAX_DROP_DELAY:o,game.add.tween(this.objMainGroup).to({},o+500,Phaser.Easing.Linear.None,!0).onComplete.add(function(){if(this.nAutoFilling=!1,!this.checkAllMatches(!0)){var a=-1,o=!1;for((this.arrNormalAreaExplosion.length>0||this.arrSpecialAreaExplosion.length>0)&&(o=!0);this.arrNormalAreaExplosion.length>0;)a=this.arrNormalAreaExplosion.pop(),this.doNormalAreaExplosion(this.arrPieces[a].nRow,this.arrPieces[a].nCol,!0);for(this.arrNormalAreaExplosion=[];this.arrSpecialAreaExplosion.length>0;)a=this.arrSpecialAreaExplosion.pop(),this.doSpecialAreaExplosion(this.arrPieces[a].nRow,this.arrPieces[a].nCol,!0);if(this.arrSpecialAreaExplosion=[],!o)if(this.nIsFruitaCrushMode)this.arrFruitaCrushExplode.length<=0?this.updateHandler.apply(this.updateContext,[EVT_WIN_END]):this.doFruitCrushExplodeQueue(this.arrFruitaCrushExplode);else{var s=!0;for(e=0;e<this.arrTarget.length;e++){switch(this.arrTarget[e]){case TARGETTYPE_JELLY:for(t=0;t<this.nTotalRow;t++)for(i=0;i<this.nTotalCol;i++)if(null!=this.arrTiles[t][i]&&this.arrTiles[t][i].nJellyType>0){s=!1;break}break;case TARGETTYPE_INGREDIENTS:for(t=0;t<this.arrPieces.length;t++)if(this.arrPieces[t].group.visible&&this.arrPieces[t].nTypeCat==PIECETYPE_INGREDIENT){s=!1;break}}if(!s)break}

/*crush1*//*one-move win to test crush*/
/*
s?this.nCurnScore>=this.nTargetScore?
*/
s||autocrush?autocrush||this.nCurnScore>=this.nTargetScore?

this.updateHandler.apply(this.updateContext,[EVT_WIN_START])
:(this.doInfectChocoVirus(),this.updateHandler.apply(this.updateContext,[EVT_CHECKLOSE,[!0]])):(this.doInfectChocoVirus(),this.updateHandler.apply(this.updateContext,[EVT_CHECKLOSE,[!1]]))}}},this)}},doInfectChocoVirus:function(){if(!(this.arrChocoPieceID.length<=0)){if(!this.nEnableChocoInfect)return void(this.nEnableChocoInfect=!0);var e,t,i,a,o=[];for(e=0;e<this.arrChocoPieceID.length;e++)o.push(this.arrChocoPieceID[e]);do{if(e=objGameModule.randomRangeInt(0,o.length-1),t=o[e],i=this.arrPieces[t].nRow,a=this.arrPieces[t].nCol,this.startChocoInfect(i,a,DIR_UP))break;if(this.startChocoInfect(i,a,DIR_DOWN))break;if(this.startChocoInfect(i,a,DIR_LEFT))break;if(this.startChocoInfect(i,a,DIR_RIGHT))break;o.splice(e,1)}while(o.length>0)}},startChocoInfect:function(e,t,i){var a=!1;switch(i){case DIR_UP:e-=1;break;case DIR_DOWN:e+=1;break;case DIR_LEFT:t-=1;break;case DIR_RIGHT:t+=1}return e>=0&&e<this.nTotalRow&&t>=0&&t<this.nTotalCol&&(null==this.arrTiles[e][t]||-1==this.arrTiles[e][t].nPieceID||this.doCheckSpecialPiece(e,t)||(a=!0,

/*jelly2*/
this.arrPieces[this.arrTiles[e][t].nPieceID].transformTo(PIECETYPE_CHOCOLATE,this.arrTiles[e][t]),

this.arrChocoPieceID.push(this.arrTiles[e][t].nPieceID))),a},dropNearestPiece:function(e,t){var i,a,o,s,r,n,h=!1;if(o=e-1,s=t,r=-1,o>=0){if(null!=this.arrTiles[o][s])if(-1==this.arrTiles[o][s].nPieceID){for(a=o;--a>=0;)if(null!=this.arrTiles[a][s]&&-1!=this.arrTiles[a][s].nPieceID&&!this.doCheckImmovablePiece(a,s)){r=this.arrTiles[a][s].nPieceID,this.arrTiles[a][s].nPieceID=-1;break}0>a?(r=this.arrUnusedPieceID.pop(),

/*jelly2*/
this.arrPieces[r].reset(this.arrTiles[e][t].x,-this.arrSpawnY[s],PIECETYPE_NORMAL,this.arrTiles[e][t],1),

this.arrSpawnY[s]+=TILE_HEIGHT,o=-(this.arrSpawnY[s]/TILE_HEIGHT),n=e-o):-1!=r&&(n=e-a)}else this.doCheckImmovablePiece(o,s)?h=!0:(r=this.arrTiles[o][s].nPieceID,this.arrTiles[o][s].nPieceID=-1,n=e-o);else h=!0;if(h){var l=!1;if(i=s,s-1>=0&&(null==this.arrTiles[o][s-1]||this.doCheckImmovablePiece(o,s-1)||(s-=1,l=!0)),l||s+1<this.nTotalCol&&(null==this.arrTiles[o][s+1]||this.doCheckImmovablePiece(o,s+1)||(s+=1,l=!0)),l)-1==this.arrTiles[o][s].nPieceID?r=this.dropNearestPiece(o,s):(r=this.arrTiles[o][s].nPieceID,this.arrTiles[o][s].nPieceID=-1),this.arrPieces[r].addDropTrack(this.arrTiles[e][i].x,this.arrTiles[e][i].y,DROP_DELAY_PERTILE),

/*jelly2*/
this.arrPieces[r].updateLatestRowAndCol(e,i,this.arrTiles[e][i]),

n=e-o-1;else{for(a=o;--a>=0;)if(null!=this.arrTiles[a][s]&&-1!=this.arrTiles[a][s].nPieceID&&!this.doCheckImmovablePiece(a,s)){r=this.arrTiles[a][s].nPieceID,this.arrTiles[a][s].nPieceID=-1;break}0>a?(r=this.arrUnusedPieceID.pop(),

/*jelly2*/
this.arrPieces[r].reset(this.arrTiles[e][t].x,-this.arrSpawnY[s],PIECETYPE_NORMAL,this.arrTiles[e][t],2),

this.arrSpawnY[s]+=TILE_HEIGHT,o=-(this.arrSpawnY[s]/TILE_HEIGHT),n=e-o):-1!=r&&(n=e-a)}}}else r=this.arrUnusedPieceID.pop(),

/*jelly2*/
this.arrPieces[r].reset(this.arrTiles[0][s].x,this.arrTiles[0][s].y-this.arrSpawnY[t],PIECETYPE_NORMAL,this.arrTiles[0][s],3),

this.arrSpawnY[t]+=TILE_HEIGHT,o=-(this.arrSpawnY[t]/TILE_HEIGHT),n=e-o;return-1!=r&&(this.arrPieces[r].addDropTrack(this.arrTiles[e][t].x,this.arrTiles[e][t].y,n*DROP_DELAY_PERTILE),this.arrPieces[r].updateLatestRowAndCol(e,t,this.arrTiles[e][t]),this.nMaxDrop<e-o&&(this.nMaxDrop=e-o)),r},doCheckImmovablePiece:function(e,t){var i=this.arrTiles[e][t].nPieceID,a=!1;if(-1!=i)switch(this.arrPieces[i].nTypeCat){case PIECETYPE_CHOCOLATE:case PIECETYPE_MERINGUE:a=!0;break;default:a=!1}return a},doCheckSpecialPiece:function(e,t){var i=this.arrTiles[e][t].nPieceID,a=!1;if(-1!=i)switch(this.arrPieces[i].nTypeCat){case PIECETYPE_CHOCOLATE:case PIECETYPE_INGREDIENT:case PIECETYPE_MERINGUE:case PIECETYPE_LOCKED:a=!0;break;default:a=!1}return a},clickHandler:function(e,t){if(this.nInputState!=INPUT_LOCKED&&null!=this.arrTiles[e][t]&&-1!=this.arrTiles[e][t].nPieceID){switch(this.arrPieces[this.arrTiles[e][t].nPieceID].nTypeCat){case PIECETYPE_CHOCOLATE:case PIECETYPE_MERINGUE:case PIECETYPE_INGREDIENT:case PIECETYPE_LOCKED:return}this.nInputState=INPUT_PRESS,this.nPressedRow=e,this.nPressedCol=t,this.nPressedID=this.arrTiles[e][t].nPieceID,

/*temp*/
this.arrPieces[this.nPressedID].pressed(this.arrTiles[e][t]),

this.objHintArrow.hide(),this.nEnabledIdle=!0,this.nIdleCount=0}},releaseHandler:function(){this.nInputState==INPUT_LOCKED||this.nPressedID<0||(this.nInputState=INPUT_RELEASE,this.arrPieces[this.nPressedID].released())},fruitaCrush:function(e){

/*crush*/
piecex="f";
/*temp*/
piecex="k";

var 
/*crush1*/
ee,

t,i,a,o,s=[];for(this.arrFruitaCrushExplode=[],this.nIsFruitaCrushMode=!0,this.nInputState=INPUT_LOCKED,o=0,t=0;t<this.arrPieces.length;t++)

/*crush*/
/*{this.arrPieces[t].nTypeCat==PIECETYPE_NORMAL&&(this.arrPieces[t].objPiece.frameName="obj-piece"+this.arrPieces[t].nFrameName+"f.png");*/
/*temp*/
{this.arrPieces[t].nTypeCat==PIECETYPE_NORMAL&&(this.arrPieces[t].objPiece.frameName="obj-piece"+this.arrPieces[t].nFrameName+"k.png");

this.arrPieces[t].group.visible&&this.arrPieces[t].nTypeCat==PIECETYPE_NORMAL&&s.push(t);

/*crush*/
}

/*crush1*/
/*
for(tmpAvailableType=objLevelData[nGameLevel].available,i=0;e>i;i++)do 
*/
for(tmpAvailableType=objLevelData[nGameLevel].available,ee=Math.min(e,s.length-1),i=0;ee>i;i++)do 

if(a=objGameModule.randomRangeInt(0,s.length-1),t=s[a],s.splice(a,1),this.arrPieces[t].nTypeCat==PIECETYPE_NORMAL){switch(this.arrPieces[t].nTypeID=tmpAvailableType[objGameModule.randomRangeInt(0,tmpAvailableType.length-1)],objGameModule.randomRangeInt(0,2)){

/*jelly2*/
case 0:this.arrPieces[t].transformToWithDelay(PIECETYPE_ITEM_HSTRIPE,180*i,this.arrTiles[this.arrPieces[t].nRow][this.arrPieces[t].nCol]);break;case 1:this.arrPieces[t].transformToWithDelay(PIECETYPE_ITEM_VSTRIPE,180*i,this.arrTiles[this.arrPieces[t].nRow][this.arrPieces[t].nCol]);break;case 2:this.arrPieces[t].transformToWithDelay(PIECETYPE_ITEM_AREA,180*i,this.arrTiles[this.arrPieces[t].nRow][this.arrPieces[t].nCol])}

game.time.events.add(200*i,function(){this.updateHandler.apply(this.updateContext,[EVT_REDUCEMOVE])},this),o++;break}while(s.length>0);game.add.tween(this.objMainGroup).to({},200*(o+2),Phaser.Easing.Linear.None,!0).onComplete.add(function(){for(t=0;t<this.arrTiles.length;t++)for(i=0;i<this.arrTiles[t].length;i++)null!=this.arrTiles[t][i]&&-1!=this.arrTiles[t][i].nPieceID&&(a=this.arrTiles[t][i].nPieceID,(this.arrPieces[a].nTypeCat==PIECETYPE_ITEM_HSTRIPE||this.arrPieces[a].nTypeCat==PIECETYPE_ITEM_AREA||this.arrPieces[a].nTypeCat==PIECETYPE_ITEM_COLOR||this.arrPieces[a].nTypeCat==PIECETYPE_ITEM_VSTRIPE)&&this.arrFruitaCrushExplode.push(a));this.doFruitCrushExplodeQueue(this.arrFruitaCrushExplode)},this)},doFruitCrushExplodeQueue:function(){var e=this.arrFruitaCrushExplode.pop();this.arrPieces[e].nTypeCat==PIECETYPE_ITEM_COLOR?(tmpAvailableType=objLevelData[nGameLevel].available,this.doColorbombExplosion(this.arrPieces[e].nRow,this.arrPieces[e].nCol,e,tmpAvailableType[objGameModule.randomRangeInt(0,tmpAvailableType.length-1)])):(this.explodePiece([[this.arrPieces[e].nRow,this.arrPieces[e].nCol]]),game.add.tween(this.objMainGroup).to({},COLORBOMB_WAIT_DELAY+210,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.doAutoFill()},this))},checkIsFruitaCrushCanBeDone:function(){var e,t;for(e=0;e<this.arrTiles.length;e++)for(t=0;t<this.arrTiles[e].length;t++)if(null!=this.arrTiles[e][t]&&-1!=this.arrTiles[e][t].nPieceID&&(tmpK=this.arrTiles[e][t].nPieceID,this.arrPieces[tmpK].nTypeCat==PIECETYPE_ITEM_HSTRIPE||this.arrPieces[tmpK].nTypeCat==PIECETYPE_ITEM_VSTRIPE||this.arrPieces[tmpK].nTypeCat==PIECETYPE_ITEM_AREA||this.arrPieces[tmpK].nTypeCat==PIECETYPE_ITEM_COLOR))return!0;return!1},destroy:function(){var e,t;for(this.particle1Manager.destroy(),this.particle1Manager=null,this.particle3Manager.destroy(),this.particle3Manager=null,this.particle4Manager.destroy(),this.particle4Manager=null,this.scoredigit1Manager.destroy(),this.scoredigit1Manager=null,this.scoredigit2Manager.destroy(),this.scoredigit2Manager=null,this.scoredigit3Manager.destroy(),this.scoredigit3Manager=null,this.scoredigit4Manager.destroy(),this.scoredigit4Manager=null,this.scoredigit5Manager.destroy(),this.scoredigit5Manager=null,this.scoredigit6Manager.destroy(),this.scoredigit6Manager=null,this.objHintArrow.destroy(),this.objHintArrow=null,this.objComplimentText.destroy(),this.objComplimentText=null,e=0;e<this.arrPieces.length;e++)this.arrPieces[e].destroy(),this.arrPieces[e]=null;for(this.arrUnusedPieceID=[],e=0;e<this.arrTiles.length;e++)for(t=0;t<this.arrTiles[e].length;t++)null!=this.arrTiles[e][t]&&(this.arrTiles[e][t].destroy(),this.arrTiles[e][t]=null);for(this.arrTiles=[],e=0;e<this.arrTilesBG.length;e++)this.arrTilesBG[e].destroy(),this.arrTilesBG[e]=null;this.arrTilesBG=[],this.arrLevelParam=[],this.arrSpawnY=[],this.arrNormalAreaExplosion=[],this.arrSpecialAreaExplosion=[],this.updateHandler=null,this.updateContext=null,this.objGroup1.removeAll(),this.objGroup1.destroy(),this.objGroup1=null,this.objGroup2.removeAll(),this.objGroup2.destroy(),this.objGroup2=null,this.objGroup3.removeAll(),this.objGroup3.destroy(),this.objGroup3=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(playboard.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(playboard.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(playboard.prototype,"width",{get:function(){return this.objMainGroup.width}}),Object.defineProperty(playboard.prototype,"height",{get:function(){return this.objMainGroup.height}}),Object.defineProperty(playboard.prototype,"group",{get:function(){return this.objMainGroup}}),scoredigit1=function(){this.objMainGroup=game.add.group(),this.objDigit=game.add.bitmapText(0,0,"fnt-score1","0",34),this.objMainGroup.add(this.objDigit),this.onUse=!1,this.deactivate()},scoredigit1.prototype={play:function(e,t,i,a){this.objMainGroup.visible=!0,a.add(this.objMainGroup),this.objDigit.text=i,this.objDigit.updateTransform(),this.objDigit.x=-(.5*this.objDigit.textWidth),this.objMainGroup.x=e,this.objMainGroup.y=t+10,this.objMainGroup.alpha=.8,this.objMainGroup.scale.setTo(.2,.2),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1200,Phaser.Easing.Elastic.Out,!0).onComplete.add(this.deactivate,this),game.add.tween(this.objMainGroup).to({y:t-10,alpha:1},600,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objMainGroup).to({y:t-12,alpha:0},400,Phaser.Easing.Linear.None,!0)},this)},activate:function(){this.onUse=!0,this.objMainGroup.visible=!0},deactivate:function(){null!=this.objMainGroup.parent&&this.objMainGroup.parent.remove(this.objMainGroup),this.onUse=!1,this.objMainGroup.visible=!1},destroy:function(){game.tweens.removeFrom(this.objDigit,!1),this.objDigit.destroy(),this.objDigit=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(scoredigit1.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(scoredigit1.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(scoredigit1.prototype,"group",{get:function(){return this.objMainGroup}}),scoredigit2=function(){this.objMainGroup=game.add.group(),this.objDigit=game.add.bitmapText(0,0,"fnt-score2","0",34),this.objMainGroup.add(this.objDigit),this.onUse=!1,this.deactivate()},scoredigit2.prototype={play:function(e,t,i,a){this.objMainGroup.visible=!0,a.add(this.objMainGroup),this.objDigit.text=i,this.objDigit.updateTransform(),this.objDigit.x=.5*-this.objDigit.textWidth,this.objMainGroup.x=e,this.objMainGroup.y=t+10,this.objMainGroup.alpha=.8,this.objMainGroup.scale.setTo(.2,.2),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1200,Phaser.Easing.Elastic.Out,!0).onComplete.add(this.deactivate,this),game.add.tween(this.objMainGroup).to({y:t-10,alpha:1},600,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objMainGroup).to({y:t-12,alpha:0},400,Phaser.Easing.Linear.None,!0)},this)},activate:function(){this.onUse=!0,this.objMainGroup.visible=!0},deactivate:function(){null!=this.objMainGroup.parent&&this.objMainGroup.parent.remove(this.objMainGroup),this.onUse=!1,this.objMainGroup.visible=!1},destroy:function(){game.tweens.removeFrom(this.objDigit,!1),this.objDigit.destroy(),this.objDigit=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(scoredigit2.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(scoredigit2.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(scoredigit2.prototype,"group",{get:function(){return this.objMainGroup}}),scoredigit3=function(){this.objMainGroup=game.add.group(),this.objDigit=game.add.bitmapText(0,0,"fnt-score3","0",34),this.objMainGroup.add(this.objDigit),this.onUse=!1,this.deactivate()},scoredigit3.prototype={play:function(e,t,i,a){this.objMainGroup.visible=!0,a.add(this.objMainGroup),this.objDigit.text=i,this.objDigit.updateTransform(),this.objDigit.x=.5*-this.objDigit.textWidth,this.objMainGroup.x=e,this.objMainGroup.y=t+10,this.objMainGroup.alpha=.8,this.objMainGroup.scale.setTo(.2,.2),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1200,Phaser.Easing.Elastic.Out,!0).onComplete.add(this.deactivate,this),game.add.tween(this.objMainGroup).to({y:t-10,alpha:1},600,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objMainGroup).to({y:t-12,alpha:0},400,Phaser.Easing.Linear.None,!0)},this)},activate:function(){this.onUse=!0,this.objMainGroup.visible=!0},deactivate:function(){null!=this.objMainGroup.parent&&this.objMainGroup.parent.remove(this.objMainGroup),this.onUse=!1,this.objMainGroup.visible=!1},destroy:function(){game.tweens.removeFrom(this.objDigit,!1),this.objDigit.destroy(),this.objDigit=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(scoredigit3.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(scoredigit3.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(scoredigit3.prototype,"group",{get:function(){return this.objMainGroup}}),scoredigit4=function(){this.objMainGroup=game.add.group(),this.objDigit=game.add.bitmapText(0,0,"fnt-score4","0",34),this.objMainGroup.add(this.objDigit),this.onUse=!1,this.deactivate()},scoredigit4.prototype={play:function(e,t,i,a){this.objMainGroup.visible=!0,a.add(this.objMainGroup),this.objDigit.text=i,this.objDigit.updateTransform(),this.objDigit.x=.5*-this.objDigit.textWidth,this.objMainGroup.x=e,this.objMainGroup.y=t+10,this.objMainGroup.alpha=.8,this.objMainGroup.scale.setTo(.2,.2),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1200,Phaser.Easing.Elastic.Out,!0).onComplete.add(this.deactivate,this),game.add.tween(this.objMainGroup).to({y:t-10,alpha:1},600,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objMainGroup).to({y:t-12,alpha:0},400,Phaser.Easing.Linear.None,!0)},this)},activate:function(){this.onUse=!0,this.objMainGroup.visible=!0},deactivate:function(){null!=this.objMainGroup.parent&&this.objMainGroup.parent.remove(this.objMainGroup),this.onUse=!1,this.objMainGroup.visible=!1},destroy:function(){game.tweens.removeFrom(this.objDigit,!1),this.objDigit.destroy(),this.objDigit=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(scoredigit4.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(scoredigit4.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(scoredigit4.prototype,"group",{get:function(){return this.objMainGroup}}),scoredigit5=function(){this.objMainGroup=game.add.group(),this.objDigit=game.add.bitmapText(0,0,"fnt-score5","0",34),this.objMainGroup.add(this.objDigit),this.onUse=!1,this.deactivate()},scoredigit5.prototype={play:function(e,t,i,a){this.objMainGroup.visible=!0,a.add(this.objMainGroup),this.objDigit.text=i,this.objDigit.updateTransform(),this.objDigit.x=.5*-this.objDigit.textWidth,this.objMainGroup.x=e,this.objMainGroup.y=t+10,this.objMainGroup.alpha=.8,this.objMainGroup.scale.setTo(.2,.2),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1200,Phaser.Easing.Elastic.Out,!0).onComplete.add(this.deactivate,this),game.add.tween(this.objMainGroup).to({y:t-10,alpha:1},600,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objMainGroup).to({y:t-12,alpha:0},400,Phaser.Easing.Linear.None,!0)},this)},activate:function(){this.onUse=!0,this.objMainGroup.visible=!0},deactivate:function(){null!=this.objMainGroup.parent&&this.objMainGroup.parent.remove(this.objMainGroup),this.onUse=!1,this.objMainGroup.visible=!1},destroy:function(){game.tweens.removeFrom(this.objDigit,!1),this.objDigit.destroy(),this.objDigit=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(scoredigit5.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(scoredigit5.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(scoredigit5.prototype,"group",{get:function(){return this.objMainGroup}}),scoredigit6=function(){this.objMainGroup=game.add.group(),this.objDigit=game.add.bitmapText(0,0,"fnt-score6","0",34),this.objMainGroup.add(this.objDigit),this.onUse=!1,this.deactivate()},scoredigit6.prototype={play:function(e,t,i,a){this.objMainGroup.visible=!0,a.add(this.objMainGroup),this.objDigit.text=i,this.objDigit.updateTransform(),this.objDigit.x=.5*-this.objDigit.textWidth,this.objMainGroup.x=e,this.objMainGroup.y=t+10,this.objMainGroup.alpha=.8,this.objMainGroup.scale.setTo(.2,.2),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1200,Phaser.Easing.Elastic.Out,!0).onComplete.add(this.deactivate,this),game.add.tween(this.objMainGroup).to({y:t-10,alpha:1},600,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objMainGroup).to({y:t-12,alpha:0},400,Phaser.Easing.Linear.None,!0)},this)},activate:function(){this.onUse=!0,this.objMainGroup.visible=!0},deactivate:function(){null!=this.objMainGroup.parent&&this.objMainGroup.parent.remove(this.objMainGroup),this.onUse=!1,this.objMainGroup.visible=!1},destroy:function(){game.tweens.removeFrom(this.objDigit,!1),this.objDigit.destroy(),this.objDigit=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null;
}},Object.defineProperty(scoredigit6.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(scoredigit6.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(scoredigit6.prototype,"group",{get:function(){return this.objMainGroup}}),stageselectmenuboard=function(e,t,i){this.objBlackScreen=game.add.sprite(0,0,"atlas-game1"),this.objBlackScreen.frameName="bg-black.png",this.objBlackScreen.scale.setTo(SCALED_WIDTH/4,SCALED_HEIGHT/4),this.objBlackScreen.visible=!1,e.add(this.objBlackScreen),this.objMainGroup=game.add.group(),e.add(this.objMainGroup),this.objCircle=game.add.sprite(20,-20,"atlas-game1"),this.objCircle.frameName="obj-circleout.png",this.objCircle.anchor.setTo(.5,.5),this.objMainGroup.add(this.objCircle),this.btnSound=objGameModule.createButton(100,-185,.5,.5,this.objMainGroup,"atlas-game1","btn-soundenabled.png","sounds",this.clickHandler,this),this.btnMenu=objGameModule.createButton(200,-80,.5,.5,this.objMainGroup,"atlas-game1","btn-exit.png","backToTitle",t,i),this.objMainGroup.visible=!1},stageselectmenuboard.prototype={show:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:.5},1e3,Phaser.Easing.Linear.None,!0),this.objMainGroup.visible=!0,this.objMainGroup.alpha=0,this.objMainGroup.scale.setTo(0,0),this.btnSound.alpha=0,this.btnSound.scale.setTo(0,0),this.btnSound.frameName=objGameSave.sound?"btn-soundenabled.png":"btn-sounddisabled.png",this.btnMenu.alpha=0,this.btnMenu.scale.setTo(0,0),game.add.tween(this.objMainGroup).to({alpha:1},300,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1e3,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob"),game.time.events.add(300,function(){game.add.tween(this.btnSound).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnSound.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(400,function(){game.add.tween(this.btnMenu).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnMenu.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this)},hide:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:0},400,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.objBlackScreen.inputEnabled=!1,this.objBlackScreen.visible=!1},this),game.add.tween(this.objMainGroup).to({alpha:0},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:0,y:0},400,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.objMainGroup.visible=!1},this)},clickHandler:function(){switch(objGameSave.sound){case!0:this.btnSound.frameName="btn-sounddisabled.png",objGameSave.sound=!1;break;case!1:this.btnSound.frameName="btn-soundenabled.png",objGameSave.sound=!0}setStorage(),objAudioHandler.resetVol()},destroy:function(){this.objBlackScreen.destroy(),this.objBlackScreen=null,this.objCircle.destroy(),this.objCircle=null,this.btnSound.destroy(),this.btnSound=null,this.btnMenu.destroy(),this.btnMenu=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(stageselectmenuboard.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(stageselectmenuboard.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(stageselectmenuboard.prototype,"width",{get:function(){return this.objMainGroup.width}}),Object.defineProperty(stageselectmenuboard.prototype,"height",{get:function(){return this.objMainGroup.height},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(stageselectmenuboard.prototype,"group",{get:function(){return this.objMainGroup}}),stageselector=function(e,t,i,a,o,s,r){var n,h;for(this.objMainGroup=game.add.group(),this.objMainGroup.x=i,this.objMainGroup.y=a,e.add(this.objMainGroup),this.objGroupSelector=game.add.group(),this.objMainGroup.add(this.objGroupSelector),

/*flag*/
/*this.objSelector=game.add.sprite(0,0,"atlas-game1"),this.objSelector.anchor.setTo(.5,.5),this.objSelector.frameName="obj-selector1.png",*/
this.objSelector=game.add.sprite(0,0,"atlas-all"),
this.objSelector.anchor.setTo(.5,.5),this.objSelector.frameName="obj-flag1.png",

this.objGroupSelector.add(this.objSelector),
/****/
this.arrStarCX=[[0],[-12,14],[-22,24,1]],this.arrStarCY=[[37],[32,32],[30,30,37]],this.arrStarAng=[[0],[-30,30],[-45,45,0]],

this.arrStarNormal=[],n=2;n>=0;n--)h=game.add.sprite(0,0,"atlas-game1"),h.frameName="obj-starnormal.png",h.scale.setTo(.8,.8),h.anchor.setTo(.5,.5),h.visible=!1,this.objMainGroup.add(h),this.arrStarNormal.push(h);this.arrStarShine=[];var l;for(n=2;n>=0;n--)l=game.add.sprite(0,0,"atlas-game1"),l.frameName="obj-starshine.png",l.scale.setTo(.8,.8),l.anchor.setTo(.5,.5),l.visible=!1,this.objMainGroup.add(l),this.arrStarShine.push(l);

//leveltext berlinsans4 look better than berlinsans5
this.txtLevel=game.add.bitmapText(0,0,"fnt-berlinsans4",(t+1).toString(),25),this.txtLevel.updateTransform(),this.txtLevel.x=.5*-this.txtLevel.textWidth,this.txtLevel.y=.5*-this.txtLevel.textHeight,this.objGroupSelector.add(this.txtLevel),this.delegateContext=r,this.delegateHandler=o,this.eventListener=s,this.fCurnStar=0,this.fCurnID=t},stageselector.prototype={locked:function(){this.fCurnStar=0,

/*flag*/
/*this.objSelector.frameName="obj-selector1.png",*/
this.objSelector.frameName="obj-flag-"+objGameModule.randomRangeInt(1,5)+".png",
this.objSelector.scale.setTo(1,1),
//leveltext new levels
this.txtLevel.y-=10,
this.txtLevel.visible=!0,this.objSelector.inputEnabled&&(this.objSelector.events.onInputDown.remove(this.clickHandler,this),this.objSelector.events.onInputUp.remove(this.releaseHandler,this),this.objSelector.inputEnabled=!1)},unlocked:function(e){

/*flag*/
/*this.objSelector.frameName="obj-selector2.png",*/
this.objSelector.frameName="obj-flag"+e+".png",
/*flag2*/
this.objSelector.scale.setTo(e==0?0.8:1.4,e==0?0.8:1.4),
//leveltext current level
this.txtLevel.y-=10,
this.txtLevel.visible=!0,this.objSelector.inputEnabled||(this.objSelector.inputEnabled=!0,this.objSelector.events.onInputDown.add(this.clickHandler,this),this.objSelector.events.onInputUp.add(this.releaseHandler,this))},makeGolden:function(){this.fCurnStar=3,

/*flag*/
/*this.objSelector.frameName="obj-selector3.png",*/
this.objSelector.frameName="obj-flag3.png",
/*flag2*/
this.objSelector.scale.setTo(1.2,1.2),
//leveltext passed levels
this.txtLevel.visible=!0,this.objSelector.inputEnabled||(this.objSelector.inputEnabled=!0,this.objSelector.events.onInputDown.add(this.clickHandler,this),this.objSelector.events.onInputUp.add(this.releaseHandler,this))},setStar:function(e,t){var i;switch(t){case!1:for(this.fCurnStar=e,i=0;3>i;i++)this.arrStarNormal[i].visible=!1,this.arrStarShine[i].visible=!1;for(i=0;e>i;i++)this.arrStarNormal[i].visible=!0,this.arrStarNormal[i].x=this.arrStarCX[e-1][i],this.arrStarNormal[i].y=this.arrStarCY[e-1][i],this.arrStarNormal[i].angle=this.arrStarAng[e-1][i];switch(e){case-1:this.locked();break;

/*flag*/
/*case 0:case 1:case 2:this.unlocked();break;*/
case 0:case 1:case 2:this.unlocked(e);break;

case 3:this.makeGolden()}break;case!0:switch(objAudioHandler.playSFX("SFX_Star2"),this.fCurnStar+=1,this.fCurnStar){case 1:this.arrStarShine[0].x=this.arrStarNormal[0].x=this.arrStarCX[this.fCurnStar-1][0],this.arrStarShine[0].y=this.arrStarNormal[0].y=this.arrStarCY[this.fCurnStar-1][0],this.arrStarShine[0].alpha=this.arrStarNormal[0].alpha=0,this.arrStarShine[0].visible=this.arrStarNormal[0].visible=!0,this.fCurnStar>=e&&this.eventListener.apply(this.delegateContext,["level-unlocked"]),game.add.tween(this.arrStarNormal[0]).to({alpha:1},400,Phaser.Easing.Linear.None,!0),game.add.tween(this.arrStarShine[0]).to({alpha:1},600,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.arrStarShine[0].visible=!1,this.fCurnStar<e&&this.setStar(e,!0)},this);break;case 2:game.add.tween(this.arrStarNormal[0]).to({x:this.arrStarCX[this.fCurnStar-1][0],y:this.arrStarCY[this.fCurnStar-1][0],angle:this.arrStarAng[this.fCurnStar-1][0]},300,Phaser.Easing.Linear.None,!0),this.arrStarShine[1].alpha=this.arrStarNormal[1].alpha=0,this.arrStarShine[1].x=this.arrStarNormal[1].x=this.arrStarCX[this.fCurnStar-1][1],this.arrStarShine[1].y=this.arrStarNormal[1].y=this.arrStarCY[this.fCurnStar-1][1],this.arrStarShine[1].angle=this.arrStarNormal[1].angle=this.arrStarAng[this.fCurnStar-1][1],this.arrStarShine[1].visible=this.arrStarNormal[1].visible=!0,this.fCurnStar>=e&&this.eventListener.apply(this.delegateContext,["level-unlocked"]),game.add.tween(this.arrStarNormal[1]).to({alpha:1},400,Phaser.Easing.Linear.None,!0),game.add.tween(this.arrStarShine[1]).to({alpha:1},600,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.arrStarShine[1].visible=!1,this.fCurnStar<e&&this.setStar(e,!0)},this);break;case 3:game.add.tween(this.arrStarNormal[0]).to({x:this.arrStarCX[this.fCurnStar-1][0],y:this.arrStarCY[this.fCurnStar-1][0],angle:this.arrStarAng[this.fCurnStar-1][0]},300,Phaser.Easing.Linear.None,!0),game.add.tween(this.arrStarNormal[1]).to({x:this.arrStarCX[this.fCurnStar-1][1],y:this.arrStarCY[this.fCurnStar-1][1],angle:this.arrStarAng[this.fCurnStar-1][1]},300,Phaser.Easing.Linear.None,!0),this.arrStarShine[2].alpha=this.arrStarNormal[2].alpha=0,this.arrStarShine[2].x=this.arrStarNormal[2].x=this.arrStarCX[this.fCurnStar-1][2],this.arrStarShine[2].y=this.arrStarNormal[2].y=this.arrStarCY[this.fCurnStar-1][2],this.arrStarShine[2].angle=this.arrStarNormal[2].angle=this.arrStarAng[this.fCurnStar-1][2],this.arrStarShine[2].visible=this.arrStarNormal[2].visible=!0,this.fCurnStar>=e&&this.eventListener.apply(this.delegateContext,["level-golden"]),game.add.tween(this.arrStarNormal[2]).to({alpha:1},400,Phaser.Easing.Linear.None,!0),game.add.tween(this.arrStarShine[2]).to({alpha:1},600,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.arrStarShine[2].visible=!1},this)}}},clickHandler:function(){this.objGroupSelector.scale.setTo(.9,.9),null!=this.delegateContext&&this.delegateHandler.apply(this.delegateContext,[this.fCurnID])},releaseHandler:function(){this.objGroupSelector.scale.setTo(1,1)},destroy:function(){var e;for(this.objSelector.destroy(),this.objSelector=null,e=0;e<this.arrStarNormal.length;e++)this.arrStarNormal[e].destroy(),this.arrStarNormal[e]=null;for(this.arrStarNormal=[],e=0;e<this.arrStarShine.length;e++)this.arrStarShine[e].destroy(),this.arrStarShine[e]=null;this.arrStarShine=[],this.txtLevel.destroy(),this.txtLevel=null,this.delegateContext=null,this.delegateHandler=null,this.eventListener=null,this.objGroupSelector.removeAll(),this.objGroupSelector.destroy(),this.objGroupSelector=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(stageselector.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(stageselector.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(stageselector.prototype,"group",{get:function(){return this.objMainGroup}}),tile=function(e,t,i,a,o,s,r){
this.objMainGroup=game.add.group(),this.objMainGroup.x=t,this.objMainGroup.y=i,e.add(this.objMainGroup),
this.objTile=game.add.sprite(0,0,"atlas-game1"),this.objTile.anchor.setTo(.5,.5),this.objTile.frameName="obj-tile"+a.toString()+".jpg",this.objTile.inputEnabled=!0,this.objTile.events.onInputDown.add(this.clickHandler,this),this.objTile.events.onInputUp.add(this.releaseHandler,this),this.objMainGroup.add(this.objTile),

/*jelly*/
this.objJelly=game.add.sprite(0,0,"atlas-color"),this.objJelly.frameName="obj-jellya.png",this.objJelly.anchor.setTo(.5,.5),this.objJelly.visible=!1,

/*jelly*/
this.objMainGroup.add(this.objJelly),

this.nRow=-1,this.nCol=-1,this.nPieceID=-1,this.nJellyType=0,this.hClick=o,this.hRelease=s,this.hContext=r},tile.prototype={clickHandler:function(){this.hClick.apply(this.hContext,[this.nRow,this.nCol])},releaseHandler:function(){this.hRelease.apply(this.hContext,[])},showJelly:function(e){switch(this.objJelly.visible=!0,this.nJellyType=e,this.nJellyType){case 0:this.hideJelly();break;

/*jelly*/
case 1:this.objJelly.frameName="obj-jellya.png";break;case 2:this.objJelly.frameName="obj-jellyb.png"}},

hideJelly:function(){this.objJelly.visible=!1},explodeJelly:function(){switch(this.nJellyType=this.nJellyType-1<0?0:this.nJellyType-1,this.nJellyType){case 0:this.hideJelly();break;

/*jelly*/
case 1:this.objJelly.frameName="obj-jellya.png";break;case 2:this.objJelly.frameName="obj-jellyb.png"}},

destroy:function(){this.objJelly.destroy(),this.objJelly=null,this.objTile.destroy(),this.objTile=null,this.hClick=null,this.hRelease=null,this.hContext=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(tile.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(tile.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(tile.prototype,"group",{get:function(){return this.objMainGroup}}),titlemenuboard=function(e,t,i){this.objBlackScreen=game.add.sprite(0,0,"atlas-game1"),this.objBlackScreen.frameName="bg-black.png",this.objBlackScreen.scale.setTo(SCALED_WIDTH/4,SCALED_HEIGHT/4),this.objBlackScreen.visible=!1,e.add(this.objBlackScreen),this.objMainGroup=game.add.group(),e.add(this.objMainGroup),this.objCircle=game.add.sprite(20,-20,"atlas-game1"),this.objCircle.frameName="obj-circleout.png",this.objCircle.anchor.setTo(.5,.5),this.objMainGroup.add(this.objCircle),this.btnSound=objGameModule.createButton(100,-185,.5,.5,this.objMainGroup,"atlas-game1","btn-soundenabled.png","sounds",this.clickHandler,this),this.btnCredits=objGameModule.createButton(200,-80,.5,.5,this.objMainGroup,"atlas-game1","btn-credits.png","showCredits",t,i),this.objMainGroup.visible=!1},titlemenuboard.prototype={show:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:.5},1e3,Phaser.Easing.Linear.None,!0),this.objMainGroup.visible=!0,this.objMainGroup.alpha=0,this.objMainGroup.scale.setTo(0,0),this.btnSound.alpha=0,this.btnSound.scale.setTo(0,0),this.btnSound.frameName=objGameSave.sound?"btn-soundenabled.png":"btn-sounddisabled.png",this.btnCredits.alpha=0,this.btnCredits.scale.setTo(0,0),game.add.tween(this.objMainGroup).to({alpha:1},300,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1e3,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob"),game.time.events.add(300,function(){game.add.tween(this.btnSound).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnSound.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(400,function(){game.add.tween(this.btnCredits).to({alpha:1},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.btnCredits.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this)},hide:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:0},400,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.objBlackScreen.inputEnabled=!1,this.objBlackScreen.visible=!1},this),game.add.tween(this.objMainGroup).to({alpha:0},200,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:0,y:0},400,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.objMainGroup.visible=!1},this)},clickHandler:function(){switch(objGameSave.sound){case!0:this.btnSound.frameName="btn-sounddisabled.png",objGameSave.sound=!1;break;case!1:this.btnSound.frameName="btn-soundenabled.png",objGameSave.sound=!0}setStorage(),objAudioHandler.resetVol()},destroy:function(){this.objBlackScreen.destroy(),this.objBlackScreen=null,this.objCircle.destroy(),this.objCircle=null,this.btnSound.destroy(),this.btnSound=null,this.btnCredits.destroy(),this.btnCredits=null,this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(titlemenuboard.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(titlemenuboard.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(titlemenuboard.prototype,"width",{get:function(){return this.objMainGroup.width}}),Object.defineProperty(titlemenuboard.prototype,"height",{get:function(){return this.objMainGroup.height},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(titlemenuboard.prototype,"group",{get:function(){return this.objMainGroup}}),winboard=function(e,t,i){var a;this.objBlackScreen=game.add.sprite(0,0,"atlas-game1"),this.objBlackScreen.frameName="bg-black.png",this.objBlackScreen.scale.setTo(SCALED_WIDTH/4,SCALED_HEIGHT/4),this.objBlackScreen.visible=!1,e.add(this.objBlackScreen),this.objMainGroup=game.add.group(),e.add(this.objMainGroup),this.objBoard=game.add.sprite(0,0,"atlas-game1"),this.objBoard.frameName="bg-board.png",this.objBoard.anchor.setTo(.5,.5),this.objMainGroup.add(this.objBoard),this.txtLevel=game.add.bitmapText(0,-195,"fnt-berlinsans4","Dummy Level",40),this.objMainGroup.add(this.txtLevel),

/*text*/
/*
this.btnRestart=objGameModule.createButton(-80,185,.5,.5,this.objMainGroup,"atlas-game1","btn-restart.png","restart",t,i),
*/
this.btnRestart=objGameModule.createButton(-80,185,.5,.5,this.objMainGroup,"atlas-game1","btn-restart2.png","restart",t,i),

this.btnNext=objGameModule.createButton(80,185,.5,.5,this.objMainGroup,"atlas-game1","btn-next.png","backToMainMenu",t,i),this.txtScoreTitle=game.add.sprite(0,-20,"atlas-localized"),this.txtScoreTitle.frameName="obj-scoretext.png",this.txtScoreTitle.scale.setTo(1.3,1.3),this.txtScoreTitle.anchor.setTo(.5,0),this.objMainGroup.add(this.txtScoreTitle),

/*text*/
/*
this.txtScoreValue=game.add.bitmapText(0,15,"fnt-berlinsans2","0",32),
*/
this.txtScoreValue=game.add.bitmapText(0,15,"fnt-berlinsans1","0",32),

this.txtScoreValue.updateTransform(),this.txtScoreValue.x=.5*-this.txtScoreValue.textWidth,

/*text*/
/*
this.txtScoreValue.tint=9055528,
*/

this.objMainGroup.add(this.txtScoreValue),this.objNewScore=game.add.sprite(.5*-this.txtScoreTitle.width,-40,"atlas-localized"),this.objNewScore.frameName="obj-newscore.png",this.objNewScore.anchor.setTo(.4,0),this.objNewScore.visible=!1,this.objMainGroup.add(this.objNewScore),

/*text*/
/*
this.txtHiScoreTitle=game.add.bitmapText(0,60,"fnt-berlinsans2",objGameModule.localizeText("HighScore"),28),this.txtHiScoreTitle.updateTransform(),this.txtHiScoreTitle.x=.5*-this.txtHiScoreTitle.textWidth,this.txtHiScoreTitle.tint=12078407,this.objMainGroup.add(this.txtHiScoreTitle),
*/
this.txtHiScoreTitle=game.add.text(0,70,objGameModule.localizeText("HighScore"),{font: "bold 30px Arial", fill: "brown", boundsAlignH: "center", boundsAlignV: "middle"}),
this.txtHiScoreTitle.anchor.set(0.5),
this.objMainGroup.add(this.txtHiScoreTitle),

this.txtHiScoreValue=game.add.bitmapText(0,85,"fnt-berlinsans2","0",30),this.txtHiScoreValue.updateTransform(),this.txtHiScoreValue.x=.5*-this.txtHiScoreValue.textWidth,this.txtHiScoreValue.tint=9055528,this.objMainGroup.add(this.txtHiScoreValue),this.arrStarFilled=[],this.arrEffect=[];var o,s;for(a=0;3>a;a++)s=game.add.sprite(OBJECTIVESTAR_POSITION[a][0],OBJECTIVESTAR_POSITION[a][1],"atlas-game1"),

/*text*/
/*
s.frameName="obj-shineeffect.png",
*/
s.frameName="obj-null.png",

s.anchor.setTo(.5,.5),s.angle=OBJECTIVESTAR_POSITION[a][2],s.scale.setTo(OBJECTIVESTAR_POSITION[a][3],OBJECTIVESTAR_POSITION[a][3]),s.visible=!1,this.objMainGroup.add(s),this.arrEffect.push(s);for(a=0;3>a;a++)o=game.add.sprite(OBJECTIVESTAR_POSITION[a][0],OBJECTIVESTAR_POSITION[a][1],"atlas-anim1"),o.anchor.setTo(.5,.5),o.animations.add("star"),o.angle=OBJECTIVESTAR_POSITION[a][2],o.scale.setTo(OBJECTIVESTAR_POSITION[a][3],OBJECTIVESTAR_POSITION[a][3]),this.objMainGroup.add(o),this.arrStarFilled.push(o);this.objMainGroup.visible=!1,this.nBestScore=0,this.nCurnScore=0,this.nTotalStar=0,this.nTargetScore=0},winboard.prototype={show:function(){this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,this.objBlackScreen.alpha=0,game.add.tween(this.objBlackScreen).to({alpha:.5},1e3,Phaser.Easing.Linear.None,!0),this.objMainGroup.visible=!0,this.objMainGroup.alpha=0,this.objMainGroup.scale.setTo(0,0),this.btnRestart.alpha=0,this.btnRestart.scale.setTo(0,0),this.btnNext.alpha=0,this.btnNext.scale.setTo(0,0),this.objMainGroup.visible=!0,this.objMainGroup.scale.setTo(.4,.4),game.add.tween(this.objMainGroup).to({alpha:1},300,Phaser.Easing.Linear.None,!0),game.add.tween(this.objMainGroup.scale).to({x:1,y:1},1e3,Phaser.Easing.Elastic.Out,!0),game.add.tween(this.btnRestart).to({alpha:1},200,Phaser.Easing.Linear.None,!0,300),

/*text*/
/*
game.add.tween(this.btnRestart.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0,300),
*/
game.add.tween(this.btnRestart.scale).to({x:1.1,y:1.1},800,Phaser.Easing.Elastic.Out,!0,300),

game.add.tween(this.btnNext).to({alpha:1},200,Phaser.Easing.Linear.None,!0,400),game.add.tween(this.btnNext.scale).to({x:1,y:1},800,Phaser.Easing.Elastic.Out,!0,400),game.time.events.add(500,function(){this.playStar(0)},this)},playStar:function(e){this.nTotalStar>e?(this.arrStarFilled[e].play("star",30),game.time.events.add(300,function(){objAudioHandler.playSFX("SFX_Star2")},this),game.time.events.add(600,function(){this.arrEffect[e].visible=!0,this.spinShineEffect(this.arrEffect[e]),this.playStar(++e)},this)):window.company.levelUp()},spinShineEffect:function(e){game.add.tween(e).to({angle:360},4e3,Phaser.Easing.Linear.None,!0).onComplete.add(this.spinShineEffect,this)},setLevel:function(e){this.txtLevel.text=objGameModule.localizeText("Level")+" "+(e+1).toString(),this.txtLevel.updateTransform(),this.txtLevel.x=.5*-this.txtLevel.textWidth},setScore:function(e,t,i){this.txtScoreValue.text=e.toString(),this.txtScoreValue.updateTransform(),this.txtScoreValue.x=.5*-this.txtScoreValue.textWidth,this.nCurnScore=e,objGameSave.bestScore[t]>e?this.nBestScore=objGameSave.bestScore[t]:(this.nBestScore=e

/*text*/
/*,this.objNewScore.visible=!0*/

),this.txtHiScoreValue.text=this.nBestScore,this.txtHiScoreValue.updateTransform(),this.txtHiScoreValue.x=.5*-this.txtScoreValue.textWidth,this.nTargetScore=objLevelData[t].score,this.nTotalStar=i},destroy:function(){var e;for(this.objBlackScreen.destroy(),this.objBlackScreen=null,this.objBoard.destroy(),this.objBoard=null,this.txtLevel.destroy(),this.txtLevel=null,this.btnRestart.destroy(),this.btnRestart=null,this.btnNext.destroy(),this.btnNext=null,this.txtScoreTitle.destroy(),this.txtScoreTitle=null,this.txtScoreValue.destroy(),this.txtScoreValue=null,this.objNewScore.destroy(),this.objNewScore=null,this.txtHiScoreTitle.destroy(),this.txtHiScoreTitle=null,this.txtHiScoreValue.destroy(),this.txtHiScoreValue=null,e=0;3>e;e++)game.tweens.removeFrom(this.arrEffect[e],!1),this.arrEffect[e].destroy(),this.arrEffect[e]=null;for(this.arrEffect=[],e=0;3>e;e++)this.arrStarFilled[e].destroy(),this.arrStarFilled[e]=null;this.arrStarFilled=[],this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Object.defineProperty(winboard.prototype,"x",{get:function(){return this.objMainGroup.x},set:function(e){this.objMainGroup.x=e}}),Object.defineProperty(winboard.prototype,"y",{get:function(){return this.objMainGroup.y},set:function(e){this.objMainGroup.y=e}}),Object.defineProperty(winboard.prototype,"group",{get:function(){return this.objMainGroup}});var Main={};Main.boot=function(){},Main.boot.prototype={preload:function(){

/*temp*/
/*game.stage.backgroundColor="#292D5D",*/
game.stage.backgroundColor="#FFFFFF",

/*flag*/
/*game.load.image("bg-title","assets/graphics/bg/bg-title.jpg"),*/
game.load.image("bg-title","assets/graphics/bg/bg-loading.jpg"),

game.load.atlas("atlas-preload","assets/graphics/obj/atlas-preload.png","assets/graphics/obj/atlas-preload.json"),game.load.json("text-localize","assets/text-localize.json"),game.device.desktop||(game.scale.forceOrientation(!1,!0),game.scale.enterIncorrectOrientation.add(this.enterIncorrectOrientation,this),game.scale.leaveIncorrectOrientation.add(this.leaveIncorrectOrientation,this)),game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,

/*shape*/
/*game.scale.setScreenSize(!0),*/

game.scale.parentIsWindow=!0,game.scale.pageAlignHorizontally=!0,game.scale.pageAlignVertically=!0,game.scale.refresh()},create:function(){game.state.start("Preloader")},enterIncorrectOrientation:function(){game.paused=!0,document.getElementById("orientation").style.display="block"},leaveIncorrectOrientation:function(){game.paused=!1,document.getElementById("orientation").style.display="none";var e=window.innerWidth,t=window.innerHeight,i=t/e;SCALED_WIDTH=REAL_WIDTH,SCALED_HEIGHT=i>=1?Math.ceil(REAL_WIDTH*i):REAL_HEIGHT,game.scale.setGameSize(SCALED_WIDTH,SCALED_HEIGHT)}},Main.game=function(){},Main.game.prototype={create:function(){this.objBGGroup=game.add.group(),this.objGameGroup=game.add.group(),this.objUIGroup=game.add.group(),objGameModule.callTransitionOut(null,null);

/*play1*/
/*
var e="bg-ingame1";18>=nGameLevel?e="bg-ingame1":42>=nGameLevel?e="bg-ingame2":83>=nGameLevel?e="bg-ingame3":100>=nGameLevel&&(e="bg-ingame4"),
*/
//bgInGame
e="bg"+objGameModule.randomRangeInt(1,9),

this.bgInGame=game.add.sprite(0,0,e),this.bgInGame.width=game.canvas.width,this.bgInGame.height=game.canvas.height,
this.objBGGroup.add(this.bgInGame),this.objGInfoBoard=new infoboard(this.objUIGroup),this.objGPlayBoard=new playboard(this.objGameGroup,this.doInfoUpdate,this),this.objGPlayBoard.init(nGameLevel);var t=SCALED_HEIGHT-240;t<=this.objGPlayBoard.height&&(t/=this.objGPlayBoard.height,this.objGPlayBoard.group.scale.setTo(t,t)),this.objGPauseBoard=new pauseboard(this.objUIGroup,this.clickHandler,this),this.objGPauseBoard.x=0,this.objGPauseBoard.y=SCALED_HEIGHT,this.btnMenu=objGameModule.createButton(0,0,0,1,this.objUIGroup,"atlas-game1","bg-black.png","pause",this.clickHandler,this),this.objGWinLoseBoard=null,this.objGFruitaCrush=null,this.objGHTP=null,this.objBlackScreen=game.add.sprite(0,0,"atlas-game1"),this.objBlackScreen.frameName="bg-black.png",this.objBlackScreen.scale.setTo(SCALED_WIDTH/4,SCALED_HEIGHT/4),this.objBlackScreen.visible=!1,this.objBlackScreen.alpha=.2,this.objUIGroup.add(this.objBlackScreen),this.nGameState=STATE_PLAY,this.nCurnScore=0,this.nCurnMove=0,this.nCurnTarget=0,this.nCurnLevel=0,this.nCurnObjective=[],this.start()},start:function(){

//jackpot
$("#jackpot").hide();

var e;for(this.objGPlayBoard.restart(),this.btnMenu.x=-this.btnMenu.width,this.btnMenu.y=SCALED_HEIGHT+this.btnMenu.height,this.objGInfoBoard.x=0,this.objGInfoBoard.y=-this.objGInfoBoard.height,this.objGPlayBoard.x=SCALED_WIDTH+this.objGPlayBoard.width,this.objGPlayBoard.y=140+.5*(SCALED_HEIGHT-240-this.objGPlayBoard.height),this.objBlackScreen.inputEnabled=!1,this.objBlackScreen.visible=!1,

//undo
//this.nCurnScore=0,this.nCurnMove=objLevelData[nGameLevel].move,
window.main=this,
this.nCurnScore=tiles.length>0?scores:0,this.nCurnMove=tiles.length>0?moves:objLevelData[nGameLevel].move,
tiles=[],pieces=[],

this.nCurnTarget=objLevelData[nGameLevel].score,this.nSavedScore=objGameSave.bestScore[nGameLevel],this.nCurnLevel=nGameLevel,this.nCurnObjective=[],e=0;e<objLevelData[nGameLevel].target.length;e++)this.nCurnObjective.push(0);this.objGInfoBoard.reset(this.nCurnMove,this.nCurnTarget,this.nSavedScore),this.objGPauseBoard.group.visible=!1,null!=this.objGWinLoseBoard&&(this.objGWinLoseBoard.destroy(),this.objGWinLoseBoard=null),this.nGameState=STATE_PLAY,game.tweens.resumeAll();var t=(SCALED_HEIGHT-60)/REAL_HEIGHT;

//undo
this.objGInfoBoard.setScoreGained(this.nCurnScore);

/*temp*/
/*switch(*/

this.objGPlayBoard.group.scale.setTo(t,t),game.add.tween(this.objGInfoBoard).to({y:-2},400,Phaser.Easing.Quadratic.Out,!0),game.add.tween(this.objGPlayBoard.group).to({x:3+.5*(SCALED_WIDTH-objLevelData[nGameLevel].design[0].length*TILE_WIDTH*t)},700,Phaser.Easing.Quadratic.Out,!0,100),game.add.tween(this.btnMenu).to({x:-2,y:SCALED_HEIGHT+10},600,Phaser.Easing.Quadratic.Out,!0,400),

/*temp*/
/*nGameLevel){case 0:case 2:case 5:case 10:case 21:case 40:case 46:*/
nGameLevel<=6&&(

null==this.objGHTP&&(this.objGHTP=new htpboard(this.objUIGroup,this.clickHandler,this),this.objGHTP.group.x=.5*SCALED_WIDTH,this.objGHTP.group.y=.5*SCALED_HEIGHT,this.objGHTP.visible=!1),game.time.events.add(800,function(){this.objGHTP.onGameTutorial()},this)

/*temp*/
/*}*/
);

objAudioHandler.isBGMPlaying()||(objAudioHandler.playBGM("BGM_ingame",!0),objAudioHandler.fadeInBGM())},update:function(){switch(this.nGameState){case STATE_PLAY:this.objGPlayBoard.update();break;case STATE_PAUSE:break;case STATE_WAIT:}},resumeHandler:function(){this.nGameState=STATE_WAIT,game.tweens.resumeAll(),game.time.events.add(400,function(){this.nGameState=STATE_PLAY},this),this.objGPauseBoard.hide()},pauseHandler:function(){this.nGameState=STATE_PAUSE,game.tweens.pauseAll(),this.objGPauseBoard.show()},

loseHandler:function(e){

//idle
window.idle=window.eidle=0;

//undo
tiles=[],pieces=[];

window.company.gameOver(),this.nGameState=STATE_WAIT,null!=this.objGWinLoseBoard&&(this.objGWinLoseBoard.destroy(),this.objGWinLoseBoard=null),this.objGWinLoseBoard=new loseboard(this.objUIGroup,this.clickHandler,this),this.objGWinLoseBoard.setTarget(this.nCurnTarget),this.objGWinLoseBoard.setScore(this.nCurnScore),this.objGWinLoseBoard.setLevel(this.nCurnLevel),this.objGWinLoseBoard.setObjective(this.nCurnObjective,e),this.objGWinLoseBoard.show(),objAudioHandler.playBGM("BGM_lose",!1)},

winHandler:function(){

//undo
tiles=[],pieces=[];

this.nGameState=STATE_WAIT,null!=this.objGWinLoseBoard&&(this.objGWinLoseBoard.destroy(),this.objGWinLoseBoard=null),this.objGWinLoseBoard=new winboard(this.objUIGroup,this.clickHandler,this),this.objGWinLoseBoard.group.x=.5*SCALED_WIDTH,this.objGWinLoseBoard.group.y=.5*SCALED_HEIGHT,this.objGWinLoseBoard.visible=!1,this.objGWinLoseBoard.setLevel(this.nCurnLevel),this.objGWinLoseBoard.setScore(this.nCurnScore,this.nCurnLevel,this.objGInfoBoard.nStarShined),this.objGWinLoseBoard.show(),this.objGInfoBoard.nStarShined>objGameSave.lvStats[this.nCurnLevel]&&(objGameSave.lvStats[this.nCurnLevel]=this.objGInfoBoard.nStarShined,nGameLevel+1<objGameSave.lvStats.length&&-1==objGameSave.lvStats[nGameLevel+1]&&(objGameSave.lvStats[nGameLevel+1]=0)),this.nCurnScore>objGameSave.bestScore[this.nCurnLevel]&&(objGameSave.bestScore[this.nCurnLevel]=this.nCurnScore),window.company.submitHighscore("",(nGameLevel+1)*this.nCurnScore),setStorage()},htpHandler:function(){null==this.objGHTP&&(this.objGHTP=new htpboard(this.objUIGroup,this.clickHandler,this),this.objGHTP.group.x=.5*SCALED_WIDTH,this.objGHTP.group.y=.5*SCALED_HEIGHT,this.objGHTP.visible=!1),this.objGHTP.show(0)},clickHandler:function(e){switch(e.name){case"pause":switch(this.nGameState){case STATE_PLAY:this.pauseHandler();break;case STATE_PAUSE:this.resumeHandler()}break;case"restart":this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,objAudioHandler.fadeOutBGM(!0),objGameModule.callTransitionIn(function(){game.state.start("Game")},this);break;case"showHTP":this.htpHandler();break;case"closeHTP":this.objGHTP.hide(),game.time.events.add(2e3,function(){this.objGHTP.destroy(),this.objGHTP=null},this);break;case"backToMainMenu":this.objBlackScreen.inputEnabled=!0,this.objBlackScreen.visible=!0,objAudioHandler.fadeOutBGM(!0),objGameModule.callTransitionIn(function(){game.state.start("StageSelect")},this)}},doInfoUpdate:function(e,t){switch(e){case EVT_ADDSCORE:this.nCurnScore+=t[0],this.objGInfoBoard.setScoreGained(this.nCurnScore);break;

case EVT_REDUCEMOVE:

//idle
if(window.idle!=0)window.idle=new Date().getTime();
if(window.eidle!=0)window.eidle=new Date().getTime();

this.nCurnMove-=1,this.objGInfoBoard.setMoveLeft(this.nCurnMove);break;case EVT_CHECKLOSE:this.nCurnMove<=0&&this.loseHandler(t[0]);break;

case EVT_WIN_START:

//idle
window.idle=window.eidle=0;

var i=!1;i=!0,i&&(this.objGPlayBoard.checkIsFruitaCrushCanBeDone()||this.nCurnMove>0?(this.objGPlayBoard.nInputState=INPUT_LOCKED,objAudioHandler.playSFX("SFX_Clap"),null==this.objGFruitaCrush&&(this.objGFruitaCrush=new fruitacrushanim,this.objGFruitaCrush.play(.5*SCALED_WIDTH,.4*SCALED_HEIGHT,this.objUIGroup)),game.add.tween(this.objGameGroup).to({},1200,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.objGPlayBoard.fruitaCrush(this.nCurnMove)},this)):this.winHandler());break;case EVT_WIN_END:game.time.events.add(400,function(){this.winHandler()},this)}},shutdown:function(){this.bgInGame.destroy(),this.bgInGame=null,this.objGInfoBoard.destroy(),this.objGInfoBoard=null,this.objGPlayBoard.destroy(),this.objGPlayBoard=null,this.objGPauseBoard.destroy(),this.objGPauseBoard=null,this.btnMenu.destroy(),this.btnMenu=null,null!=this.objGWinLoseBoard&&(this.objGWinLoseBoard.destroy(),this.objGWinLoseBoard=null),null!=this.objGFruitaCrush&&(this.objGFruitaCrush.destroy(),this.objGFruitaCrush=null),null!=this.objGHTP&&(this.objGHTP.destroy(),this.objGHTP=null),this.objBlackScreen.destroy(),this.objBlackScreen=null,this.nCurnObjective=[],this.objBGGroup.removeAll(),this.objBGGroup.destroy(),this.objBGGroup=null,this.objGameGroup.removeAll(),this.objGameGroup.destroy(),this.objGameGroup=null,this.objUIGroup.removeAll(),this.objUIGroup.destroy(),this.objUIGroup=null,objGameModule.destroyAllButtons()}},Main.preloader=function(){this.ready=!1},Main.preloader.prototype={preload:function(){this.objMainGroup=game.add.group(),this.objPreloadBG=game.add.sprite(0,0,"bg-title"),this.objMainGroup.add(this.objPreloadBG),this.objPreloadBBack=game.add.sprite(0,.7*SCALED_HEIGHT,"atlas-preload"),this.objPreloadBBack.frameName="obj-preloadbback.png",this.objPreloadBBack.x=.5*SCALED_WIDTH-.5*this.objPreloadBBack.width,
this.objMainGroup.add(this.objPreloadBBack),this.objPreloadBFill=game.add.sprite(0,.7*SCALED_HEIGHT,"atlas-preload"),this.objPreloadBFill.frameName="obj-preloadbfill.png",this.objPreloadBFill.x=.5*SCALED_WIDTH-.5*this.objPreloadBFill.width,this.objMainGroup.add(this.objPreloadBFill),this.objPreloadBBorder=game.add.sprite(0,.7*SCALED_HEIGHT,"atlas-preload"),this.objPreloadBBorder.frameName="obj-preloadbborder.png",this.objPreloadBBorder.x=.5*SCALED_WIDTH-.5*this.objPreloadBBorder.width,this.objMainGroup.add(this.objPreloadBBorder),this.objPreloadPerc=game.add.text(.5*SCALED_WIDTH,.9125*SCALED_HEIGHT,"0 %"),this.objPreloadPerc.anchor.setTo(.5,.5),this.objPreloadPerc.fill="#FFFFFF",this.objPreloadPerc.font="Arial",this.objPreloadPerc.stroke="#000000",this.objPreloadPerc.strokeThickness=8,this.objMainGroup.add(this.objPreloadPerc),this.load.setPreloadSprite(this.objPreloadBFill),this.load.onFileComplete.add(this.loading,this),
game.load.atlas("atlas-game1","assets/graphics/obj/atlas-game1.png","assets/graphics/obj/atlas-game1.json"),

/*flag*/
game.load.atlas("atlas-all","_images/atlas-all.png","_images/atlas-all.json"),

/*piece*/
game.load.atlas("atlas-piece","_images/atlas-piece.png","_images/atlas-piece.json"),

/*plank*/
game.load.atlas("atlas-color","_images/atlas-color.png","_images/atlas-color.json"),

game.load.atlas("atlas-anim1","assets/graphics/obj/atlas-anim1.png","assets/graphics/obj/atlas-anim1.json"),game.load.atlas("atlas-particle1","assets/graphics/obj/atlas-particle1a.png","assets/graphics/obj/atlas-particle1a.json"),game.load.atlas("atlas-particle1b","assets/graphics/obj/atlas-particle1b.png","assets/graphics/obj/atlas-particle1b.json"),game.load.atlas("atlas-localized",window.company.__("assets/graphics/obj/atlas-localized.png"),"assets/graphics/obj/atlas-localized.json"),game.load.atlas("atlas-tutorial","assets/graphics/obj/atlas-tutorial.png","assets/graphics/obj/atlas-tutorial.json"),game.load.bitmapFont("fnt-arial1","assets/fonts/fnt-arial1.png","assets/fonts/fnt-arial1.xml"),game.load.bitmapFont("fnt-berlinsans1","assets/fonts/fnt-berlinsans1.png","assets/fonts/fnt-berlinsans1.xml"),game.load.bitmapFont("fnt-berlinsans2","assets/fonts/fnt-berlinsans2.png","assets/fonts/fnt-berlinsans2.xml"),game.load.bitmapFont("fnt-berlinsans4","assets/fonts/fnt-berlinsans4.png","assets/fonts/fnt-berlinsans4.xml"),game.load.bitmapFont("fnt-berlinsans5","assets/fonts/fnt-berlinsans5.png","assets/fonts/fnt-berlinsans5.xml"),game.load.bitmapFont("fnt-score1","assets/fonts/fnt-score1.png","assets/fonts/fnt-score1.xml"),game.load.bitmapFont("fnt-score2","assets/fonts/fnt-score2.png","assets/fonts/fnt-score2.xml"),game.load.bitmapFont("fnt-score3","assets/fonts/fnt-score3.png","assets/fonts/fnt-score3.xml"),game.load.bitmapFont("fnt-score4","assets/fonts/fnt-score4.png","assets/fonts/fnt-score4.xml"),game.load.bitmapFont("fnt-score5","assets/fonts/fnt-score5.png","assets/fonts/fnt-score5.xml"),game.load.bitmapFont("fnt-score6","assets/fonts/fnt-score6.png","assets/fonts/fnt-score6.xml"),game.load.bitmapFont("fnt-franklingothic1","assets/fonts/fnt-franklingothic1.png","assets/fonts/fnt-franklingothic1.xml"),game.load.audio("BGM",["assets/sounds/BGM/BGM.ogg","assets/sounds/BGM/BGM.m4a"]),game.load.audio("SFX",["assets/sounds/SFX/SFX.ogg","assets/sounds/SFX/SFX.m4a"])

/*play1*/
/*
,game.load.image("bg-ingame1","assets/graphics/bg/bg-ingame1.jpg"),game.load.image("bg-ingame2","assets/graphics/bg/bg-ingame2.jpg"),game.load.image("bg-ingame3","assets/graphics/bg/bg-ingame3.jpg"),game.load.image("bg-ingame4","assets/graphics/bg/bg-ingame4.jpg"),
*/
;for(var z=1;z<10;z++)game.load.image("bg"+z,"bg"+z+".jpg");

/***/
/*game.load.image("bg-stageselect1","assets/graphics/bg/bg-stageselect1.jpg"),game.load.image("bg-stageselect2","assets/graphics/bg/bg-stageselect2.jpg"),*/

/*flag*/
/*game.load.image("bg-stageselect3","_images/flag-world-map.jpg"),*/
game.load.image("bg-stageselect3","_images/bg-select.jpg"),

game.load.image("btn-moregames",window.company.getMoreGamesButtonImage())},loading:function(e){this.objPreloadPerc.text=100>e?e.toString()+" %":objGameModule.localizeText("preparing")+"..."},update:function(){game.cache.isSoundDecoded("BGM")&&game.cache.isSoundDecoded("SFX")&&!this.ready&&(this.ready=!0,

//sound
$("#load").hide(),
/*game.device.iOS?(*/this.objPreloadPerc.text=objGameModule.localizeText("tap to continue")+"...",game.input.onDown.add(this.start,this)/*):this.start()*/)},

//off globe animation
//sound
start:function(){
$("#globe").hide();toAnimate.forEach(stopanimate);game.stage.backgroundColor=5488081;
game.sound.context.resume();

objAudioHandler=new audiohandler,objAudioHandler.resetVol(),objGameModule.callTransitionIn(function(){game.state.start("StageSelect")},this)},create:function(){if(objGameStorage=getStorage(),objGameSave=JSON.parse(objGameStorage.getItem(GAME_VERSION)),objStageSelectLvStats=[],null==objGameSave)objGameSave={lvStats:[0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],bestScore:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],sound:!0},setStorage(),objStageSelectLvStats=objGameSave.lvStats;else{ if(objGameSave.lvStats.length==150)objGameSave.lvStats=objGameSave.lvStats.concat([(objGameSave.lvStats.indexOf(0)==-1?0:-1),-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),objGameSave.bestScore=objGameSave.bestScore.concat([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]); if(objGameSave.lvStats.length==200)objGameSave.lvStats=objGameSave.lvStats.concat([(objGameSave.lvStats.indexOf(0)==-1?0:-1),-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),objGameSave.bestScore=objGameSave.bestScore.concat([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]); for(var e=0;e<objGameSave.lvStats.length;e++)objStageSelectLvStats.push(objGameSave.lvStats[e])}},shutdown:function(){game.input.onDown.removeAll(),this.objPreloadBG.destroy(),this.objPreloadBG=null,this.objPreloadBBack.destroy(),this.objPreloadBBack=null,this.objPreloadBFill.destroy(),this.objPreloadBFill=null,this.objPreloadBBorder.destroy(),this.objPreloadBBorder=null,this.objPreloadPerc.destroy(),this.objPreloadPerc=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Main.stageselect=function(){},
/***/
Main.stageselect.prototype={create:function(){var e,t;
/****/
/*this.cl=0;*/

//stage callback
stage_callback();

for(this.objMainGroup=game.add.group(),this.objBGGroup=game.add.group(),this.objMainGroup.add(this.objBGGroup),this.objUIGroup=game.add.group(),this.objMainGroup.add(this.objUIGroup),this.onBGDrag=!1,

this.nMaxBoundX=0,this.nMinBoundX=-(924+(480-SCALED_WIDTH)),this.nCurrentBound=0,this.nStartX=0,this.fEnableInteract=!0,this.nCurnLevel=0,

/*this.objStageSelectBG1=game.add.sprite(960,0,"bg-stageselect1"),this.objStageSelectBG1.inputEnabled=!0,this.objStageSelectBG1.events.onInputDown.add(this.clickHandler,this),this.objStageSelectBG1.events.onInputUp.add(this.releaseHandler,this),this.objBGGroup.add(this.objStageSelectBG1),this.objStageSelectBG2=game.add.sprite(480,0,"bg-stageselect2"),this.objStageSelectBG2.inputEnabled=!0,this.objStageSelectBG2.events.onInputDown.add(this.clickHandler,this),this.objStageSelectBG2.events.onInputUp.add(this.releaseHandler,this),this.objBGGroup.add(this.objStageSelectBG2),*/
this.objStageSelectBG3=game.add.sprite(0,0,"bg-stageselect3"),

this.objStageSelectBG3.inputEnabled=!0,this.objStageSelectBG3.events.onInputDown.add(this.clickHandler,this),this.objStageSelectBG3.events.onInputUp.add(this.releaseHandler,this),this.objBGGroup.add(this.objStageSelectBG3),this.arrStageSelector=[],e=0;TOTAL_LEVEL>e;e++)
/****/
/*objStageSelectLvStats[e]==0&&console.log("level="+(this.cl=e)),*/

t=new stageselector(this.objBGGroup,e,STAGESELECT_POSITION[e][0],STAGESELECT_POSITION[e][1],this.levelSelect,this.levelCall,this),t.group.scale.setTo(.75,.75),t.setStar(objStageSelectLvStats[e],!1),this.arrStageSelector.push(t);this.objStageUpdater=game.add.sprite(0,0,"atlas-game1"),this.objStageUpdater.frameName="obj-stageunlockeffect.png",this.objStageUpdater.scale.setTo(.75,.75),this.objStageUpdater.anchor.setTo(.5,.5),this.objStageUpdater.alpha=0,this.objBGGroup.add(this.objStageUpdater),
/****/
this.objStageArrow=game.add.sprite(0,0,"atlas-game1"),

/*piece*/
/*this.objStageArrow.frameName="obj-stagearrow.png",*/
this.objStageArrow.frameName="bg-black.png",this.objStageArrow.visible=!1,

this.objStageArrow.anchor.setTo(.5,1),/*this.objBGGroup.add(this.objStageArrow),*/this.playArrow(),

this.objGMenuBoard=new stageselectmenuboard(this.objUIGroup,this.clickHandler,this),this.objGMenuBoard.x=0,this.objGMenuBoard.y=SCALED_HEIGHT,this.btnBackToTitle=objGameModule.createButton(0,0,0,1,this.objUIGroup,"atlas-game1","bg-black.png","menuHandler",this.clickHandler,this),this.objGObjective=new objectiveboard(this.objUIGroup,this.clickHandler,this),this.objGObjective.group.x=.5*SCALED_WIDTH,this.objGObjective.group.y=.5*SCALED_HEIGHT,this.objGObjective.visible=!1,this.start()},
/**/
start:function(){

//undo
window.tiles=[],window.pieces=[],window.chocos=[];

/*crush*/
piecex="c";
/*temp*/
piecex=defpiecex;

var e,t;for(e=0;e<objStageSelectLvStats.length&&-1!=objStageSelectLvStats[e];e++)this.nCurnLevel=e;for(t=!1,this.nDragCounter=0,this.nDragStartX=this.nDragEndX=this.objBGGroup.x,e=0;e<objStageSelectLvStats.length;e++)if(objStageSelectLvStats[e]!=objGameSave.lvStats[e]){t=!0,objStageSelectLvStats[e]=objGameSave.lvStats[e];break}this.objBGGroup.x=0,this.objBGGroup.y=0,this.objStageArrow.x=STAGESELECT_POSITION[this.nCurnLevel][0]+2,this.objStageArrow.y=STAGESELECT_POSITION[this.nCurnLevel][1]-40,
this.btnBackToTitle.x=-this.btnBackToTitle.width,this.btnBackToTitle.y=SCALED_HEIGHT+this.btnBackToTitle.height,t?

/*select1*/
this.autoPageFocus(STAGESELECT_POSITION[e][0],e):this.autoPageFocus(STAGESELECT_POSITION[this.nCurnLevel][0],-1),

game.add.tween(this.btnBackToTitle).to({x:-2,y:SCALED_HEIGHT+10},600,Phaser.Easing.Quadratic.Out,!0,1200),objAudioHandler.isBGMPlaying()||(objAudioHandler.playBGM("BGM_mainmenu",!0),objAudioHandler.fadeInBGM())

/*tutor*/
;nGameLevel==0&&(this.objGHTP=new htpboard(this.objUIGroup,this.clicker,this),this.objGHTP.group.x=.5*SCALED_WIDTH,this.objGHTP.group.y=.5*SCALED_HEIGHT,this.objGHTP.visible=!0,this.objGHTP.onShow=!0,this.objGHTP.show(11))
},
clicker:function(e){
/*this.objGHTP.hide(),game.time.events.add(2e3,function(){this.objGHTP.destroy(),this.objGHTP=null},this)*/
this.objGHTP.destroy(),this.objGHTP=null
},

/**/
update:function(){this.fEnableInteract&&this.onBGDrag&&(game.tweens.removeFrom(this.objBGGroup),this.nCurrentBound=game.input.x-this.nStartX,this.nCurrentBound>this.nMaxBoundX&&(this.nCurrentBound=this.nMaxBoundX),this.nCurrentBound<this.nMinBoundX&&(this.nCurrentBound=this.nMinBoundX),
this.objBGGroup.x=this.nCurrentBound,++this.nDragCounter>100?(this.nDragStartX=this.nDragEndX=this.objBGGroup.x,this.nDragCounter=0):this.nDragEndX=this.objBGGroup.x)},

/****/
playArrow:function(){

/*fix*/
this.nCurnLevel<TOTAL_LEVEL&&

game.add.tween(this.arrStageSelector[/*this.cl*/this.nCurnLevel].objSelector.scale).to({x:1.3,y:1.3},500,Phaser.Easing.Linear.None,!0,0,!0,!0).onComplete.add(this.playArrow,this)},

/**/
clickHandler:function(e){switch(e.name){case"backToTitle":objGameModule.callTransitionIn(function(){game.state.start("StageSelect")},this);break;case"play":nGameLevel=this.objGObjective.nSelectedLevel,objAudioHandler.fadeOutBGM(!0),objGameModule.callTransitionIn(function(){game.state.start("Game")},this);break;case"hideObjective":this.objGObjective.hide();break;case"menuHandler":this.objGMenuBoard.group.visible?this.objGMenuBoard.hide():this.objGMenuBoard.show();break;default:if(!this.fEnableInteract)return;this.onBGDrag=!0,game.tweens.removeFrom(this.objBGGroup),this.nStartX=-this.objBGGroup.x+game.input.x}},

levelSelect:function(e){this.fEnableInteract&&(objAudioHandler.playSFX("SFX_Click1"),this.objGObjective.show(e))},levelFinished:function(e,t){this.fEnableInteract=!1,

/*fix*/
cl=-1,bgg=this.objBGGroup,tt=setInterval(this.autoPageFocus2,1000),

/*flag2*/
this.arrStageSelector[t].unlocked(e),

this.arrStageSelector[t].setStar(e,!0)},levelCall:function(e){

/*select1*/
cl=-1;

switch(e){case"level-unlocked":this.nCurnLevel==nGameLevel&&this.nCurnLevel<TOTAL_LEVEL-1?(this.nCurnLevel+=1,objStageSelectLvStats[this.nCurnLevel]=0,this.objStageUpdater.x=STAGESELECT_POSITION[this.nCurnLevel][0],this.objStageUpdater.y=STAGESELECT_POSITION[this.nCurnLevel][1]-16,game.add.tween(this.objStageUpdater).to({alpha:1},450,Phaser.Easing.Linear.None,!0).onComplete.add(function(){game.add.tween(this.objStageArrow).to({x:STAGESELECT_POSITION[this.nCurnLevel][0]+2,y:STAGESELECT_POSITION[this.nCurnLevel][1]-40},300,Phaser.Easing.Linear.None,!0).onComplete.add(function(){

/*select1*/
cl=this.nCurnLevel,

this.fEnableInteract=!0},this),

/*flag*/
/*this.arrStageSelector[this.nCurnLevel].unlocked(),*/
this.arrStageSelector[this.nCurnLevel].unlocked(objStageSelectLvStats[this.nCurnLevel]),

game.add.tween(this.objStageUpdater).to({alpha:0},300,Phaser.Easing.Linear.None,!0,100)},this)):

/*select1*/
/*
this.fEnableInteract=!0;
*/
(cl=this.nCurnLevel,this.fEnableInteract=!0);

break;case"level-golden":this.objStageUpdater.x=STAGESELECT_POSITION[this.nCurnLevel][0],this.objStageUpdater.y=STAGESELECT_POSITION[this.nCurnLevel][1]-16,game.add.tween(this.objStageUpdater).to({alpha:1},450,Phaser.Easing.Linear.None,!0).onComplete.add(function(){objAudioHandler.playSFX("SFX_Clap"),this.arrStageSelector[nGameLevel].makeGolden(),game.add.tween(this.objStageUpdater).to({alpha:0},300,Phaser.Easing.Linear.None,!0,50).onComplete.add(function(){this.levelCall("level-unlocked")

/*select1*/
/*fix*/
/*,bgg=this.objBGGroup,tt=setInterval(this.autoPageFocus2,1000)*/

},this)},this)}},

/**/
autoPageFocus:function(e,t){
/*fix*/
minx=this.nMinBoundX,maxx=this.nMaxBoundX;

switch(this.nCurrentBound=.5*SCALED_WIDTH-e,-(e+SCALED_WIDTH)>this.nMinBoundX+50?this.objBGGroup.x=-(e+SCALED_WIDTH):-(e-2*SCALED_WIDTH)<this.nMaxBoundX+50&&(this.objBGGroup.x=-(e-2*SCALED_WIDTH)),this.nCurrentBound>this.nMaxBoundX-50?this.nCurrentBound=this.nMaxBoundX-50:this.nCurrentBound<this.nMinBoundX+50&&(this.nCurrentBound=this.nMinBoundX+50),this.nDragStartX=this.nDragEndX=this.nCurrentBound,game.tweens.removeFrom(this.objBGGroup),t){case-1:game.add.tween(this.objBGGroup).to({x:this.nCurrentBound},1400,Phaser.Easing.Quadratic.Out,!0);break;default:game.add.tween(this.objBGGroup).to({x:this.nCurrentBound},1400,Phaser.Easing.Quadratic.Out,!0).onComplete.addOnce(function(){this.levelFinished(objGameSave.lvStats[t],t)},this)}},

/*select1*/
autoPageFocus2:function(e){
if(cl==-1)return;
clearInterval(tt),
/*fix*/
e=STAGESELECT_POSITION[cl][0],
this.nCurrentBound=.5*SCALED_WIDTH-e,/*-(e+SCALED_WIDTH)>minx+50?bgg.x=-(e+SCALED_WIDTH):-(e-2*SCALED_WIDTH)<maxx+50&&(bgg.x=-(e-2*SCALED_WIDTH)),*/this.nCurrentBound>maxx-50?this.nCurrentBound=maxx-50:this.nCurrentBound<minx+50&&(this.nCurrentBound=minx+50),this.nDragStartX=this.nDragEndX=this.nCurrentBound,game.tweens.removeFrom(bgg),game.add.tween(bgg).to({x:this.nCurrentBound},1400,Phaser.Easing.Quadratic.Out,!0)},


/**/
releaseHandler:function(){if(this.onBGDrag){var e=this.nDragEndX-this.nDragStartX,t=e/this.nDragCounter*10;t>200&&(t=200),-200>t&&(t=-200),game.tweens.removeFrom(this.objBGGroup),this.nCurrentBound+=Math.round(t),this.nCurrentBound>this.nMaxBoundX-50?game.add.tween(this.objBGGroup).to({x:this.nMaxBoundX-50},300,Phaser.Easing.Quadratic.Out,!0):this.nCurrentBound<this.nMinBoundX+50?game.add.tween(this.objBGGroup).to({x:this.nMinBoundX+50},300,Phaser.Easing.Quadratic.Out,!0):game.add.tween(this.objBGGroup).to({x:this.objBGGroup.x+t},300,Phaser.Easing.Quadratic.Out,!0),this.onBGDrag=!1,this.nDragCounter=0,this.nDragStartX=this.nDragEndX=this.objBGGroup.x}},
/***/
shutdown:function(){var e;for(game.tweens.removeAll(),
/*this.objStageSelectBG1.destroy(),this.objStageSelectBG1=null,this.objStageSelectBG2.destroy(),this.objStageSelectBG2=null,*/
this.objStageSelectBG3.destroy(),this.objStageSelectBG3=null
,e=0;TOTAL_LEVEL>e;e++)this.arrStageSelector[e].destroy(),this.arrStageSelector[e]=null;this.arrStageSelector=[],this.objStageUpdater.destroy(),this.objStageUpdater=null,this.objStageArrow.destroy(),this.objStageArrow=null,this.objGMenuBoard.destroy(),this.objGMenuBoard=null,this.btnBackToTitle.destroy(),this.btnBackToTitle=null,this.objGObjective.destroy(),this.objGObjective=null,this.objBGGroup.removeAll(),this.objBGGroup.destroy(),this.objBGGroup=null,this.objUIGroup.removeAll(),this.objUIGroup.destroy(),this.objUIGroup=null,this.objMainGroup.removeAll(),this.objMainGroup.destroy(),this.objMainGroup=null}},Main.title=function(){},Main.title.prototype={create:function(){this.objBGGroup=game.add.group(),this.objUIGroup=game.add.group(),objGameModule.callTransitionOut(null,null),this.bgTitle=game.add.sprite(0,0,"bg-title"),this.objBGGroup.add(this.bgTitle),this.objTitle2=game.add.sprite(0,0,"atlas-game1"),this.objTitle2.frameName="obj-title2.png",this.objTitle2.anchor.setTo(.5,.5),this.objTitle2.x=.38*SCALED_WIDTH+20,this.objTitle2.y=.15*SCALED_HEIGHT+110,this.objUIGroup.add(this.objTitle2),this.objTitle3=game.add.sprite(0,0,"atlas-game1"),this.objTitle3.frameName="obj-title3.png",this.objTitle3.anchor.setTo(.5,.5),this.objTitle3.x=.38*SCALED_WIDTH+230,this.objTitle3.y=.15*SCALED_HEIGHT+85,this.objUIGroup.add(this.objTitle3),this.objTitle1=game.add.sprite(0,0,"atlas-game1"),this.objTitle1.frameName="obj-title1.png",this.objTitle1.anchor.setTo(.5,.5),this.objTitle1.x=.38*SCALED_WIDTH+5,this.objTitle1.y=.15*SCALED_HEIGHT,this.objUIGroup.add(this.objTitle1),this.btnPlay=objGameModule.createButton(.5*SCALED_WIDTH,.6*SCALED_HEIGHT,.5,.5,this.objUIGroup,"atlas-game1","btn-play1.png","play",this.clickHandler,this),this.btnMoreGames=objGameModule.createButton(.5*SCALED_WIDTH,.6*SCALED_HEIGHT+120,.5,.5,this.objUIGroup,"btn-moregames","","moregames",this.clickHandler,this),this.objGMenuBoard=new titlemenuboard(this.objUIGroup,this.clickHandler,this),this.objGMenuBoard.x=0,this.objGMenuBoard.y=SCALED_HEIGHT,this.btnMenu=objGameModule.createButton(0,0,0,1,this.objUIGroup,"atlas-game1","btn-menu.png","menuHandler",this.clickHandler,this),this.objCredits=new creditsboard(this.objUIGroup,this.clickHandler,this),this.objCredits.group.x=.5*SCALED_WIDTH,this.objCredits.group.y=.5*SCALED_HEIGHT,objAudioHandler.isBGMPlaying()||(objAudioHandler.playBGM("BGM_mainmenu",!0),objAudioHandler.fadeInBGM()),this.start()},start:function(){var e=160/this.btnMoreGames.width;this.objTitle1.scale.setTo(0,0),this.objTitle2.scale.setTo(0,0),this.objTitle3.scale.setTo(0,0),this.btnPlay.scale.setTo(0,0),this.btnMoreGames.scale.setTo(0,0),this.btnMenu.x=-this.btnMenu.width,this.btnMenu.y=SCALED_HEIGHT+this.btnMenu.height,game.add.tween(this.objTitle1.scale).to({x:1,y:1},1e3,Phaser.Easing.Elastic.Out,!0,0),objAudioHandler.playSFX("SFX_Blob"),game.time.events.add(200,function(){game.add.tween(this.objTitle2.scale).to({x:1,y:1},1e3,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(400,function(){game.add.tween(this.objTitle3.scale).to({x:1,y:1},1e3,Phaser.Easing.Elastic.Out,!0),game.add.tween(this.btnMenu).to({x:0,y:SCALED_HEIGHT+10},600,Phaser.Easing.Quadratic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(500,function(){game.add.tween(this.btnPlay.scale).to({x:1,y:1},1e3,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this),game.time.events.add(600,function(){game.add.tween(this.btnMoreGames.scale).to({x:e,y:e},1e3,Phaser.Easing.Elastic.Out,!0),objAudioHandler.playSFX("SFX_Blob")},this)},clickHandler:function(e){switch(e.name){case"play":objGameModule.callTransitionIn(function(){game.state.start("StageSelect")},this);break;case"showCredits":this.objCredits.show();break;case"hideCredits":this.objCredits.hide();break;case"menuHandler":this.objGMenuBoard.group.visible?this.objGMenuBoard.hide():this.objGMenuBoard.show();break;case"moregames":window.company.moreGamesLink()}},shutdown:function(){this.bgTitle.destroy(),this.bgTitle=null,this.objTitle2.destroy(),this.objTitle2=null,this.objTitle3.destroy(),this.objTitle3=null,this.objTitle1.destroy(),this.objTitle1=null,this.btnPlay.destroy(),this.btnPlay=null,this.btnMoreGames.destroy(),this.btnMoreGames=null,this.btnMenu.destroy(),this.btnMenu=null,this.objGMenuBoard.destroy(),this.objGMenuBoard=null,this.objCredits.destroy(),this.objCredits=null,objGameModule.destroyAllButtons(),this.objBGGroup.removeAll(),this.objBGGroup.destroy(),this.objBGGroup=null,this.objUIGroup.removeAll(),this.objUIGroup.destroy(),this.objUIGroup=null}};
function onTouchPreventDefault(e){e.preventDefault()}function startGame(){var e=window.innerWidth,t=window.innerHeight,a=t/e;SCALED_WIDTH=REAL_WIDTH,a>=1?SCALED_HEIGHT=Math.ceil(REAL_WIDTH*a):SCALED_HEIGHT=REAL_HEIGHT,

/*text1*/
SCALED_HEIGHT<REAL_HEIGHT&&(SCALED_HEIGHT=REAL_HEIGHT),
SCALED_HEIGHT>860&&(SCALED_HEIGHT=860),

/*phaser*/
//alert(window.innerWidth+" "+window.innerHeight+" "+SCALED_WIDTH+" "+SCALED_HEIGHT),
game=new Phaser.Game(SCALED_WIDTH,SCALED_HEIGHT,Phaser.AUTO,"game");

//fullscreen
//if(qv("fullscreen"))setTimeout(function(){game.scale.setMinMax(window.innerWidth,window.innerHeight,window.innerWidth,window.innerHeight)},2000);

game.antialias=!0,objGameModule=new module,game.state.add("Boot",Main.boot),game.state.add("Preloader",Main.preloader),game.state.add("Title",Main.title),game.state.add("StageSelect",Main.stageselect),game.state.add("Game",Main.game),game.state.start("Boot")}LANG="eg",window.addEventListener("load",function(){function e(e){e.preventDefault()}document.addEventListener("touchmove",e,!1),document.addEventListener("touchstart",e,!1)},!1);
